   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"main.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.global	Interval_counter
  19              		.section	.bss.Interval_counter,"aw",%nobits
  20              		.align	2
  23              	Interval_counter:
  24 0000 00000000 		.space	4
  25              		.global	Timer2_Counter
  26              		.section	.bss.Timer2_Counter,"aw",%nobits
  27              		.align	2
  30              	Timer2_Counter:
  31 0000 00000000 		.space	4
  32              		.comm	packet_buffer,1024,4
  33              		.comm	gDATABUF,2048,4
  34              		.global	gWIZNETINFO
  35              		.section	.data.gWIZNETINFO,"aw",%progbits
  36              		.align	2
  39              	gWIZNETINFO:
  40 0000 00       		.byte	0
  41 0001 08       		.byte	8
  42 0002 DC       		.byte	-36
  43 0003 00       		.byte	0
  44 0004 AB       		.byte	-85
  45 0005 CD       		.byte	-51
  46 0006 0A       		.byte	10
  47 0007 00       		.byte	0
  48 0008 00       		.byte	0
  49 0009 BC       		.byte	-68
  50 000a FF       		.byte	-1
  51 000b 00       		.byte	0
  52 000c 00       		.byte	0
  53 000d 00       		.byte	0
  54 000e 0A       		.byte	10
  55 000f 00       		.byte	0
  56 0010 00       		.byte	0
  57 0011 01       		.byte	1
  58 0012 08       		.byte	8
  59 0013 08       		.byte	8
  60 0014 08       		.byte	8
  61 0015 08       		.byte	8
  62 0016 02       		.byte	2
  63              		.global	secondary_dns_server
  64              		.section	.data.secondary_dns_server,"aw",%progbits
  65              		.align	2
  68              	secondary_dns_server:
  69 0000 08       		.byte	8
  70 0001 08       		.byte	8
  71 0002 04       		.byte	4
  72 0003 04       		.byte	4
  73              		.global	ip_configed
  74              		.section	.bss.ip_configed,"aw",%nobits
  77              	ip_configed:
  78 0000 00       		.space	1
  79              		.global	lock_on
  80              		.section	.bss.lock_on,"aw",%nobits
  83              	lock_on:
  84 0000 00       		.space	1
  85              		.comm	broker,92,4
  86              		.section	.text.wizchip_select,"ax",%progbits
  87              		.align	2
  88              		.thumb
  89              		.thumb_func
  91              	wizchip_select:
  92              	.LFB29:
  93              		.file 1 "/home/virusv/TDSAST_IOT/User/main.c"
   1:/home/virusv/TDSAST_IOT/User/main.c **** /* 
   2:/home/virusv/TDSAST_IOT/User/main.c ****  * File: /home/virusv/TDSAST_IOT/User/main.c
   3:/home/virusv/TDSAST_IOT/User/main.c ****  * Project: /home/virusv/TDSAST_IOT
   4:/home/virusv/TDSAST_IOT/User/main.c ****  * Created Date: Saturday, September 23rd 2017, 11:15:08 am
   5:/home/virusv/TDSAST_IOT/User/main.c ****  * Author: Virus.V
   6:/home/virusv/TDSAST_IOT/User/main.c ****  * E-mail: virusv@qq.com
   7:/home/virusv/TDSAST_IOT/User/main.c ****  * -----
   8:/home/virusv/TDSAST_IOT/User/main.c ****  * Modified By: Virus.V
   9:/home/virusv/TDSAST_IOT/User/main.c ****  * Last Modified: Fri Oct 06 2017
  10:/home/virusv/TDSAST_IOT/User/main.c ****  * -----
  11:/home/virusv/TDSAST_IOT/User/main.c ****  * Copyright (c) 2017 TD-SAST
  12:/home/virusv/TDSAST_IOT/User/main.c ****  * 
  13:/home/virusv/TDSAST_IOT/User/main.c ****  * This program is free software: you can redistribute it and/or modify
  14:/home/virusv/TDSAST_IOT/User/main.c ****  * it under the terms of the GNU Lesser General Public License as published by
  15:/home/virusv/TDSAST_IOT/User/main.c ****  * the Free Software Foundation, either version 3 of the License, or
  16:/home/virusv/TDSAST_IOT/User/main.c ****  * (at your option) any later version.
  17:/home/virusv/TDSAST_IOT/User/main.c ****  * 
  18:/home/virusv/TDSAST_IOT/User/main.c ****  * This program is distributed in the hope that it will be useful,
  19:/home/virusv/TDSAST_IOT/User/main.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  20:/home/virusv/TDSAST_IOT/User/main.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  21:/home/virusv/TDSAST_IOT/User/main.c ****  * GNU General Public License for more details.
  22:/home/virusv/TDSAST_IOT/User/main.c ****  * 
  23:/home/virusv/TDSAST_IOT/User/main.c ****  * You should have received a copy of the GNU General Public License
  24:/home/virusv/TDSAST_IOT/User/main.c ****  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  25:/home/virusv/TDSAST_IOT/User/main.c ****  */
  26:/home/virusv/TDSAST_IOT/User/main.c **** 
  27:/home/virusv/TDSAST_IOT/User/main.c **** #include <stdio.h>
  28:/home/virusv/TDSAST_IOT/User/main.c **** #include <stdint.h>
  29:/home/virusv/TDSAST_IOT/User/main.c **** #include <string.h>
  30:/home/virusv/TDSAST_IOT/User/main.c **** #include "stm32f10x.h"
  31:/home/virusv/TDSAST_IOT/User/main.c **** #include "initialize.h"
  32:/home/virusv/TDSAST_IOT/User/main.c **** #include "OLED.h"
  33:/home/virusv/TDSAST_IOT/User/main.c **** #include "socket.h"
  34:/home/virusv/TDSAST_IOT/User/main.c **** #include "DNS/dns.h"
  35:/home/virusv/TDSAST_IOT/User/main.c **** #include "DHCP/dhcp.h"
  36:/home/virusv/TDSAST_IOT/User/main.c **** #include "libemqtt.h"
  37:/home/virusv/TDSAST_IOT/User/main.c **** 
  38:/home/virusv/TDSAST_IOT/User/main.c **** #define SOCK_MQTT       0
  39:/home/virusv/TDSAST_IOT/User/main.c **** #define SOCK_TCPS       1
  40:/home/virusv/TDSAST_IOT/User/main.c **** #define SOCK_UDPS       2
  41:/home/virusv/TDSAST_IOT/User/main.c **** #define SOCK_DNS		6
  42:/home/virusv/TDSAST_IOT/User/main.c **** #define SOCK_DHCP		7
  43:/home/virusv/TDSAST_IOT/User/main.c **** __IO uint32_t Interval_counter = 0; // MQTT发送心跳包的延时
  44:/home/virusv/TDSAST_IOT/User/main.c **** __IO uint32_t Timer2_Counter = 0; //Timer2定时器计数变量(ms)
  45:/home/virusv/TDSAST_IOT/User/main.c **** #define DATA_BUF_SIZE   2048
  46:/home/virusv/TDSAST_IOT/User/main.c **** #define WAIT_PACKET_TIME 500
  47:/home/virusv/TDSAST_IOT/User/main.c **** 
  48:/home/virusv/TDSAST_IOT/User/main.c **** #define MQTT_RCVBUFSIZE 1024
  49:/home/virusv/TDSAST_IOT/User/main.c **** /* MQTT接收缓冲区 */
  50:/home/virusv/TDSAST_IOT/User/main.c **** uint8_t packet_buffer[MQTT_RCVBUFSIZE];
  51:/home/virusv/TDSAST_IOT/User/main.c **** /* Socket缓冲区 */
  52:/home/virusv/TDSAST_IOT/User/main.c **** uint8_t gDATABUF[DATA_BUF_SIZE];
  53:/home/virusv/TDSAST_IOT/User/main.c **** /* 默认网络配置参数 */
  54:/home/virusv/TDSAST_IOT/User/main.c **** wiz_NetInfo gWIZNETINFO = { {0x00, 0x08, 0xdc,0x00, 0xab, 0xcd}, //MAC
  55:/home/virusv/TDSAST_IOT/User/main.c ****                             {10, 0, 0, 188}, //IP 
  56:/home/virusv/TDSAST_IOT/User/main.c ****                             {255, 0, 0, 0}, //Subnet Mask
  57:/home/virusv/TDSAST_IOT/User/main.c ****                             {10, 0, 0, 1}, //Gateway
  58:/home/virusv/TDSAST_IOT/User/main.c ****                             {8, 8, 8, 8}, // Google public DNS Server (Primary)
  59:/home/virusv/TDSAST_IOT/User/main.c ****                             NETINFO_DHCP }; //NETINFO_STATIC
  60:/home/virusv/TDSAST_IOT/User/main.c **** /* 备用DNS服务器 */
  61:/home/virusv/TDSAST_IOT/User/main.c **** uint8_t secondary_dns_server[4] = {8, 8, 4, 4}; // Google public DNS Server (Secondary)
  62:/home/virusv/TDSAST_IOT/User/main.c **** //uint8_t ip_from_dns[4]; // 从dns获得的ip地址
  63:/home/virusv/TDSAST_IOT/User/main.c **** /* 获得IP标志位 */
  64:/home/virusv/TDSAST_IOT/User/main.c **** uint8_t ip_configed = 0,lock_on = 0;
  65:/home/virusv/TDSAST_IOT/User/main.c **** /* MQTT代理对象 */
  66:/home/virusv/TDSAST_IOT/User/main.c **** mqtt_broker_handle_t broker;
  67:/home/virusv/TDSAST_IOT/User/main.c **** 
  68:/home/virusv/TDSAST_IOT/User/main.c **** //W5500的片选信号 回调
  69:/home/virusv/TDSAST_IOT/User/main.c **** static void wizchip_select(void){
  94              		.loc 1 69 0
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 0
  97              		@ frame_needed = 1, uses_anonymous_args = 0
  98 0000 80B5     		push	{r7, lr}
  99              		.cfi_def_cfa_offset 8
 100              		.cfi_offset 7, -8
 101              		.cfi_offset 14, -4
 102 0002 00AF     		add	r7, sp, #0
 103              		.cfi_def_cfa_register 7
  70:/home/virusv/TDSAST_IOT/User/main.c ****     GPIO_ResetBits(GPIOA, GPIO_Pin_4);//置W5500的SCS为低电平
 104              		.loc 1 70 0
 105 0004 0248     		ldr	r0, .L2
 106 0006 1021     		movs	r1, #16
 107 0008 FFF7FEFF 		bl	GPIO_ResetBits
  71:/home/virusv/TDSAST_IOT/User/main.c **** }
 108              		.loc 1 71 0
 109 000c 80BD     		pop	{r7, pc}
 110              	.L3:
 111 000e 00BF     		.align	2
 112              	.L2:
 113 0010 00080140 		.word	1073809408
 114              		.cfi_endproc
 115              	.LFE29:
 117              		.section	.text.wizchip_deselect,"ax",%progbits
 118              		.align	2
 119              		.thumb
 120              		.thumb_func
 122              	wizchip_deselect:
 123              	.LFB30:
  72:/home/virusv/TDSAST_IOT/User/main.c **** //W5500的片选信号 回调
  73:/home/virusv/TDSAST_IOT/User/main.c **** static void wizchip_deselect(void){
 124              		.loc 1 73 0
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 0
 127              		@ frame_needed = 1, uses_anonymous_args = 0
 128 0000 80B5     		push	{r7, lr}
 129              		.cfi_def_cfa_offset 8
 130              		.cfi_offset 7, -8
 131              		.cfi_offset 14, -4
 132 0002 00AF     		add	r7, sp, #0
 133              		.cfi_def_cfa_register 7
  74:/home/virusv/TDSAST_IOT/User/main.c ****     GPIO_SetBits(GPIOA, GPIO_Pin_4);//置W5500的SCS为高电平
 134              		.loc 1 74 0
 135 0004 0248     		ldr	r0, .L5
 136 0006 1021     		movs	r1, #16
 137 0008 FFF7FEFF 		bl	GPIO_SetBits
  75:/home/virusv/TDSAST_IOT/User/main.c **** }
 138              		.loc 1 75 0
 139 000c 80BD     		pop	{r7, pc}
 140              	.L6:
 141 000e 00BF     		.align	2
 142              	.L5:
 143 0010 00080140 		.word	1073809408
 144              		.cfi_endproc
 145              	.LFE30:
 147              		.section	.text.wizchip_write,"ax",%progbits
 148              		.align	2
 149              		.thumb
 150              		.thumb_func
 152              	wizchip_write:
 153              	.LFB31:
  76:/home/virusv/TDSAST_IOT/User/main.c **** 
  77:/home/virusv/TDSAST_IOT/User/main.c **** //向w5500 写一个字节，回调函数
  78:/home/virusv/TDSAST_IOT/User/main.c **** static void wizchip_write(uint8_t wb){
 154              		.loc 1 78 0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 8
 157              		@ frame_needed = 1, uses_anonymous_args = 0
 158 0000 80B5     		push	{r7, lr}
 159              		.cfi_def_cfa_offset 8
 160              		.cfi_offset 7, -8
 161              		.cfi_offset 14, -4
 162 0002 82B0     		sub	sp, sp, #8
 163              		.cfi_def_cfa_offset 16
 164 0004 00AF     		add	r7, sp, #0
 165              		.cfi_def_cfa_register 7
 166 0006 0346     		mov	r3, r0
 167 0008 FB71     		strb	r3, [r7, #7]
  79:/home/virusv/TDSAST_IOT/User/main.c ****     //printf("W%02x ", wb);
  80:/home/virusv/TDSAST_IOT/User/main.c ****     SPI_I2S_SendData(SPI1, wb);//写1个字节数据
 168              		.loc 1 80 0
 169 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 170 000c 9BB2     		uxth	r3, r3
 171 000e 0748     		ldr	r0, .L9
 172 0010 1946     		mov	r1, r3
 173 0012 FFF7FEFF 		bl	SPI_I2S_SendData
  81:/home/virusv/TDSAST_IOT/User/main.c ****     while(SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_TXE) == RESET);//等待数据寄存器空
 174              		.loc 1 81 0
 175 0016 00BF     		nop
 176              	.L8:
 177              		.loc 1 81 0 is_stmt 0 discriminator 1
 178 0018 0448     		ldr	r0, .L9
 179 001a 0221     		movs	r1, #2
 180 001c FFF7FEFF 		bl	SPI_I2S_GetFlagStatus
 181 0020 0346     		mov	r3, r0
 182 0022 002B     		cmp	r3, #0
 183 0024 F8D0     		beq	.L8
  82:/home/virusv/TDSAST_IOT/User/main.c **** }
 184              		.loc 1 82 0 is_stmt 1
 185 0026 0837     		adds	r7, r7, #8
 186              		.cfi_def_cfa_offset 8
 187 0028 BD46     		mov	sp, r7
 188              		.cfi_def_cfa_register 13
 189              		@ sp needed
 190 002a 80BD     		pop	{r7, pc}
 191              	.L10:
 192              		.align	2
 193              	.L9:
 194 002c 00300140 		.word	1073819648
 195              		.cfi_endproc
 196              	.LFE31:
 198              		.section	.text.wizchip_read,"ax",%progbits
 199              		.align	2
 200              		.thumb
 201              		.thumb_func
 203              	wizchip_read:
 204              	.LFB32:
  83:/home/virusv/TDSAST_IOT/User/main.c **** 
  84:/home/virusv/TDSAST_IOT/User/main.c **** //从w5500读一个字节，回调函数
  85:/home/virusv/TDSAST_IOT/User/main.c **** static uint8_t wizchip_read(void){
 205              		.loc 1 85 0
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 8
 208              		@ frame_needed = 1, uses_anonymous_args = 0
 209 0000 80B5     		push	{r7, lr}
 210              		.cfi_def_cfa_offset 8
 211              		.cfi_offset 7, -8
 212              		.cfi_offset 14, -4
 213 0002 82B0     		sub	sp, sp, #8
 214              		.cfi_def_cfa_offset 16
 215 0004 00AF     		add	r7, sp, #0
 216              		.cfi_def_cfa_register 7
  86:/home/virusv/TDSAST_IOT/User/main.c ****     uint8_t i;
  87:/home/virusv/TDSAST_IOT/User/main.c ****     i = SPI_I2S_ReceiveData(SPI1);//读取1个字节数据
 217              		.loc 1 87 0
 218 0006 0948     		ldr	r0, .L13
 219 0008 FFF7FEFF 		bl	SPI_I2S_ReceiveData
 220 000c 0346     		mov	r3, r0
 221 000e FB71     		strb	r3, [r7, #7]
  88:/home/virusv/TDSAST_IOT/User/main.c ****     wizchip_write(0x00);//发送一个哑数据 !!!
 222              		.loc 1 88 0
 223 0010 0020     		movs	r0, #0
 224 0012 FFF7FEFF 		bl	wizchip_write
  89:/home/virusv/TDSAST_IOT/User/main.c ****     i = SPI_I2S_ReceiveData(SPI1);//读取1个字节数据
 225              		.loc 1 89 0
 226 0016 0548     		ldr	r0, .L13
 227 0018 FFF7FEFF 		bl	SPI_I2S_ReceiveData
 228 001c 0346     		mov	r3, r0
 229 001e FB71     		strb	r3, [r7, #7]
  90:/home/virusv/TDSAST_IOT/User/main.c ****     //printf("R%02x ", i);
  91:/home/virusv/TDSAST_IOT/User/main.c ****     return i;//读取1个字节数据
 230              		.loc 1 91 0
 231 0020 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
  92:/home/virusv/TDSAST_IOT/User/main.c **** }
 232              		.loc 1 92 0
 233 0022 1846     		mov	r0, r3
 234 0024 0837     		adds	r7, r7, #8
 235              		.cfi_def_cfa_offset 8
 236 0026 BD46     		mov	sp, r7
 237              		.cfi_def_cfa_register 13
 238              		@ sp needed
 239 0028 80BD     		pop	{r7, pc}
 240              	.L14:
 241 002a 00BF     		.align	2
 242              	.L13:
 243 002c 00300140 		.word	1073819648
 244              		.cfi_endproc
 245              	.LFE32:
 247              		.section	.text.delay_ms,"ax",%progbits
 248              		.align	2
 249              		.global	delay_ms
 250              		.thumb
 251              		.thumb_func
 253              	delay_ms:
 254              	.LFB33:
  93:/home/virusv/TDSAST_IOT/User/main.c **** 
  94:/home/virusv/TDSAST_IOT/User/main.c **** /* 采用TIM2产生1ms时基延时 */
  95:/home/virusv/TDSAST_IOT/User/main.c **** void delay_ms(uint32_t x){
 255              		.loc 1 95 0
 256              		.cfi_startproc
 257              		@ args = 0, pretend = 0, frame = 8
 258              		@ frame_needed = 1, uses_anonymous_args = 0
 259 0000 80B5     		push	{r7, lr}
 260              		.cfi_def_cfa_offset 8
 261              		.cfi_offset 7, -8
 262              		.cfi_offset 14, -4
 263 0002 82B0     		sub	sp, sp, #8
 264              		.cfi_def_cfa_offset 16
 265 0004 00AF     		add	r7, sp, #0
 266              		.cfi_def_cfa_register 7
 267 0006 7860     		str	r0, [r7, #4]
  96:/home/virusv/TDSAST_IOT/User/main.c **** 	Timer2_Counter = 0; 
 268              		.loc 1 96 0
 269 0008 064B     		ldr	r3, .L18
 270 000a 0022     		movs	r2, #0
 271 000c 1A60     		str	r2, [r3]
  97:/home/virusv/TDSAST_IOT/User/main.c **** 	while(Timer2_Counter < x){
 272              		.loc 1 97 0
 273 000e 01E0     		b	.L16
 274              	.L17:
  98:/home/virusv/TDSAST_IOT/User/main.c ****         /* 喂狗 */
  99:/home/virusv/TDSAST_IOT/User/main.c ****         IWDG_ReloadCounter();
 275              		.loc 1 99 0
 276 0010 FFF7FEFF 		bl	IWDG_ReloadCounter
 277              	.L16:
  97:/home/virusv/TDSAST_IOT/User/main.c **** 	while(Timer2_Counter < x){
 278              		.loc 1 97 0
 279 0014 034B     		ldr	r3, .L18
 280 0016 1A68     		ldr	r2, [r3]
 281 0018 7B68     		ldr	r3, [r7, #4]
 282 001a 9A42     		cmp	r2, r3
 283 001c F8D3     		bcc	.L17
 100:/home/virusv/TDSAST_IOT/User/main.c ****     }
 101:/home/virusv/TDSAST_IOT/User/main.c **** }
 284              		.loc 1 101 0
 285 001e 0837     		adds	r7, r7, #8
 286              		.cfi_def_cfa_offset 8
 287 0020 BD46     		mov	sp, r7
 288              		.cfi_def_cfa_register 13
 289              		@ sp needed
 290 0022 80BD     		pop	{r7, pc}
 291              	.L19:
 292              		.align	2
 293              	.L18:
 294 0024 00000000 		.word	Timer2_Counter
 295              		.cfi_endproc
 296              	.LFE33:
 298              		.section	.rodata
 299              		.align	2
 300              	.LC2:
 301 0000 44484350 		.ascii	"DHCP\000"
 301      00
 302 0005 000000   		.align	2
 303              	.LC3:
 304 0008 53544154 		.ascii	"STATIC\000"
 304      494300
 305 000f 00       		.align	2
 306              	.LC4:
 307 0010 25733A25 		.ascii	"%s:%s\000"
 307      7300
 308 0016 0000     		.align	2
 309              	.LC5:
 310 0018 4D41433A 		.ascii	"MAC:%02X:%02X:%02X:%02X:%02X:%02X\000"
 310      25303258 
 310      3A253032 
 310      583A2530 
 310      32583A25 
 311 003a 0000     		.align	2
 312              	.LC6:
 313 003c 5349503A 		.ascii	"SIP:%d.%d.%d.%d\000"
 313      25642E25 
 313      642E2564 
 313      2E256400 
 314              		.align	2
 315              	.LC7:
 316 004c 4741523A 		.ascii	"GAR:%d.%d.%d.%d\000"
 316      25642E25 
 316      642E2564 
 316      2E256400 
 317              		.align	2
 318              	.LC8:
 319 005c 5355423A 		.ascii	"SUB:%d.%d.%d.%d\000"
 319      25642E25 
 319      642E2564 
 319      2E256400 
 320              		.align	2
 321              	.LC9:
 322 006c 444E533A 		.ascii	"DNS:%d.%d.%d.%d\000"
 322      25642E25 
 322      642E2564 
 322      2E256400 
 323              		.section	.text.display_netinfo,"ax",%progbits
 324              		.align	2
 325              		.thumb
 326              		.thumb_func
 328              	display_netinfo:
 329              	.LFB34:
 102:/home/virusv/TDSAST_IOT/User/main.c **** 
 103:/home/virusv/TDSAST_IOT/User/main.c **** static void display_netinfo(void){
 330              		.loc 1 103 0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 56
 333              		@ frame_needed = 1, uses_anonymous_args = 0
 334 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 335              		.cfi_def_cfa_offset 20
 336              		.cfi_offset 4, -20
 337              		.cfi_offset 5, -16
 338              		.cfi_offset 6, -12
 339              		.cfi_offset 7, -8
 340              		.cfi_offset 14, -4
 341 0002 95B0     		sub	sp, sp, #84
 342              		.cfi_def_cfa_offset 104
 343 0004 06AF     		add	r7, sp, #24
 344              		.cfi_def_cfa 7, 80
 104:/home/virusv/TDSAST_IOT/User/main.c ****     char tmpstr[6],disp[22];
 105:/home/virusv/TDSAST_IOT/User/main.c ****     wiz_NetInfo netinfo;
 106:/home/virusv/TDSAST_IOT/User/main.c ****     ctlnetwork(CN_GET_NETINFO, (void*)&netinfo);
 345              		.loc 1 106 0
 346 0006 3B46     		mov	r3, r7
 347 0008 0120     		movs	r0, #1
 348 000a 1946     		mov	r1, r3
 349 000c FFF7FEFF 		bl	ctlnetwork
 107:/home/virusv/TDSAST_IOT/User/main.c ****     // 显示网络信息
 108:/home/virusv/TDSAST_IOT/User/main.c ****     ctlwizchip(CW_GET_ID,(void*)tmpstr);
 350              		.loc 1 108 0
 351 0010 07F13003 		add	r3, r7, #48
 352 0014 0820     		movs	r0, #8
 353 0016 1946     		mov	r1, r3
 354 0018 FFF7FEFF 		bl	ctlwizchip
 109:/home/virusv/TDSAST_IOT/User/main.c ****     snprintf(disp, sizeof(disp), "%s:%s", tmpstr, (netinfo.dhcp == NETINFO_DHCP ? "DHCP" : "STATIC"
 355              		.loc 1 109 0
 356 001c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 357 001e 022B     		cmp	r3, #2
 358 0020 01D1     		bne	.L21
 359              		.loc 1 109 0 is_stmt 0 discriminator 1
 360 0022 564B     		ldr	r3, .L23
 361 0024 00E0     		b	.L22
 362              	.L21:
 363              		.loc 1 109 0 discriminator 2
 364 0026 564B     		ldr	r3, .L23+4
 365              	.L22:
 366              		.loc 1 109 0 discriminator 4
 367 0028 07F11802 		add	r2, r7, #24
 368 002c 07F13004 		add	r4, r7, #48
 369 0030 0093     		str	r3, [sp]
 370 0032 1046     		mov	r0, r2
 371 0034 1621     		movs	r1, #22
 372 0036 534A     		ldr	r2, .L23+8
 373 0038 2346     		mov	r3, r4
 374 003a FFF7FEFF 		bl	snprintf
 110:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_ShowString(0, 1, disp, 8, 0);
 375              		.loc 1 110 0 is_stmt 1 discriminator 4
 376 003e 07F11802 		add	r2, r7, #24
 377 0042 0023     		movs	r3, #0
 378 0044 0093     		str	r3, [sp]
 379 0046 0020     		movs	r0, #0
 380 0048 0121     		movs	r1, #1
 381 004a 0823     		movs	r3, #8
 382 004c FFF7FEFF 		bl	Driver_OLED_ShowString
 111:/home/virusv/TDSAST_IOT/User/main.c **** 
 112:/home/virusv/TDSAST_IOT/User/main.c ****     snprintf(disp, sizeof(disp), "MAC:%02X:%02X:%02X:%02X:%02X:%02X",netinfo.mac[0],netinfo.mac[1],
 383              		.loc 1 112 0 discriminator 4
 384 0050 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 385 0052 1E46     		mov	r6, r3
 386 0054 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 387 0056 1D46     		mov	r5, r3
 388 0058 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 389 005a 1C46     		mov	r4, r3
 113:/home/virusv/TDSAST_IOT/User/main.c ****             netinfo.mac[3],netinfo.mac[4],netinfo.mac[5]);
 390              		.loc 1 113 0 discriminator 4
 391 005c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 112:/home/virusv/TDSAST_IOT/User/main.c ****             netinfo.mac[3],netinfo.mac[4],netinfo.mac[5]);
 392              		.loc 1 112 0 discriminator 4
 393 005e 1846     		mov	r0, r3
 394              		.loc 1 113 0 discriminator 4
 395 0060 3B79     		ldrb	r3, [r7, #4]	@ zero_extendqisi2
 112:/home/virusv/TDSAST_IOT/User/main.c ****             netinfo.mac[3],netinfo.mac[4],netinfo.mac[5]);
 396              		.loc 1 112 0 discriminator 4
 397 0062 1946     		mov	r1, r3
 398              		.loc 1 113 0 discriminator 4
 399 0064 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 112:/home/virusv/TDSAST_IOT/User/main.c ****             netinfo.mac[3],netinfo.mac[4],netinfo.mac[5]);
 400              		.loc 1 112 0 discriminator 4
 401 0066 1A46     		mov	r2, r3
 402 0068 07F11803 		add	r3, r7, #24
 403 006c 0095     		str	r5, [sp]
 404 006e 0194     		str	r4, [sp, #4]
 405 0070 0290     		str	r0, [sp, #8]
 406 0072 0391     		str	r1, [sp, #12]
 407 0074 0492     		str	r2, [sp, #16]
 408 0076 1846     		mov	r0, r3
 409 0078 1621     		movs	r1, #22
 410 007a 434A     		ldr	r2, .L23+12
 411 007c 3346     		mov	r3, r6
 412 007e FFF7FEFF 		bl	snprintf
 114:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_ShowString(0, 2, disp, 8, 0);
 413              		.loc 1 114 0 discriminator 4
 414 0082 07F11802 		add	r2, r7, #24
 415 0086 0023     		movs	r3, #0
 416 0088 0093     		str	r3, [sp]
 417 008a 0020     		movs	r0, #0
 418 008c 0221     		movs	r1, #2
 419 008e 0823     		movs	r3, #8
 420 0090 FFF7FEFF 		bl	Driver_OLED_ShowString
 115:/home/virusv/TDSAST_IOT/User/main.c ****     snprintf(disp, sizeof(disp), "SIP:%d.%d.%d.%d", netinfo.ip[0],netinfo.ip[1],netinfo.ip[2],netin
 421              		.loc 1 115 0 discriminator 4
 422 0094 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 423 0096 1C46     		mov	r4, r3
 424 0098 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 425 009a 1846     		mov	r0, r3
 426 009c 3B7A     		ldrb	r3, [r7, #8]	@ zero_extendqisi2
 427 009e 1946     		mov	r1, r3
 428 00a0 7B7A     		ldrb	r3, [r7, #9]	@ zero_extendqisi2
 429 00a2 1A46     		mov	r2, r3
 430 00a4 07F11803 		add	r3, r7, #24
 431 00a8 0090     		str	r0, [sp]
 432 00aa 0191     		str	r1, [sp, #4]
 433 00ac 0292     		str	r2, [sp, #8]
 434 00ae 1846     		mov	r0, r3
 435 00b0 1621     		movs	r1, #22
 436 00b2 364A     		ldr	r2, .L23+16
 437 00b4 2346     		mov	r3, r4
 438 00b6 FFF7FEFF 		bl	snprintf
 116:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_ShowString(0, 3, disp, 8, 0);
 439              		.loc 1 116 0 discriminator 4
 440 00ba 07F11802 		add	r2, r7, #24
 441 00be 0023     		movs	r3, #0
 442 00c0 0093     		str	r3, [sp]
 443 00c2 0020     		movs	r0, #0
 444 00c4 0321     		movs	r1, #3
 445 00c6 0823     		movs	r3, #8
 446 00c8 FFF7FEFF 		bl	Driver_OLED_ShowString
 117:/home/virusv/TDSAST_IOT/User/main.c ****     snprintf(disp, sizeof(disp), "GAR:%d.%d.%d.%d", netinfo.gw[0],netinfo.gw[1],netinfo.gw[2],netin
 447              		.loc 1 117 0 discriminator 4
 448 00cc BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 449 00ce 1C46     		mov	r4, r3
 450 00d0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 451 00d2 1846     		mov	r0, r3
 452 00d4 3B7C     		ldrb	r3, [r7, #16]	@ zero_extendqisi2
 453 00d6 1946     		mov	r1, r3
 454 00d8 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 455 00da 1A46     		mov	r2, r3
 456 00dc 07F11803 		add	r3, r7, #24
 457 00e0 0090     		str	r0, [sp]
 458 00e2 0191     		str	r1, [sp, #4]
 459 00e4 0292     		str	r2, [sp, #8]
 460 00e6 1846     		mov	r0, r3
 461 00e8 1621     		movs	r1, #22
 462 00ea 294A     		ldr	r2, .L23+20
 463 00ec 2346     		mov	r3, r4
 464 00ee FFF7FEFF 		bl	snprintf
 118:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_ShowString(0, 4, disp, 8, 0);
 465              		.loc 1 118 0 discriminator 4
 466 00f2 07F11802 		add	r2, r7, #24
 467 00f6 0023     		movs	r3, #0
 468 00f8 0093     		str	r3, [sp]
 469 00fa 0020     		movs	r0, #0
 470 00fc 0421     		movs	r1, #4
 471 00fe 0823     		movs	r3, #8
 472 0100 FFF7FEFF 		bl	Driver_OLED_ShowString
 119:/home/virusv/TDSAST_IOT/User/main.c ****     snprintf(disp, sizeof(disp), "SUB:%d.%d.%d.%d", netinfo.sn[0],netinfo.sn[1],netinfo.sn[2],netin
 473              		.loc 1 119 0 discriminator 4
 474 0104 BB7A     		ldrb	r3, [r7, #10]	@ zero_extendqisi2
 475 0106 1C46     		mov	r4, r3
 476 0108 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 477 010a 1846     		mov	r0, r3
 478 010c 3B7B     		ldrb	r3, [r7, #12]	@ zero_extendqisi2
 479 010e 1946     		mov	r1, r3
 480 0110 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 481 0112 1A46     		mov	r2, r3
 482 0114 07F11803 		add	r3, r7, #24
 483 0118 0090     		str	r0, [sp]
 484 011a 0191     		str	r1, [sp, #4]
 485 011c 0292     		str	r2, [sp, #8]
 486 011e 1846     		mov	r0, r3
 487 0120 1621     		movs	r1, #22
 488 0122 1C4A     		ldr	r2, .L23+24
 489 0124 2346     		mov	r3, r4
 490 0126 FFF7FEFF 		bl	snprintf
 120:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_ShowString(0, 5, disp, 8, 0);
 491              		.loc 1 120 0 discriminator 4
 492 012a 07F11802 		add	r2, r7, #24
 493 012e 0023     		movs	r3, #0
 494 0130 0093     		str	r3, [sp]
 495 0132 0020     		movs	r0, #0
 496 0134 0521     		movs	r1, #5
 497 0136 0823     		movs	r3, #8
 498 0138 FFF7FEFF 		bl	Driver_OLED_ShowString
 121:/home/virusv/TDSAST_IOT/User/main.c ****     snprintf(disp, sizeof(disp), "DNS:%d.%d.%d.%d", netinfo.dns[0],netinfo.dns[1],netinfo.dns[2],ne
 499              		.loc 1 121 0 discriminator 4
 500 013c BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 501 013e 1C46     		mov	r4, r3
 502 0140 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 503 0142 1846     		mov	r0, r3
 504 0144 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 505 0146 1946     		mov	r1, r3
 506 0148 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 507 014a 1A46     		mov	r2, r3
 508 014c 07F11803 		add	r3, r7, #24
 509 0150 0090     		str	r0, [sp]
 510 0152 0191     		str	r1, [sp, #4]
 511 0154 0292     		str	r2, [sp, #8]
 512 0156 1846     		mov	r0, r3
 513 0158 1621     		movs	r1, #22
 514 015a 0F4A     		ldr	r2, .L23+28
 515 015c 2346     		mov	r3, r4
 516 015e FFF7FEFF 		bl	snprintf
 122:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_ShowString(0, 6, disp, 8, 0);
 517              		.loc 1 122 0 discriminator 4
 518 0162 07F11802 		add	r2, r7, #24
 519 0166 0023     		movs	r3, #0
 520 0168 0093     		str	r3, [sp]
 521 016a 0020     		movs	r0, #0
 522 016c 0621     		movs	r1, #6
 523 016e 0823     		movs	r3, #8
 524 0170 FFF7FEFF 		bl	Driver_OLED_ShowString
 123:/home/virusv/TDSAST_IOT/User/main.c **** }
 525              		.loc 1 123 0 discriminator 4
 526 0174 3C37     		adds	r7, r7, #60
 527              		.cfi_def_cfa_offset 20
 528 0176 BD46     		mov	sp, r7
 529              		.cfi_def_cfa_register 13
 530              		@ sp needed
 531 0178 F0BD     		pop	{r4, r5, r6, r7, pc}
 532              	.L24:
 533 017a 00BF     		.align	2
 534              	.L23:
 535 017c 00000000 		.word	.LC2
 536 0180 08000000 		.word	.LC3
 537 0184 10000000 		.word	.LC4
 538 0188 18000000 		.word	.LC5
 539 018c 3C000000 		.word	.LC6
 540 0190 4C000000 		.word	.LC7
 541 0194 5C000000 		.word	.LC8
 542 0198 6C000000 		.word	.LC9
 543              		.cfi_endproc
 544              	.LFE34:
 546              		.section	.rodata
 547              		.align	2
 548              	.LC10:
 549 007c 3E3E2044 		.ascii	">> DHCP Failed\000"
 549      48435020 
 549      4661696C 
 549      656400
 550              		.section	.text.DHCPClient,"ax",%progbits
 551              		.align	2
 552              		.global	DHCPClient
 553              		.thumb
 554              		.thumb_func
 556              	DHCPClient:
 557              	.LFB35:
 124:/home/virusv/TDSAST_IOT/User/main.c **** 
 125:/home/virusv/TDSAST_IOT/User/main.c **** //DHCP客户端
 126:/home/virusv/TDSAST_IOT/User/main.c **** void DHCPClient(void){
 558              		.loc 1 126 0
 559              		.cfi_startproc
 560              		@ args = 0, pretend = 0, frame = 8
 561              		@ frame_needed = 1, uses_anonymous_args = 0
 562 0000 80B5     		push	{r7, lr}
 563              		.cfi_def_cfa_offset 8
 564              		.cfi_offset 7, -8
 565              		.cfi_offset 14, -4
 566 0002 84B0     		sub	sp, sp, #16
 567              		.cfi_def_cfa_offset 24
 568 0004 02AF     		add	r7, sp, #8
 569              		.cfi_def_cfa 7, 16
 127:/home/virusv/TDSAST_IOT/User/main.c ****     uint8_t dhcp_ret = 0; //ip是否被配置
 570              		.loc 1 127 0
 571 0006 0023     		movs	r3, #0
 572 0008 FB71     		strb	r3, [r7, #7]
 128:/home/virusv/TDSAST_IOT/User/main.c ****     /* DHCP IP allocation and check the DHCP lease time (for IP renewal) */
 129:/home/virusv/TDSAST_IOT/User/main.c ****     if(gWIZNETINFO.dhcp == NETINFO_DHCP) {
 573              		.loc 1 129 0
 574 000a 224B     		ldr	r3, .L29
 575 000c 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 576 000e 022B     		cmp	r3, #2
 577 0010 3CD1     		bne	.L25
 130:/home/virusv/TDSAST_IOT/User/main.c **** 
 131:/home/virusv/TDSAST_IOT/User/main.c ****         dhcp_ret = DHCP_run();
 578              		.loc 1 131 0
 579 0012 FFF7FEFF 		bl	DHCP_run
 580 0016 0346     		mov	r3, r0
 581 0018 FB71     		strb	r3, [r7, #7]
 132:/home/virusv/TDSAST_IOT/User/main.c **** 
 133:/home/virusv/TDSAST_IOT/User/main.c ****         if((dhcp_ret == DHCP_SUCCESS) || (dhcp_ret == DHCP_IP_CHANGED)) {
 582              		.loc 1 133 0
 583 001a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 584 001c 012B     		cmp	r3, #1
 585 001e 02D0     		beq	.L27
 586              		.loc 1 133 0 is_stmt 0 discriminator 1
 587 0020 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 588 0022 022B     		cmp	r3, #2
 589 0024 19D1     		bne	.L28
 590              	.L27:
 134:/home/virusv/TDSAST_IOT/User/main.c ****             getIPfromDHCP(gWIZNETINFO.ip);
 591              		.loc 1 134 0 is_stmt 1
 592 0026 1C48     		ldr	r0, .L29+4
 593 0028 FFF7FEFF 		bl	getIPfromDHCP
 135:/home/virusv/TDSAST_IOT/User/main.c ****             getGWfromDHCP(gWIZNETINFO.gw);
 594              		.loc 1 135 0
 595 002c 1B48     		ldr	r0, .L29+8
 596 002e FFF7FEFF 		bl	getGWfromDHCP
 136:/home/virusv/TDSAST_IOT/User/main.c ****             getSNfromDHCP(gWIZNETINFO.sn);
 597              		.loc 1 136 0
 598 0032 1B48     		ldr	r0, .L29+12
 599 0034 FFF7FEFF 		bl	getSNfromDHCP
 137:/home/virusv/TDSAST_IOT/User/main.c ****             getDNSfromDHCP(gWIZNETINFO.dns);
 600              		.loc 1 137 0
 601 0038 1A48     		ldr	r0, .L29+16
 602 003a FFF7FEFF 		bl	getDNSfromDHCP
 138:/home/virusv/TDSAST_IOT/User/main.c ****             gWIZNETINFO.dhcp = NETINFO_DHCP;
 603              		.loc 1 138 0
 604 003e 154B     		ldr	r3, .L29
 605 0040 0222     		movs	r2, #2
 606 0042 9A75     		strb	r2, [r3, #22]
 139:/home/virusv/TDSAST_IOT/User/main.c ****             ctlnetwork(CN_SET_NETINFO, (void*)&gWIZNETINFO);
 607              		.loc 1 139 0
 608 0044 0020     		movs	r0, #0
 609 0046 1349     		ldr	r1, .L29
 610 0048 FFF7FEFF 		bl	ctlnetwork
 140:/home/virusv/TDSAST_IOT/User/main.c ****             //ip已被成功配置
 141:/home/virusv/TDSAST_IOT/User/main.c ****             ip_configed = 1;
 611              		.loc 1 141 0
 612 004c 164B     		ldr	r3, .L29+20
 613 004e 0122     		movs	r2, #1
 614 0050 1A70     		strb	r2, [r3]
 142:/home/virusv/TDSAST_IOT/User/main.c ****             // 显示ip租约时间
 143:/home/virusv/TDSAST_IOT/User/main.c ****             //printf("DHCP IP Leased Time : %ld Sec\r\n", getDHCPLeasetime());
 144:/home/virusv/TDSAST_IOT/User/main.c ****             display_netinfo();
 615              		.loc 1 144 0
 616 0052 FFF7FEFF 		bl	display_netinfo
 145:/home/virusv/TDSAST_IOT/User/main.c ****             /* 喂狗 */
 146:/home/virusv/TDSAST_IOT/User/main.c ****             IWDG_ReloadCounter();
 617              		.loc 1 146 0
 618 0056 FFF7FEFF 		bl	IWDG_ReloadCounter
 619              	.L28:
 147:/home/virusv/TDSAST_IOT/User/main.c ****         }
 148:/home/virusv/TDSAST_IOT/User/main.c ****         if(dhcp_ret == DHCP_FAILED)	{
 620              		.loc 1 148 0
 621 005a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 622 005c 002B     		cmp	r3, #0
 623 005e 15D1     		bne	.L25
 149:/home/virusv/TDSAST_IOT/User/main.c ****             //printf(">> DHCP Failed\r\n");
 150:/home/virusv/TDSAST_IOT/User/main.c ****             Driver_OLED_ShowString(0, 1, ">> DHCP Failed", 8, 0);
 624              		.loc 1 150 0
 625 0060 0023     		movs	r3, #0
 626 0062 0093     		str	r3, [sp]
 627 0064 0020     		movs	r0, #0
 628 0066 0121     		movs	r1, #1
 629 0068 104A     		ldr	r2, .L29+24
 630 006a 0823     		movs	r3, #8
 631 006c FFF7FEFF 		bl	Driver_OLED_ShowString
 151:/home/virusv/TDSAST_IOT/User/main.c ****             /* 设置IP模式为静态 */
 152:/home/virusv/TDSAST_IOT/User/main.c ****             gWIZNETINFO.dhcp = NETINFO_STATIC;
 632              		.loc 1 152 0
 633 0070 084B     		ldr	r3, .L29
 634 0072 0122     		movs	r2, #1
 635 0074 9A75     		strb	r2, [r3, #22]
 153:/home/virusv/TDSAST_IOT/User/main.c ****             /* 应用网络配置 */
 154:/home/virusv/TDSAST_IOT/User/main.c ****             ctlnetwork(CN_SET_NETINFO, (void*)&gWIZNETINFO);
 636              		.loc 1 154 0
 637 0076 0020     		movs	r0, #0
 638 0078 0649     		ldr	r1, .L29
 639 007a FFF7FEFF 		bl	ctlnetwork
 155:/home/virusv/TDSAST_IOT/User/main.c ****             // 显示ip内容
 156:/home/virusv/TDSAST_IOT/User/main.c ****             display_netinfo();
 640              		.loc 1 156 0
 641 007e FFF7FEFF 		bl	display_netinfo
 157:/home/virusv/TDSAST_IOT/User/main.c ****             /* 喂狗 */
 158:/home/virusv/TDSAST_IOT/User/main.c ****             IWDG_ReloadCounter();
 642              		.loc 1 158 0
 643 0082 FFF7FEFF 		bl	IWDG_ReloadCounter
 159:/home/virusv/TDSAST_IOT/User/main.c ****             //ip已被成功配置
 160:/home/virusv/TDSAST_IOT/User/main.c ****             ip_configed = 1;
 644              		.loc 1 160 0
 645 0086 084B     		ldr	r3, .L29+20
 646 0088 0122     		movs	r2, #1
 647 008a 1A70     		strb	r2, [r3]
 648              	.L25:
 161:/home/virusv/TDSAST_IOT/User/main.c ****         }
 162:/home/virusv/TDSAST_IOT/User/main.c ****     }
 163:/home/virusv/TDSAST_IOT/User/main.c **** }
 649              		.loc 1 163 0
 650 008c 0837     		adds	r7, r7, #8
 651              		.cfi_def_cfa_offset 8
 652 008e BD46     		mov	sp, r7
 653              		.cfi_def_cfa_register 13
 654              		@ sp needed
 655 0090 80BD     		pop	{r7, pc}
 656              	.L30:
 657 0092 00BF     		.align	2
 658              	.L29:
 659 0094 00000000 		.word	gWIZNETINFO
 660 0098 06000000 		.word	gWIZNETINFO+6
 661 009c 0E000000 		.word	gWIZNETINFO+14
 662 00a0 0A000000 		.word	gWIZNETINFO+10
 663 00a4 12000000 		.word	gWIZNETINFO+18
 664 00a8 00000000 		.word	ip_configed
 665 00ac 7C000000 		.word	.LC10
 666              		.cfi_endproc
 667              	.LFE35:
 669              		.section	.text.DNSClient,"ax",%progbits
 670              		.align	2
 671              		.global	DNSClient
 672              		.thumb
 673              		.thumb_func
 675              	DNSClient:
 676              	.LFB36:
 164:/home/virusv/TDSAST_IOT/User/main.c **** 
 165:/home/virusv/TDSAST_IOT/User/main.c **** //DNS 客户端，参数是域名，返回ip地址，失败返回0
 166:/home/virusv/TDSAST_IOT/User/main.c **** uint8_t DNSClient(uint8_t *hostname, uint8_t ip_from_dns[]){
 677              		.loc 1 166 0
 678              		.cfi_startproc
 679              		@ args = 0, pretend = 0, frame = 16
 680              		@ frame_needed = 1, uses_anonymous_args = 0
 681 0000 80B5     		push	{r7, lr}
 682              		.cfi_def_cfa_offset 8
 683              		.cfi_offset 7, -8
 684              		.cfi_offset 14, -4
 685 0002 84B0     		sub	sp, sp, #16
 686              		.cfi_def_cfa_offset 24
 687 0004 00AF     		add	r7, sp, #0
 688              		.cfi_def_cfa_register 7
 689 0006 7860     		str	r0, [r7, #4]
 690 0008 3960     		str	r1, [r7]
 167:/home/virusv/TDSAST_IOT/User/main.c ****     uint8_t tmp = 0;
 691              		.loc 1 167 0
 692 000a 0023     		movs	r3, #0
 693 000c FB73     		strb	r3, [r7, #15]
 168:/home/virusv/TDSAST_IOT/User/main.c ****     /* DNS client initialization */
 169:/home/virusv/TDSAST_IOT/User/main.c ****     DNS_init(SOCK_DNS, gDATABUF);
 694              		.loc 1 169 0
 695 000e 0620     		movs	r0, #6
 696 0010 0749     		ldr	r1, .L33
 697 0012 FFF7FEFF 		bl	DNS_init
 170:/home/virusv/TDSAST_IOT/User/main.c **** 
 171:/home/virusv/TDSAST_IOT/User/main.c ****     /* DNS query & response */
 172:/home/virusv/TDSAST_IOT/User/main.c ****     tmp = DNS_run(gWIZNETINFO.dns, secondary_dns_server, hostname, ip_from_dns);
 698              		.loc 1 172 0
 699 0016 0748     		ldr	r0, .L33+4
 700 0018 0749     		ldr	r1, .L33+8
 701 001a 7A68     		ldr	r2, [r7, #4]
 702 001c 3B68     		ldr	r3, [r7]
 703 001e FFF7FEFF 		bl	DNS_run
 704 0022 0346     		mov	r3, r0
 705 0024 FB73     		strb	r3, [r7, #15]
 173:/home/virusv/TDSAST_IOT/User/main.c ****     //tmp = DNS_run(gWIZNETINFO.dns, 0, hostname, ip_from_dns); // if you want to use only primary 
 174:/home/virusv/TDSAST_IOT/User/main.c ****     return tmp;
 706              		.loc 1 174 0
 707 0026 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 175:/home/virusv/TDSAST_IOT/User/main.c **** }
 708              		.loc 1 175 0
 709 0028 1846     		mov	r0, r3
 710 002a 1037     		adds	r7, r7, #16
 711              		.cfi_def_cfa_offset 8
 712 002c BD46     		mov	sp, r7
 713              		.cfi_def_cfa_register 13
 714              		@ sp needed
 715 002e 80BD     		pop	{r7, pc}
 716              	.L34:
 717              		.align	2
 718              	.L33:
 719 0030 00000000 		.word	gDATABUF
 720 0034 12000000 		.word	gWIZNETINFO+18
 721 0038 00000000 		.word	secondary_dns_server
 722              		.cfi_endproc
 723              	.LFE36:
 725              		.section	.text.send_packet,"ax",%progbits
 726              		.align	2
 727              		.thumb
 728              		.thumb_func
 730              	send_packet:
 731              	.LFB37:
 176:/home/virusv/TDSAST_IOT/User/main.c **** 
 177:/home/virusv/TDSAST_IOT/User/main.c **** static int send_packet(void* socket_info, const void* buf, unsigned int count) {
 732              		.loc 1 177 0
 733              		.cfi_startproc
 734              		@ args = 0, pretend = 0, frame = 24
 735              		@ frame_needed = 1, uses_anonymous_args = 0
 736 0000 80B5     		push	{r7, lr}
 737              		.cfi_def_cfa_offset 8
 738              		.cfi_offset 7, -8
 739              		.cfi_offset 14, -4
 740 0002 86B0     		sub	sp, sp, #24
 741              		.cfi_def_cfa_offset 32
 742 0004 00AF     		add	r7, sp, #0
 743              		.cfi_def_cfa_register 7
 744 0006 F860     		str	r0, [r7, #12]
 745 0008 B960     		str	r1, [r7, #8]
 746 000a 7A60     		str	r2, [r7, #4]
 178:/home/virusv/TDSAST_IOT/User/main.c ****     int fd = (int)socket_info;
 747              		.loc 1 178 0
 748 000c FB68     		ldr	r3, [r7, #12]
 749 000e 7B61     		str	r3, [r7, #20]
 179:/home/virusv/TDSAST_IOT/User/main.c ****     return send(fd, (uint8_t *)buf, count);
 750              		.loc 1 179 0
 751 0010 7B69     		ldr	r3, [r7, #20]
 752 0012 DAB2     		uxtb	r2, r3
 753 0014 7B68     		ldr	r3, [r7, #4]
 754 0016 9BB2     		uxth	r3, r3
 755 0018 1046     		mov	r0, r2
 756 001a B968     		ldr	r1, [r7, #8]
 757 001c 1A46     		mov	r2, r3
 758 001e FFF7FEFF 		bl	send
 759 0022 0346     		mov	r3, r0
 180:/home/virusv/TDSAST_IOT/User/main.c **** }
 760              		.loc 1 180 0
 761 0024 1846     		mov	r0, r3
 762 0026 1837     		adds	r7, r7, #24
 763              		.cfi_def_cfa_offset 8
 764 0028 BD46     		mov	sp, r7
 765              		.cfi_def_cfa_register 13
 766              		@ sp needed
 767 002a 80BD     		pop	{r7, pc}
 768              		.cfi_endproc
 769              	.LFE37:
 771              		.section	.text.read_packet,"ax",%progbits
 772              		.align	2
 773              		.global	read_packet
 774              		.thumb
 775              		.thumb_func
 777              	read_packet:
 778              	.LFB38:
 181:/home/virusv/TDSAST_IOT/User/main.c **** 
 182:/home/virusv/TDSAST_IOT/User/main.c **** int read_packet(void){
 779              		.loc 1 182 0
 780              		.cfi_startproc
 781              		@ args = 0, pretend = 0, frame = 16
 782              		@ frame_needed = 1, uses_anonymous_args = 0
 783 0000 80B5     		push	{r7, lr}
 784              		.cfi_def_cfa_offset 8
 785              		.cfi_offset 7, -8
 786              		.cfi_offset 14, -4
 787 0002 84B0     		sub	sp, sp, #16
 788              		.cfi_def_cfa_offset 24
 789 0004 00AF     		add	r7, sp, #0
 790              		.cfi_def_cfa_register 7
 183:/home/virusv/TDSAST_IOT/User/main.c ****     int total_bytes = 0, bytes_rcvd, packet_length;
 791              		.loc 1 183 0
 792 0006 0023     		movs	r3, #0
 793 0008 FB60     		str	r3, [r7, #12]
 184:/home/virusv/TDSAST_IOT/User/main.c ****     uint8_t rem_len_bytes;  // 1~4
 185:/home/virusv/TDSAST_IOT/User/main.c ****     uint16_t rem_len;   // 数据包中数据长度
 186:/home/virusv/TDSAST_IOT/User/main.c **** 
 187:/home/virusv/TDSAST_IOT/User/main.c **** 	memset(packet_buffer, 0, sizeof(packet_buffer));
 794              		.loc 1 187 0
 795 000a 2A48     		ldr	r0, .L45
 796 000c 0021     		movs	r1, #0
 797 000e 4FF48062 		mov	r2, #1024
 798 0012 FFF7FEFF 		bl	memset
 188:/home/virusv/TDSAST_IOT/User/main.c **** 	
 189:/home/virusv/TDSAST_IOT/User/main.c **** 	if((bytes_rcvd = recv(SOCK_MQTT, packet_buffer, MQTT_RCVBUFSIZE)) <= 0) {
 799              		.loc 1 189 0
 800 0016 0020     		movs	r0, #0
 801 0018 2649     		ldr	r1, .L45
 802 001a 4FF48062 		mov	r2, #1024
 803 001e FFF7FEFF 		bl	recv
 804 0022 B860     		str	r0, [r7, #8]
 805 0024 BB68     		ldr	r3, [r7, #8]
 806 0026 002B     		cmp	r3, #0
 807 0028 02DC     		bgt	.L38
 190:/home/virusv/TDSAST_IOT/User/main.c **** 		return -1;
 808              		.loc 1 190 0
 809 002a 4FF0FF33 		mov	r3, #-1
 810 002e 3DE0     		b	.L39
 811              	.L38:
 191:/home/virusv/TDSAST_IOT/User/main.c ****     }
 192:/home/virusv/TDSAST_IOT/User/main.c ****     
 193:/home/virusv/TDSAST_IOT/User/main.c **** 	total_bytes += bytes_rcvd;
 812              		.loc 1 193 0
 813 0030 FA68     		ldr	r2, [r7, #12]
 814 0032 BB68     		ldr	r3, [r7, #8]
 815 0034 1344     		add	r3, r3, r2
 816 0036 FB60     		str	r3, [r7, #12]
 194:/home/virusv/TDSAST_IOT/User/main.c **** 	if (total_bytes < 2) return -1;
 817              		.loc 1 194 0
 818 0038 FB68     		ldr	r3, [r7, #12]
 819 003a 012B     		cmp	r3, #1
 820 003c 02DC     		bgt	.L40
 821              		.loc 1 194 0 is_stmt 0 discriminator 1
 822 003e 4FF0FF33 		mov	r3, #-1
 823 0042 33E0     		b	.L39
 824              	.L40:
 195:/home/virusv/TDSAST_IOT/User/main.c ****     
 196:/home/virusv/TDSAST_IOT/User/main.c ****     /* 获得帧中保存载荷数据长度的可变数据长度 */
 197:/home/virusv/TDSAST_IOT/User/main.c ****     rem_len_bytes = mqtt_num_rem_len_bytes(packet_buffer);
 825              		.loc 1 197 0 is_stmt 1
 826 0044 1B48     		ldr	r0, .L45
 827 0046 FFF7FEFF 		bl	mqtt_num_rem_len_bytes
 828 004a 0346     		mov	r3, r0
 829 004c FB71     		strb	r3, [r7, #7]
 198:/home/virusv/TDSAST_IOT/User/main.c **** 	/* 获得载荷数据长度 */
 199:/home/virusv/TDSAST_IOT/User/main.c ****     rem_len = mqtt_parse_rem_len(packet_buffer);
 830              		.loc 1 199 0
 831 004e 1948     		ldr	r0, .L45
 832 0050 FFF7FEFF 		bl	mqtt_parse_rem_len
 833 0054 0346     		mov	r3, r0
 834 0056 BB80     		strh	r3, [r7, #4]	@ movhi
 200:/home/virusv/TDSAST_IOT/User/main.c ****     
 201:/home/virusv/TDSAST_IOT/User/main.c **** 	// 数据包总长度 = 载荷长度 + 1byte帧头 + 帧中表示载荷长度的可变数据长度
 202:/home/virusv/TDSAST_IOT/User/main.c ****     packet_length = rem_len + rem_len_bytes + 1;
 835              		.loc 1 202 0
 836 0058 BA88     		ldrh	r2, [r7, #4]
 837 005a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 838 005c 1344     		add	r3, r3, r2
 839 005e 0133     		adds	r3, r3, #1
 840 0060 3B60     		str	r3, [r7]
 203:/home/virusv/TDSAST_IOT/User/main.c ****     // 判断数据长度是否大于缓冲区大小
 204:/home/virusv/TDSAST_IOT/User/main.c ****     if(packet_length >= MQTT_RCVBUFSIZE) return -1;
 841              		.loc 1 204 0
 842 0062 3B68     		ldr	r3, [r7]
 843 0064 B3F5806F 		cmp	r3, #1024
 844 0068 02DB     		blt	.L41
 845              		.loc 1 204 0 is_stmt 0 discriminator 1
 846 006a 4FF0FF33 		mov	r3, #-1
 847 006e 1DE0     		b	.L39
 848              	.L41:
 205:/home/virusv/TDSAST_IOT/User/main.c ****     
 206:/home/virusv/TDSAST_IOT/User/main.c **** 	while(total_bytes < packet_length){ //接收剩下的数据
 849              		.loc 1 206 0 is_stmt 1
 850 0070 17E0     		b	.L42
 851              	.L44:
 207:/home/virusv/TDSAST_IOT/User/main.c **** 		if((bytes_rcvd = recv(SOCK_MQTT, (packet_buffer+total_bytes), (MQTT_RCVBUFSIZE - total_bytes))) <
 852              		.loc 1 207 0
 853 0072 FB68     		ldr	r3, [r7, #12]
 854 0074 0F4A     		ldr	r2, .L45
 855 0076 1A44     		add	r2, r2, r3
 856 0078 FB68     		ldr	r3, [r7, #12]
 857 007a 9BB2     		uxth	r3, r3
 858 007c C3F58063 		rsb	r3, r3, #1024
 859 0080 9BB2     		uxth	r3, r3
 860 0082 0020     		movs	r0, #0
 861 0084 1146     		mov	r1, r2
 862 0086 1A46     		mov	r2, r3
 863 0088 FFF7FEFF 		bl	recv
 864 008c B860     		str	r0, [r7, #8]
 865 008e BB68     		ldr	r3, [r7, #8]
 866 0090 002B     		cmp	r3, #0
 867 0092 02DC     		bgt	.L43
 868              		.loc 1 207 0 is_stmt 0 discriminator 1
 869 0094 4FF0FF33 		mov	r3, #-1
 870 0098 08E0     		b	.L39
 871              	.L43:
 208:/home/virusv/TDSAST_IOT/User/main.c **** 		total_bytes += bytes_rcvd;
 872              		.loc 1 208 0 is_stmt 1
 873 009a FA68     		ldr	r2, [r7, #12]
 874 009c BB68     		ldr	r3, [r7, #8]
 875 009e 1344     		add	r3, r3, r2
 876 00a0 FB60     		str	r3, [r7, #12]
 877              	.L42:
 206:/home/virusv/TDSAST_IOT/User/main.c **** 		if((bytes_rcvd = recv(SOCK_MQTT, (packet_buffer+total_bytes), (MQTT_RCVBUFSIZE - total_bytes))) <
 878              		.loc 1 206 0
 879 00a2 FA68     		ldr	r2, [r7, #12]
 880 00a4 3B68     		ldr	r3, [r7]
 881 00a6 9A42     		cmp	r2, r3
 882 00a8 E3DB     		blt	.L44
 209:/home/virusv/TDSAST_IOT/User/main.c **** 	}
 210:/home/virusv/TDSAST_IOT/User/main.c **** 
 211:/home/virusv/TDSAST_IOT/User/main.c **** 	return packet_length;
 883              		.loc 1 211 0
 884 00aa 3B68     		ldr	r3, [r7]
 885              	.L39:
 212:/home/virusv/TDSAST_IOT/User/main.c **** }
 886              		.loc 1 212 0
 887 00ac 1846     		mov	r0, r3
 888 00ae 1037     		adds	r7, r7, #16
 889              		.cfi_def_cfa_offset 8
 890 00b0 BD46     		mov	sp, r7
 891              		.cfi_def_cfa_register 13
 892              		@ sp needed
 893 00b2 80BD     		pop	{r7, pc}
 894              	.L46:
 895              		.align	2
 896              	.L45:
 897 00b4 00000000 		.word	packet_buffer
 898              		.cfi_endproc
 899              	.LFE38:
 901              		.section	.rodata
 902 008b 00       		.align	2
 903              	.LC11:
 904 008c 54445341 		.ascii	"TDSAST-IOT V1.2.4\000"
 904      53542D49 
 904      4F542056 
 904      312E322E 
 904      3400
 905 009e 0000     		.align	2
 906              	.LC12:
 907 00a0 556E6B6E 		.ascii	"Unknow PHY Link stat.\000"
 907      6F772050 
 907      4859204C 
 907      696E6B20 
 907      73746174 
 908 00b6 0000     		.align	2
 909              	.LC13:
 910 00b8 4E455420 		.ascii	"NET Initialized fail.\000"
 910      496E6974 
 910      69616C69 
 910      7A656420 
 910      6661696C 
 911 00ce 0000     		.align	2
 912              	.LC14:
 913 00d0 4950204D 		.ascii	"IP Mode Incorrect!\000"
 913      6F646520 
 913      496E636F 
 913      72726563 
 913      742100
 914 00e3 00       		.align	2
 915              	.LC15:
 916 00e4 7364632E 		.ascii	"sdc.tdsast.cn\000"
 916      74647361 
 916      73742E63 
 916      6E00
 917 00f2 0000     		.align	2
 918              	.LC16:
 919 00f4 74647361 		.ascii	"tdsast-iot-ext-door\000"
 919      73742D69 
 919      6F742D65 
 919      78742D64 
 919      6F6F7200 
 920              		.align	2
 921              	.LC17:
 922 0108 65787464 		.ascii	"extdoor\000"
 922      6F6F7200 
 923              		.align	2
 924              	.LC18:
 925 0110 65787464 		.ascii	"extdoor12345\000"
 925      6F6F7231 
 925      32333435 
 925      00
 926 011d 000000   		.align	2
 927              	.LC19:
 928 0120 52656164 		.ascii	"Read CONN pack error.\000"
 928      20434F4E 
 928      4E207061 
 928      636B2065 
 928      72726F72 
 929 0136 0000     		.align	2
 930              	.LC20:
 931 0138 434F4E4E 		.ascii	"CONNACK expected!\000"
 931      41434B20 
 931      65787065 
 931      63746564 
 931      2100
 932 014a 0000     		.align	2
 933              	.LC21:
 934 014c 434F4E4E 		.ascii	"CONNACK failed!\000"
 934      41434B20 
 934      6661696C 
 934      65642100 
 935              		.align	2
 936              	.LC22:
 937 015c 74645F63 		.ascii	"td_cloud/tdsast/ext_door\000"
 937      6C6F7564 
 937      2F746473 
 937      6173742F 
 937      6578745F 
 938 0175 000000   		.align	2
 939              	.LC23:
 940 0178 52656164 		.ascii	"Read SUBS pack error.\000"
 940      20535542 
 940      53207061 
 940      636B2065 
 940      72726F72 
 941 018e 0000     		.align	2
 942              	.LC24:
 943 0190 53554241 		.ascii	"SUBACK expected!\000"
 943      434B2065 
 943      78706563 
 943      74656421 
 943      00
 944 01a1 000000   		.align	2
 945              	.LC25:
 946 01a4 4C6F636B 		.ascii	"Lock ON\000"
 946      204F4E00 
 947              		.align	2
 948              	.LC0:
 949 01ac 02       		.byte	2
 950 01ad 02       		.byte	2
 951 01ae 02       		.byte	2
 952 01af 02       		.byte	2
 953 01b0 02       		.byte	2
 954 01b1 02       		.byte	2
 955 01b2 02       		.byte	2
 956 01b3 02       		.byte	2
 957 01b4 02       		.byte	2
 958 01b5 02       		.byte	2
 959 01b6 02       		.byte	2
 960 01b7 02       		.byte	2
 961 01b8 02       		.byte	2
 962 01b9 02       		.byte	2
 963 01ba 02       		.byte	2
 964 01bb 02       		.byte	2
 965              		.align	2
 966              	.LC1:
 967 01bc 8B       		.byte	-117
 968 01bd 81       		.byte	-127
 969 01be 13       		.byte	19
 970 01bf 1D       		.byte	29
 971              		.section	.text.main,"ax",%progbits
 972              		.align	2
 973              		.global	main
 974              		.thumb
 975              		.thumb_func
 977              	main:
 978              	.LFB39:
 213:/home/virusv/TDSAST_IOT/User/main.c **** 
 214:/home/virusv/TDSAST_IOT/User/main.c **** int main(void){
 979              		.loc 1 214 0
 980              		.cfi_startproc
 981              		@ args = 0, pretend = 0, frame = 168
 982              		@ frame_needed = 1, uses_anonymous_args = 0
 983 0000 90B5     		push	{r4, r7, lr}
 984              		.cfi_def_cfa_offset 12
 985              		.cfi_offset 4, -12
 986              		.cfi_offset 7, -8
 987              		.cfi_offset 14, -4
 988 0002 ADB0     		sub	sp, sp, #180
 989              		.cfi_def_cfa_offset 192
 990 0004 02AF     		add	r7, sp, #8
 991              		.cfi_def_cfa 7, 184
 215:/home/virusv/TDSAST_IOT/User/main.c ****     uint8_t tmp = 0;
 992              		.loc 1 215 0
 993 0006 0023     		movs	r3, #0
 994 0008 87F89B30 		strb	r3, [r7, #155]
 216:/home/virusv/TDSAST_IOT/User/main.c ****     uint8_t const memsize[2][8] = {{2,2,2,2,2,2,2,2},{2,2,2,2,2,2,2,2}};
 995              		.loc 1 216 0
 996 000c C34B     		ldr	r3, .L74
 997 000e 07F18804 		add	r4, r7, #136
 998 0012 1868     		ldr	r0, [r3]	@ unaligned
 999 0014 5968     		ldr	r1, [r3, #4]	@ unaligned
 1000 0016 9A68     		ldr	r2, [r3, #8]	@ unaligned
 1001 0018 DB68     		ldr	r3, [r3, #12]	@ unaligned
 1002 001a 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 217:/home/virusv/TDSAST_IOT/User/main.c ****     /* MQTT代理服务器地址 */
 218:/home/virusv/TDSAST_IOT/User/main.c ****     uint8_t server_ip[4] = {139,129,19,29};
 1003              		.loc 1 218 0
 1004 001c C04A     		ldr	r2, .L74+4
 1005 001e 07F18403 		add	r3, r7, #132
 1006 0022 1068     		ldr	r0, [r2]	@ unaligned
 1007 0024 1860     		str	r0, [r3]	@ unaligned
 219:/home/virusv/TDSAST_IOT/User/main.c ****     /* 配置远程服务器端口 */
 220:/home/virusv/TDSAST_IOT/User/main.c ****     uint16_t server_port = 1883;    // 默认是1883
 1008              		.loc 1 220 0
 1009 0026 40F25B73 		movw	r3, #1883
 1010 002a A7F8A630 		strh	r3, [r7, #166]	@ movhi
 221:/home/virusv/TDSAST_IOT/User/main.c ****     uint16_t local_port = 1123; //本地端口,可以随机值
 1011              		.loc 1 221 0
 1012 002e 40F26343 		movw	r3, #1123
 1013 0032 A7F8A430 		strh	r3, [r7, #164]	@ movhi
 222:/home/virusv/TDSAST_IOT/User/main.c **** 
 223:/home/virusv/TDSAST_IOT/User/main.c ****     int packet_length;  // 包长度
 224:/home/virusv/TDSAST_IOT/User/main.c **** 	uint16_t msg_id, msg_id_rcv;
 225:/home/virusv/TDSAST_IOT/User/main.c **** 
 226:/home/virusv/TDSAST_IOT/User/main.c ****     /* LED和锁 */
 227:/home/virusv/TDSAST_IOT/User/main.c ****     Init_led_lock();
 1014              		.loc 1 227 0
 1015 0036 FFF7FEFF 		bl	Init_led_lock
 228:/home/virusv/TDSAST_IOT/User/main.c ****     /* 产生时基 */
 229:/home/virusv/TDSAST_IOT/User/main.c ****     Init_tim2_ms_base();
 1016              		.loc 1 229 0
 1017 003a FFF7FEFF 		bl	Init_tim2_ms_base
 230:/home/virusv/TDSAST_IOT/User/main.c ****     /* OLED硬件初始化 */
 231:/home/virusv/TDSAST_IOT/User/main.c ****     Init_i2c1_oled();
 1018              		.loc 1 231 0
 1019 003e FFF7FEFF 		bl	Init_i2c1_oled
 232:/home/virusv/TDSAST_IOT/User/main.c ****     /* 初始化W5500 */
 233:/home/virusv/TDSAST_IOT/User/main.c ****     Init_spi1_w5500();
 1020              		.loc 1 233 0
 1021 0042 FFF7FEFF 		bl	Init_spi1_w5500
 234:/home/virusv/TDSAST_IOT/User/main.c ****     // 初始化独立看门狗
 235:/home/virusv/TDSAST_IOT/User/main.c ****     Init_iwdg_reset();
 1022              		.loc 1 235 0
 1023 0046 FFF7FEFF 		bl	Init_iwdg_reset
 236:/home/virusv/TDSAST_IOT/User/main.c **** 
 237:/home/virusv/TDSAST_IOT/User/main.c ****     /* 发送初始化指令序列 */
 238:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_Send_START(OLED_COMMAND);
 1024              		.loc 1 238 0
 1025 004a 0020     		movs	r0, #0
 1026 004c FFF7FEFF 		bl	Driver_OLED_Send_START
 239:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_SendDatas(oled_init, sizeof(oled_init));
 1027              		.loc 1 239 0
 1028 0050 B448     		ldr	r0, .L74+8
 1029 0052 1B21     		movs	r1, #27
 1030 0054 FFF7FEFF 		bl	Driver_OLED_SendDatas
 240:/home/virusv/TDSAST_IOT/User/main.c ****     /* 清空屏幕 */
 241:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_Fill(0x0);
 1031              		.loc 1 241 0
 1032 0058 0020     		movs	r0, #0
 1033 005a FFF7FEFF 		bl	Driver_OLED_Fill
 242:/home/virusv/TDSAST_IOT/User/main.c ****     /* 打印版本信息 */
 243:/home/virusv/TDSAST_IOT/User/main.c ****     Driver_OLED_ShowString(0, 0, "TDSAST-IOT V1.2.4", 8, 0);
 1034              		.loc 1 243 0
 1035 005e 0023     		movs	r3, #0
 1036 0060 0093     		str	r3, [sp]
 1037 0062 0020     		movs	r0, #0
 1038 0064 0021     		movs	r1, #0
 1039 0066 B04A     		ldr	r2, .L74+12
 1040 0068 0823     		movs	r3, #8
 1041 006a FFF7FEFF 		bl	Driver_OLED_ShowString
 244:/home/virusv/TDSAST_IOT/User/main.c **** 
 245:/home/virusv/TDSAST_IOT/User/main.c **** 
 246:/home/virusv/TDSAST_IOT/User/main.c ****     /* 片选回调函数 */
 247:/home/virusv/TDSAST_IOT/User/main.c **** #if _WIZCHIP_IO_MODE_ == _WIZCHIP_IO_MODE_SPI_VDM_
 248:/home/virusv/TDSAST_IOT/User/main.c ****     reg_wizchip_cs_cbfunc(wizchip_select, wizchip_deselect);
 1042              		.loc 1 248 0
 1043 006e AF48     		ldr	r0, .L74+16
 1044 0070 AF49     		ldr	r1, .L74+20
 1045 0072 FFF7FEFF 		bl	reg_wizchip_cs_cbfunc
 249:/home/virusv/TDSAST_IOT/User/main.c **** #elif _WIZCHIP_IO_MODE_ == _WIZCHIP_IO_MODE_SPI_FDM_
 250:/home/virusv/TDSAST_IOT/User/main.c ****     reg_wizchip_cs_cbfunc(wizchip_select, wizchip_select);  // CS must be tried with LOW.
 251:/home/virusv/TDSAST_IOT/User/main.c **** #else
 252:/home/virusv/TDSAST_IOT/User/main.c ****     #if (_WIZCHIP_IO_MODE_ & _WIZCHIP_IO_MODE_SIP_) != _WIZCHIP_IO_MODE_SIP_
 253:/home/virusv/TDSAST_IOT/User/main.c ****         #error "Unknown _WIZCHIP_IO_MODE_"
 254:/home/virusv/TDSAST_IOT/User/main.c ****     #else
 255:/home/virusv/TDSAST_IOT/User/main.c ****         reg_wizchip_cs_cbfunc(wizchip_select, wizchip_deselect);
 256:/home/virusv/TDSAST_IOT/User/main.c ****     #endif
 257:/home/virusv/TDSAST_IOT/User/main.c **** #endif
 258:/home/virusv/TDSAST_IOT/User/main.c ****     /* SPI读写回调函数 */
 259:/home/virusv/TDSAST_IOT/User/main.c ****     reg_wizchip_spi_cbfunc(wizchip_read, wizchip_write);
 1046              		.loc 1 259 0
 1047 0076 AF48     		ldr	r0, .L74+24
 1048 0078 AF49     		ldr	r1, .L74+28
 1049 007a FFF7FEFF 		bl	reg_wizchip_spi_cbfunc
 260:/home/virusv/TDSAST_IOT/User/main.c **** 
 261:/home/virusv/TDSAST_IOT/User/main.c ****     /* 喂狗 */
 262:/home/virusv/TDSAST_IOT/User/main.c ****     IWDG_ReloadCounter();
 1050              		.loc 1 262 0
 1051 007e FFF7FEFF 		bl	IWDG_ReloadCounter
 1052              	.L49:
 263:/home/virusv/TDSAST_IOT/User/main.c **** 
 264:/home/virusv/TDSAST_IOT/User/main.c ****     /* PHY 连接状态检查 */
 265:/home/virusv/TDSAST_IOT/User/main.c ****     do{
 266:/home/virusv/TDSAST_IOT/User/main.c ****         if(ctlwizchip(CW_GET_PHYLINK, (void*)&tmp) == -1)
 1053              		.loc 1 266 0
 1054 0082 07F19B03 		add	r3, r7, #155
 1055 0086 0F20     		movs	r0, #15
 1056 0088 1946     		mov	r1, r3
 1057 008a FFF7FEFF 		bl	ctlwizchip
 1058 008e 0346     		mov	r3, r0
 1059 0090 B3F1FF3F 		cmp	r3, #-1
 1060 0094 07D1     		bne	.L48
 267:/home/virusv/TDSAST_IOT/User/main.c ****             Driver_OLED_ShowString(0, 1, "Unknow PHY Link stat.", 8, 0);
 1061              		.loc 1 267 0
 1062 0096 0023     		movs	r3, #0
 1063 0098 0093     		str	r3, [sp]
 1064 009a 0020     		movs	r0, #0
 1065 009c 0121     		movs	r1, #1
 1066 009e A74A     		ldr	r2, .L74+32
 1067 00a0 0823     		movs	r3, #8
 1068 00a2 FFF7FEFF 		bl	Driver_OLED_ShowString
 1069              	.L48:
 268:/home/virusv/TDSAST_IOT/User/main.c ****     }while(tmp == PHY_LINK_OFF);
 1070              		.loc 1 268 0
 1071 00a6 97F89B30 		ldrb	r3, [r7, #155]	@ zero_extendqisi2
 1072 00aa 002B     		cmp	r3, #0
 1073 00ac E9D0     		beq	.L49
 269:/home/virusv/TDSAST_IOT/User/main.c **** 
 270:/home/virusv/TDSAST_IOT/User/main.c ****     /* 喂狗 */
 271:/home/virusv/TDSAST_IOT/User/main.c ****     IWDG_ReloadCounter();
 1074              		.loc 1 271 0
 1075 00ae FFF7FEFF 		bl	IWDG_ReloadCounter
 272:/home/virusv/TDSAST_IOT/User/main.c ****     
 273:/home/virusv/TDSAST_IOT/User/main.c ****     /* 初始化缓冲区 */
 274:/home/virusv/TDSAST_IOT/User/main.c ****     if(ctlwizchip(CW_INIT_WIZCHIP,(void*)memsize) == -1){
 1076              		.loc 1 274 0
 1077 00b2 07F18803 		add	r3, r7, #136
 1078 00b6 0120     		movs	r0, #1
 1079 00b8 1946     		mov	r1, r3
 1080 00ba FFF7FEFF 		bl	ctlwizchip
 1081 00be 0346     		mov	r3, r0
 1082 00c0 B3F1FF3F 		cmp	r3, #-1
 1083 00c4 08D1     		bne	.L50
 275:/home/virusv/TDSAST_IOT/User/main.c ****         Driver_OLED_ShowString(0, 1, "NET Initialized fail.", 8, 0);
 1084              		.loc 1 275 0
 1085 00c6 0023     		movs	r3, #0
 1086 00c8 0093     		str	r3, [sp]
 1087 00ca 0020     		movs	r0, #0
 1088 00cc 0121     		movs	r1, #1
 1089 00ce 9C4A     		ldr	r2, .L74+36
 1090 00d0 0823     		movs	r3, #8
 1091 00d2 FFF7FEFF 		bl	Driver_OLED_ShowString
 1092              	.L51:
 276:/home/virusv/TDSAST_IOT/User/main.c ****         while(1);
 1093              		.loc 1 276 0 discriminator 1
 1094 00d6 FEE7     		b	.L51
 1095              	.L50:
 277:/home/virusv/TDSAST_IOT/User/main.c ****     }
 278:/home/virusv/TDSAST_IOT/User/main.c **** 
 279:/home/virusv/TDSAST_IOT/User/main.c ****     /* 喂狗 */
 280:/home/virusv/TDSAST_IOT/User/main.c ****     IWDG_ReloadCounter();
 1096              		.loc 1 280 0
 1097 00d8 FFF7FEFF 		bl	IWDG_ReloadCounter
 281:/home/virusv/TDSAST_IOT/User/main.c ****     
 282:/home/virusv/TDSAST_IOT/User/main.c ****     /* 初始化网络 */
 283:/home/virusv/TDSAST_IOT/User/main.c ****     ctlnetwork(CN_SET_NETINFO, (void*)&gWIZNETINFO);
 1098              		.loc 1 283 0
 1099 00dc 0020     		movs	r0, #0
 1100 00de 9949     		ldr	r1, .L74+40
 1101 00e0 FFF7FEFF 		bl	ctlnetwork
 284:/home/virusv/TDSAST_IOT/User/main.c ****     
 285:/home/virusv/TDSAST_IOT/User/main.c ****     /* 初始化IP配置 */
 286:/home/virusv/TDSAST_IOT/User/main.c ****     if(gWIZNETINFO.dhcp == NETINFO_DHCP){
 1102              		.loc 1 286 0
 1103 00e4 974B     		ldr	r3, .L74+40
 1104 00e6 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 1105 00e8 022B     		cmp	r3, #2
 1106 00ea 04D1     		bne	.L52
 287:/home/virusv/TDSAST_IOT/User/main.c ****         /* >> DHCP 客户端 << */
 288:/home/virusv/TDSAST_IOT/User/main.c ****         DHCP_init(SOCK_DHCP, gDATABUF);
 1107              		.loc 1 288 0
 1108 00ec 0720     		movs	r0, #7
 1109 00ee 9649     		ldr	r1, .L74+44
 1110 00f0 FFF7FEFF 		bl	DHCP_init
 1111 00f4 0FE0     		b	.L53
 1112              	.L52:
 289:/home/virusv/TDSAST_IOT/User/main.c ****     }else if(gWIZNETINFO.dhcp == NETINFO_STATIC){
 1113              		.loc 1 289 0
 1114 00f6 934B     		ldr	r3, .L74+40
 1115 00f8 9B7D     		ldrb	r3, [r3, #22]	@ zero_extendqisi2
 1116 00fa 012B     		cmp	r3, #1
 1117 00fc 02D1     		bne	.L54
 290:/home/virusv/TDSAST_IOT/User/main.c ****         display_netinfo();
 1118              		.loc 1 290 0
 1119 00fe FFF7FEFF 		bl	display_netinfo
 1120 0102 08E0     		b	.L53
 1121              	.L54:
 291:/home/virusv/TDSAST_IOT/User/main.c ****     }else{
 292:/home/virusv/TDSAST_IOT/User/main.c ****         Driver_OLED_ShowString(0, 1, "IP Mode Incorrect!", 8, 0);
 1122              		.loc 1 292 0
 1123 0104 0023     		movs	r3, #0
 1124 0106 0093     		str	r3, [sp]
 1125 0108 0020     		movs	r0, #0
 1126 010a 0121     		movs	r1, #1
 1127 010c 8F4A     		ldr	r2, .L74+48
 1128 010e 0823     		movs	r3, #8
 1129 0110 FFF7FEFF 		bl	Driver_OLED_ShowString
 1130              	.L55:
 293:/home/virusv/TDSAST_IOT/User/main.c ****         while(1);
 1131              		.loc 1 293 0 discriminator 2
 1132 0114 FEE7     		b	.L55
 1133              	.L53:
 294:/home/virusv/TDSAST_IOT/User/main.c ****     }
 295:/home/virusv/TDSAST_IOT/User/main.c **** 
 296:/home/virusv/TDSAST_IOT/User/main.c ****     /* 喂狗 */
 297:/home/virusv/TDSAST_IOT/User/main.c ****     IWDG_ReloadCounter();
 1134              		.loc 1 297 0
 1135 0116 FFF7FEFF 		bl	IWDG_ReloadCounter
 298:/home/virusv/TDSAST_IOT/User/main.c **** 
 299:/home/virusv/TDSAST_IOT/User/main.c ****     /* 打印当前网络信息 */
 300:/home/virusv/TDSAST_IOT/User/main.c ****     display_netinfo();
 1136              		.loc 1 300 0
 1137 011a FFF7FEFF 		bl	display_netinfo
 1138              	.L73:
 301:/home/virusv/TDSAST_IOT/User/main.c ****     
 302:/home/virusv/TDSAST_IOT/User/main.c ****     while(1){
 303:/home/virusv/TDSAST_IOT/User/main.c ****         /**
 304:/home/virusv/TDSAST_IOT/User/main.c ****          * 自动获得IP地址,然后检查该ip地址是否到期,
 305:/home/virusv/TDSAST_IOT/User/main.c ****          * 如果到期则再次自动获取,反之直接返回,
 306:/home/virusv/TDSAST_IOT/User/main.c ****          * 保持该函数在大循环里
 307:/home/virusv/TDSAST_IOT/User/main.c ****          */
 308:/home/virusv/TDSAST_IOT/User/main.c ****         DHCPClient();   //自动获得ip地址
 1139              		.loc 1 308 0
 1140 011e FFF7FEFF 		bl	DHCPClient
 309:/home/virusv/TDSAST_IOT/User/main.c **** 
 310:/home/virusv/TDSAST_IOT/User/main.c ****         if(!ip_configed) continue;
 1141              		.loc 1 310 0
 1142 0122 8B4B     		ldr	r3, .L74+52
 1143 0124 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1144 0126 002B     		cmp	r3, #0
 1145 0128 00D1     		bne	.L56
 1146              		.loc 1 310 0 is_stmt 0 discriminator 1
 1147 012a 7FE1     		b	.L57
 1148              	.L56:
 311:/home/virusv/TDSAST_IOT/User/main.c ****     
 312:/home/virusv/TDSAST_IOT/User/main.c ****         /* 从DNS获得IP地址 */
 313:/home/virusv/TDSAST_IOT/User/main.c ****         DNSClient("sdc.tdsast.cn", server_ip);
 1149              		.loc 1 313 0 is_stmt 1
 1150 012c 07F18403 		add	r3, r7, #132
 1151 0130 8848     		ldr	r0, .L74+56
 1152 0132 1946     		mov	r1, r3
 1153 0134 FFF7FEFF 		bl	DNSClient
 314:/home/virusv/TDSAST_IOT/User/main.c ****         // do{
 315:/home/virusv/TDSAST_IOT/User/main.c ****         //     char disp[24];
 316:/home/virusv/TDSAST_IOT/User/main.c ****         //     snprintf(disp, sizeof(disp), "IP:%d.%d.%d.%d", server_ip[0],server_ip[1],server_ip[2
 317:/home/virusv/TDSAST_IOT/User/main.c ****         //     Driver_OLED_ShowString(0, 7, disp, 8, 0);
 318:/home/virusv/TDSAST_IOT/User/main.c ****         // }while(0);
 319:/home/virusv/TDSAST_IOT/User/main.c ****         // delay_ms(10000);
 320:/home/virusv/TDSAST_IOT/User/main.c ****         // continue;
 321:/home/virusv/TDSAST_IOT/User/main.c ****         
 322:/home/virusv/TDSAST_IOT/User/main.c ****         /* 喂狗 */
 323:/home/virusv/TDSAST_IOT/User/main.c ****         IWDG_ReloadCounter();
 1154              		.loc 1 323 0
 1155 0138 FFF7FEFF 		bl	IWDG_ReloadCounter
 324:/home/virusv/TDSAST_IOT/User/main.c **** 
 325:/home/virusv/TDSAST_IOT/User/main.c ****         /* 先关闭该socket */
 326:/home/virusv/TDSAST_IOT/User/main.c ****         close(SOCK_MQTT);
 1156              		.loc 1 326 0
 1157 013c 0020     		movs	r0, #0
 1158 013e FFF7FEFF 		bl	close
 327:/home/virusv/TDSAST_IOT/User/main.c ****         /* 初始化MQTT客户端 */
 328:/home/virusv/TDSAST_IOT/User/main.c ****         mqtt_init(&broker, "tdsast-iot-ext-door");
 1159              		.loc 1 328 0
 1160 0142 8548     		ldr	r0, .L74+60
 1161 0144 8549     		ldr	r1, .L74+64
 1162 0146 FFF7FEFF 		bl	mqtt_init
 329:/home/virusv/TDSAST_IOT/User/main.c ****         /* 登录MQTT服务器 */
 330:/home/virusv/TDSAST_IOT/User/main.c ****         mqtt_init_auth(&broker, "extdoor", "extdoor12345");
 1163              		.loc 1 330 0
 1164 014a 8348     		ldr	r0, .L74+60
 1165 014c 8449     		ldr	r1, .L74+68
 1166 014e 854A     		ldr	r2, .L74+72
 1167 0150 FFF7FEFF 		bl	mqtt_init_auth
 331:/home/virusv/TDSAST_IOT/User/main.c ****         
 332:/home/virusv/TDSAST_IOT/User/main.c ****         /* 喂狗 */
 333:/home/virusv/TDSAST_IOT/User/main.c ****         IWDG_ReloadCounter();
 1168              		.loc 1 333 0
 1169 0154 FFF7FEFF 		bl	IWDG_ReloadCounter
 334:/home/virusv/TDSAST_IOT/User/main.c **** 
 335:/home/virusv/TDSAST_IOT/User/main.c ****         /* 打开MQTT的socket */
 336:/home/virusv/TDSAST_IOT/User/main.c ****         socket(SOCK_MQTT, Sn_MR_TCP, local_port, Sn_MR_ND | SOCK_IO_BLOCK);
 1170              		.loc 1 336 0
 1171 0158 B7F8A430 		ldrh	r3, [r7, #164]
 1172 015c 0020     		movs	r0, #0
 1173 015e 0121     		movs	r1, #1
 1174 0160 1A46     		mov	r2, r3
 1175 0162 2023     		movs	r3, #32
 1176 0164 FFF7FEFF 		bl	socket
 337:/home/virusv/TDSAST_IOT/User/main.c ****         /* 连接MQTT服务器 */
 338:/home/virusv/TDSAST_IOT/User/main.c ****         connect(SOCK_MQTT, server_ip, server_port);
 1177              		.loc 1 338 0
 1178 0168 07F18402 		add	r2, r7, #132
 1179 016c B7F8A630 		ldrh	r3, [r7, #166]
 1180 0170 0020     		movs	r0, #0
 1181 0172 1146     		mov	r1, r2
 1182 0174 1A46     		mov	r2, r3
 1183 0176 FFF7FEFF 		bl	connect
 339:/home/virusv/TDSAST_IOT/User/main.c ****         /* MQTT stuffs */
 340:/home/virusv/TDSAST_IOT/User/main.c ****         mqtt_set_alive(&broker, 30);    // 心跳超时30秒,默认是300秒
 1184              		.loc 1 340 0
 1185 017a 7748     		ldr	r0, .L74+60
 1186 017c 1E21     		movs	r1, #30
 1187 017e FFF7FEFF 		bl	mqtt_set_alive
 341:/home/virusv/TDSAST_IOT/User/main.c ****         broker.socket_info = (void*)SOCK_MQTT; //这个只会传给send对应的函数的第一个
 1188              		.loc 1 341 0
 1189 0182 754B     		ldr	r3, .L74+60
 1190 0184 0022     		movs	r2, #0
 1191 0186 1A60     		str	r2, [r3]
 342:/home/virusv/TDSAST_IOT/User/main.c ****         broker.send = send_packet;
 1192              		.loc 1 342 0
 1193 0188 734B     		ldr	r3, .L74+60
 1194 018a 774A     		ldr	r2, .L74+76
 1195 018c 5A60     		str	r2, [r3, #4]
 343:/home/virusv/TDSAST_IOT/User/main.c ****         
 344:/home/virusv/TDSAST_IOT/User/main.c ****         /**
 345:/home/virusv/TDSAST_IOT/User/main.c ****          * 连接MQTT服务器
 346:/home/virusv/TDSAST_IOT/User/main.c ****          */
 347:/home/virusv/TDSAST_IOT/User/main.c ****         /* 喂狗 */
 348:/home/virusv/TDSAST_IOT/User/main.c ****         IWDG_ReloadCounter();
 1196              		.loc 1 348 0
 1197 018e FFF7FEFF 		bl	IWDG_ReloadCounter
 349:/home/virusv/TDSAST_IOT/User/main.c ****         // >>>>> CONNECT
 350:/home/virusv/TDSAST_IOT/User/main.c ****         mqtt_connect(&broker);
 1198              		.loc 1 350 0
 1199 0192 7148     		ldr	r0, .L74+60
 1200 0194 FFF7FEFF 		bl	mqtt_connect
 351:/home/virusv/TDSAST_IOT/User/main.c ****         // <<<<< CONNACK
 352:/home/virusv/TDSAST_IOT/User/main.c ****         packet_length = read_packet();
 1201              		.loc 1 352 0
 1202 0198 FFF7FEFF 		bl	read_packet
 1203 019c C7F8A000 		str	r0, [r7, #160]
 353:/home/virusv/TDSAST_IOT/User/main.c **** 
 354:/home/virusv/TDSAST_IOT/User/main.c ****         if(packet_length < 0){
 1204              		.loc 1 354 0
 1205 01a0 D7F8A030 		ldr	r3, [r7, #160]
 1206 01a4 002B     		cmp	r3, #0
 1207 01a6 0CDA     		bge	.L58
 355:/home/virusv/TDSAST_IOT/User/main.c ****             Driver_OLED_ShowString(0, 7, "Read CONN pack error.", 8, 0); // 显示在最后一行
 1208              		.loc 1 355 0
 1209 01a8 0023     		movs	r3, #0
 1210 01aa 0093     		str	r3, [sp]
 1211 01ac 0020     		movs	r0, #0
 1212 01ae 0721     		movs	r1, #7
 1213 01b0 6E4A     		ldr	r2, .L74+80
 1214 01b2 0823     		movs	r3, #8
 1215 01b4 FFF7FEFF 		bl	Driver_OLED_ShowString
 356:/home/virusv/TDSAST_IOT/User/main.c ****             delay_ms(1000);
 1216              		.loc 1 356 0
 1217 01b8 4FF47A70 		mov	r0, #1000
 1218 01bc FFF7FEFF 		bl	delay_ms
 357:/home/virusv/TDSAST_IOT/User/main.c ****             continue;
 1219              		.loc 1 357 0
 1220 01c0 34E1     		b	.L57
 1221              	.L58:
 358:/home/virusv/TDSAST_IOT/User/main.c ****         }
 359:/home/virusv/TDSAST_IOT/User/main.c **** 
 360:/home/virusv/TDSAST_IOT/User/main.c ****         // 检查回包类型
 361:/home/virusv/TDSAST_IOT/User/main.c ****         if(MQTTParseMessageType(packet_buffer) != MQTT_MSG_CONNACK){
 1222              		.loc 1 361 0
 1223 01c2 6B4B     		ldr	r3, .L74+84
 1224 01c4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1225 01c6 03F0F003 		and	r3, r3, #240
 1226 01ca 202B     		cmp	r3, #32
 1227 01cc 0CD0     		beq	.L59
 362:/home/virusv/TDSAST_IOT/User/main.c ****             Driver_OLED_ShowString(0, 7, "CONNACK expected!", 8, 0); // 显示在最后一行
 1228              		.loc 1 362 0
 1229 01ce 0023     		movs	r3, #0
 1230 01d0 0093     		str	r3, [sp]
 1231 01d2 0020     		movs	r0, #0
 1232 01d4 0721     		movs	r1, #7
 1233 01d6 674A     		ldr	r2, .L74+88
 1234 01d8 0823     		movs	r3, #8
 1235 01da FFF7FEFF 		bl	Driver_OLED_ShowString
 363:/home/virusv/TDSAST_IOT/User/main.c ****             delay_ms(1000);
 1236              		.loc 1 363 0
 1237 01de 4FF47A70 		mov	r0, #1000
 1238 01e2 FFF7FEFF 		bl	delay_ms
 364:/home/virusv/TDSAST_IOT/User/main.c ****             continue;
 1239              		.loc 1 364 0
 1240 01e6 21E1     		b	.L57
 1241              	.L59:
 365:/home/virusv/TDSAST_IOT/User/main.c ****         }
 366:/home/virusv/TDSAST_IOT/User/main.c **** 
 367:/home/virusv/TDSAST_IOT/User/main.c ****         // 检查是否成功
 368:/home/virusv/TDSAST_IOT/User/main.c ****         if(packet_buffer[3] != 0x00){
 1242              		.loc 1 368 0
 1243 01e8 614B     		ldr	r3, .L74+84
 1244 01ea DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1245 01ec 002B     		cmp	r3, #0
 1246 01ee 0CD0     		beq	.L60
 369:/home/virusv/TDSAST_IOT/User/main.c ****             Driver_OLED_ShowString(0, 7, "CONNACK failed!", 8, 0); // 显示在最后一行
 1247              		.loc 1 369 0
 1248 01f0 0023     		movs	r3, #0
 1249 01f2 0093     		str	r3, [sp]
 1250 01f4 0020     		movs	r0, #0
 1251 01f6 0721     		movs	r1, #7
 1252 01f8 5F4A     		ldr	r2, .L74+92
 1253 01fa 0823     		movs	r3, #8
 1254 01fc FFF7FEFF 		bl	Driver_OLED_ShowString
 370:/home/virusv/TDSAST_IOT/User/main.c ****             delay_ms(1000);
 1255              		.loc 1 370 0
 1256 0200 4FF47A70 		mov	r0, #1000
 1257 0204 FFF7FEFF 		bl	delay_ms
 371:/home/virusv/TDSAST_IOT/User/main.c ****             continue;
 1258              		.loc 1 371 0
 1259 0208 10E1     		b	.L57
 1260              	.L60:
 372:/home/virusv/TDSAST_IOT/User/main.c ****         }
 373:/home/virusv/TDSAST_IOT/User/main.c **** 
 374:/home/virusv/TDSAST_IOT/User/main.c ****         /**
 375:/home/virusv/TDSAST_IOT/User/main.c ****          * MQTT 订阅Topic
 376:/home/virusv/TDSAST_IOT/User/main.c ****          */
 377:/home/virusv/TDSAST_IOT/User/main.c ****         /* 喂狗 */
 378:/home/virusv/TDSAST_IOT/User/main.c ****         IWDG_ReloadCounter();
 1261              		.loc 1 378 0
 1262 020a FFF7FEFF 		bl	IWDG_ReloadCounter
 379:/home/virusv/TDSAST_IOT/User/main.c ****         // >>>>> SUBSCRIBE
 380:/home/virusv/TDSAST_IOT/User/main.c ****         mqtt_subscribe(&broker, "td_cloud/tdsast/ext_door", &msg_id);
 1263              		.loc 1 380 0
 1264 020e 07F18203 		add	r3, r7, #130
 1265 0212 5148     		ldr	r0, .L74+60
 1266 0214 5949     		ldr	r1, .L74+96
 1267 0216 1A46     		mov	r2, r3
 1268 0218 FFF7FEFF 		bl	mqtt_subscribe
 381:/home/virusv/TDSAST_IOT/User/main.c ****         // <<<<< SUBACK
 382:/home/virusv/TDSAST_IOT/User/main.c ****         packet_length = read_packet();
 1269              		.loc 1 382 0
 1270 021c FFF7FEFF 		bl	read_packet
 1271 0220 C7F8A000 		str	r0, [r7, #160]
 383:/home/virusv/TDSAST_IOT/User/main.c ****         if(packet_length < 0){
 1272              		.loc 1 383 0
 1273 0224 D7F8A030 		ldr	r3, [r7, #160]
 1274 0228 002B     		cmp	r3, #0
 1275 022a 0CDA     		bge	.L61
 384:/home/virusv/TDSAST_IOT/User/main.c ****             Driver_OLED_ShowString(0, 7, "Read SUBS pack error.", 8, 0); // 显示在最后一行
 1276              		.loc 1 384 0
 1277 022c 0023     		movs	r3, #0
 1278 022e 0093     		str	r3, [sp]
 1279 0230 0020     		movs	r0, #0
 1280 0232 0721     		movs	r1, #7
 1281 0234 524A     		ldr	r2, .L74+100
 1282 0236 0823     		movs	r3, #8
 1283 0238 FFF7FEFF 		bl	Driver_OLED_ShowString
 385:/home/virusv/TDSAST_IOT/User/main.c ****             delay_ms(1000);
 1284              		.loc 1 385 0
 1285 023c 4FF47A70 		mov	r0, #1000
 1286 0240 FFF7FEFF 		bl	delay_ms
 386:/home/virusv/TDSAST_IOT/User/main.c ****             continue;
 1287              		.loc 1 386 0
 1288 0244 F2E0     		b	.L57
 1289              	.L61:
 387:/home/virusv/TDSAST_IOT/User/main.c ****         }
 388:/home/virusv/TDSAST_IOT/User/main.c ****         // 检查接收数据包类型
 389:/home/virusv/TDSAST_IOT/User/main.c ****         if(MQTTParseMessageType(packet_buffer) != MQTT_MSG_SUBACK){
 1290              		.loc 1 389 0
 1291 0246 4A4B     		ldr	r3, .L74+84
 1292 0248 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1293 024a 03F0F003 		and	r3, r3, #240
 1294 024e 902B     		cmp	r3, #144
 1295 0250 0CD0     		beq	.L62
 390:/home/virusv/TDSAST_IOT/User/main.c ****             Driver_OLED_ShowString(0, 7, "SUBACK expected!", 8, 0); // 显示在最后一行
 1296              		.loc 1 390 0
 1297 0252 0023     		movs	r3, #0
 1298 0254 0093     		str	r3, [sp]
 1299 0256 0020     		movs	r0, #0
 1300 0258 0721     		movs	r1, #7
 1301 025a 4A4A     		ldr	r2, .L74+104
 1302 025c 0823     		movs	r3, #8
 1303 025e FFF7FEFF 		bl	Driver_OLED_ShowString
 391:/home/virusv/TDSAST_IOT/User/main.c ****             delay_ms(1000);
 1304              		.loc 1 391 0
 1305 0262 4FF47A70 		mov	r0, #1000
 1306 0266 FFF7FEFF 		bl	delay_ms
 392:/home/virusv/TDSAST_IOT/User/main.c ****             continue;
 1307              		.loc 1 392 0
 1308 026a DFE0     		b	.L57
 1309              	.L62:
 393:/home/virusv/TDSAST_IOT/User/main.c ****         }
 394:/home/virusv/TDSAST_IOT/User/main.c ****         // 检查接收数据包id
 395:/home/virusv/TDSAST_IOT/User/main.c ****         msg_id_rcv = mqtt_parse_msg_id(packet_buffer);
 1310              		.loc 1 395 0
 1311 026c 4048     		ldr	r0, .L74+84
 1312 026e FFF7FEFF 		bl	mqtt_parse_msg_id
 1313 0272 0346     		mov	r3, r0
 1314 0274 A7F89E30 		strh	r3, [r7, #158]	@ movhi
 396:/home/virusv/TDSAST_IOT/User/main.c ****         if(msg_id != msg_id_rcv){
 1315              		.loc 1 396 0
 1316 0278 B7F88230 		ldrh	r3, [r7, #130]
 1317 027c B7F89E20 		ldrh	r2, [r7, #158]
 1318 0280 9A42     		cmp	r2, r3
 1319 0282 04D0     		beq	.L63
 397:/home/virusv/TDSAST_IOT/User/main.c ****             // 发送包和接收包的msg id不匹配
 398:/home/virusv/TDSAST_IOT/User/main.c ****             delay_ms(1000);
 1320              		.loc 1 398 0
 1321 0284 4FF47A70 		mov	r0, #1000
 1322 0288 FFF7FEFF 		bl	delay_ms
 399:/home/virusv/TDSAST_IOT/User/main.c ****             continue;
 1323              		.loc 1 399 0
 1324 028c CEE0     		b	.L57
 1325              	.L63:
 400:/home/virusv/TDSAST_IOT/User/main.c ****         }
 401:/home/virusv/TDSAST_IOT/User/main.c **** 
 402:/home/virusv/TDSAST_IOT/User/main.c ****         // 设置socket为非阻塞模式
 403:/home/virusv/TDSAST_IOT/User/main.c ****         tmp = SOCK_IO_NONBLOCK;
 1326              		.loc 1 403 0
 1327 028e 0123     		movs	r3, #1
 1328 0290 87F89B30 		strb	r3, [r7, #155]
 404:/home/virusv/TDSAST_IOT/User/main.c ****         if(ctlsocket(SOCK_MQTT, CS_SET_IOMODE, (void *)&tmp) != SOCK_OK){
 1329              		.loc 1 404 0
 1330 0294 07F19B03 		add	r3, r7, #155
 1331 0298 0020     		movs	r0, #0
 1332 029a 0021     		movs	r1, #0
 1333 029c 1A46     		mov	r2, r3
 1334 029e FFF7FEFF 		bl	ctlsocket
 1335 02a2 0346     		mov	r3, r0
 1336 02a4 012B     		cmp	r3, #1
 1337 02a6 04D0     		beq	.L64
 405:/home/virusv/TDSAST_IOT/User/main.c ****             delay_ms(1000);
 1338              		.loc 1 405 0
 1339 02a8 4FF47A70 		mov	r0, #1000
 1340 02ac FFF7FEFF 		bl	delay_ms
 406:/home/virusv/TDSAST_IOT/User/main.c ****             continue;
 1341              		.loc 1 406 0
 1342 02b0 BCE0     		b	.L57
 1343              	.L64:
 407:/home/virusv/TDSAST_IOT/User/main.c ****         }
 408:/home/virusv/TDSAST_IOT/User/main.c ****         //__BKPT(1);
 409:/home/virusv/TDSAST_IOT/User/main.c ****         GPIO_ResetBits(GPIOB, GPIO_Pin_9);  // 点亮灯
 1344              		.loc 1 409 0
 1345 02b2 3548     		ldr	r0, .L74+108
 1346 02b4 4FF40071 		mov	r1, #512
 1347 02b8 FFF7FEFF 		bl	GPIO_ResetBits
 410:/home/virusv/TDSAST_IOT/User/main.c ****         GPIO_SetBits(GPIOB, GPIO_Pin_8);  //上锁
 1348              		.loc 1 410 0
 1349 02bc 3248     		ldr	r0, .L74+108
 1350 02be 4FF48071 		mov	r1, #256
 1351 02c2 FFF7FEFF 		bl	GPIO_SetBits
 411:/home/virusv/TDSAST_IOT/User/main.c ****         
 412:/home/virusv/TDSAST_IOT/User/main.c ****         while(getSn_SR(SOCK_MQTT) == SOCK_ESTABLISHED){
 1352              		.loc 1 412 0
 1353 02c6 9FE0     		b	.L65
 1354              	.L72:
 413:/home/virusv/TDSAST_IOT/User/main.c ****             /* 喂狗 */
 414:/home/virusv/TDSAST_IOT/User/main.c ****             IWDG_ReloadCounter();
 1355              		.loc 1 414 0
 1356 02c8 FFF7FEFF 		bl	IWDG_ReloadCounter
 415:/home/virusv/TDSAST_IOT/User/main.c ****             
 416:/home/virusv/TDSAST_IOT/User/main.c ****             // 发送心跳包
 417:/home/virusv/TDSAST_IOT/User/main.c ****             if(Interval_counter > 25000){
 1357              		.loc 1 417 0
 1358 02cc 2F4B     		ldr	r3, .L74+112
 1359 02ce 1B68     		ldr	r3, [r3]
 1360 02d0 46F2A812 		movw	r2, #25000
 1361 02d4 9342     		cmp	r3, r2
 1362 02d6 05D9     		bls	.L66
 418:/home/virusv/TDSAST_IOT/User/main.c ****                 Interval_counter = 0;
 1363              		.loc 1 418 0
 1364 02d8 2C4B     		ldr	r3, .L74+112
 1365 02da 0022     		movs	r2, #0
 1366 02dc 1A60     		str	r2, [r3]
 419:/home/virusv/TDSAST_IOT/User/main.c ****                 mqtt_ping(&broker);
 1367              		.loc 1 419 0
 1368 02de 1E48     		ldr	r0, .L74+60
 1369 02e0 FFF7FEFF 		bl	mqtt_ping
 1370              	.L66:
 420:/home/virusv/TDSAST_IOT/User/main.c ****             }
 421:/home/virusv/TDSAST_IOT/User/main.c **** 
 422:/home/virusv/TDSAST_IOT/User/main.c ****             if(lock_on && Timer2_Counter > 3000u){ // 开锁3秒
 1371              		.loc 1 422 0
 1372 02e4 2A4B     		ldr	r3, .L74+116
 1373 02e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1374 02e8 002B     		cmp	r3, #0
 1375 02ea 0DD0     		beq	.L67
 1376              		.loc 1 422 0 is_stmt 0 discriminator 1
 1377 02ec 294B     		ldr	r3, .L74+120
 1378 02ee 1B68     		ldr	r3, [r3]
 1379 02f0 40F6B832 		movw	r2, #3000
 1380 02f4 9342     		cmp	r3, r2
 1381 02f6 07D9     		bls	.L67
 423:/home/virusv/TDSAST_IOT/User/main.c ****                 lock_on = 0;
 1382              		.loc 1 423 0 is_stmt 1
 1383 02f8 254B     		ldr	r3, .L74+116
 1384 02fa 0022     		movs	r2, #0
 1385 02fc 1A70     		strb	r2, [r3]
 424:/home/virusv/TDSAST_IOT/User/main.c ****                 // 上锁
 425:/home/virusv/TDSAST_IOT/User/main.c ****                 GPIO_SetBits(GPIOB, GPIO_Pin_8);
 1386              		.loc 1 425 0
 1387 02fe 2248     		ldr	r0, .L74+108
 1388 0300 4FF48071 		mov	r1, #256
 1389 0304 FFF7FEFF 		bl	GPIO_SetBits
 1390              	.L67:
 426:/home/virusv/TDSAST_IOT/User/main.c ****             }
 427:/home/virusv/TDSAST_IOT/User/main.c ****             // <<<<<
 428:/home/virusv/TDSAST_IOT/User/main.c ****             packet_length = read_packet();
 1391              		.loc 1 428 0
 1392 0308 FFF7FEFF 		bl	read_packet
 1393 030c C7F8A000 		str	r0, [r7, #160]
 429:/home/virusv/TDSAST_IOT/User/main.c ****             if(packet_length <= 0){
 1394              		.loc 1 429 0
 1395 0310 D7F8A030 		ldr	r3, [r7, #160]
 1396 0314 002B     		cmp	r3, #0
 1397 0316 3FDC     		bgt	.L68
 430:/home/virusv/TDSAST_IOT/User/main.c ****                 continue;
 1398              		.loc 1 430 0
 1399 0318 76E0     		b	.L65
 1400              	.L75:
 1401 031a 00BF     		.align	2
 1402              	.L74:
 1403 031c AC010000 		.word	.LC0
 1404 0320 BC010000 		.word	.LC1
 1405 0324 00000000 		.word	oled_init
 1406 0328 8C000000 		.word	.LC11
 1407 032c 00000000 		.word	wizchip_select
 1408 0330 00000000 		.word	wizchip_deselect
 1409 0334 00000000 		.word	wizchip_read
 1410 0338 00000000 		.word	wizchip_write
 1411 033c A0000000 		.word	.LC12
 1412 0340 B8000000 		.word	.LC13
 1413 0344 00000000 		.word	gWIZNETINFO
 1414 0348 00000000 		.word	gDATABUF
 1415 034c D0000000 		.word	.LC14
 1416 0350 00000000 		.word	ip_configed
 1417 0354 E4000000 		.word	.LC15
 1418 0358 00000000 		.word	broker
 1419 035c F4000000 		.word	.LC16
 1420 0360 08010000 		.word	.LC17
 1421 0364 10010000 		.word	.LC18
 1422 0368 00000000 		.word	send_packet
 1423 036c 20010000 		.word	.LC19
 1424 0370 00000000 		.word	packet_buffer
 1425 0374 38010000 		.word	.LC20
 1426 0378 4C010000 		.word	.LC21
 1427 037c 5C010000 		.word	.LC22
 1428 0380 78010000 		.word	.LC23
 1429 0384 90010000 		.word	.LC24
 1430 0388 000C0140 		.word	1073810432
 1431 038c 00000000 		.word	Interval_counter
 1432 0390 00000000 		.word	lock_on
 1433 0394 00000000 		.word	Timer2_Counter
 1434              	.L68:
 431:/home/virusv/TDSAST_IOT/User/main.c ****             }
 432:/home/virusv/TDSAST_IOT/User/main.c ****             
 433:/home/virusv/TDSAST_IOT/User/main.c ****             if(MQTTParseMessageType(packet_buffer) == MQTT_MSG_PUBLISH) {
 1435              		.loc 1 433 0
 1436 0398 254B     		ldr	r3, .L76
 1437 039a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1438 039c 03F0F003 		and	r3, r3, #240
 1439 03a0 302B     		cmp	r3, #48
 1440 03a2 31D1     		bne	.L65
 1441              	.LBB2:
 434:/home/virusv/TDSAST_IOT/User/main.c ****                 uint8_t msg[128];
 435:/home/virusv/TDSAST_IOT/User/main.c ****                 //uint8_t topic[32];
 436:/home/virusv/TDSAST_IOT/User/main.c ****                 uint16_t len;
 437:/home/virusv/TDSAST_IOT/User/main.c ****                 //len = (len = mqtt_parse_pub_topic(packet_buffer, topic)) >= sizeof(topic) ? sizeo
 438:/home/virusv/TDSAST_IOT/User/main.c ****                 //topic[len] = '\0';
 439:/home/virusv/TDSAST_IOT/User/main.c ****                 len = (len = mqtt_parse_publish_msg(packet_buffer, msg)) >= sizeof(msg) ? sizeof(ms
 1442              		.loc 1 439 0
 1443 03a4 3B46     		mov	r3, r7
 1444 03a6 2248     		ldr	r0, .L76
 1445 03a8 1946     		mov	r1, r3
 1446 03aa FFF7FEFF 		bl	mqtt_parse_publish_msg
 1447 03ae 0346     		mov	r3, r0
 1448 03b0 A7F89C30 		strh	r3, [r7, #156]	@ movhi
 1449 03b4 B7F89C30 		ldrh	r3, [r7, #156]
 1450 03b8 7F2B     		cmp	r3, #127
 1451 03ba 02D8     		bhi	.L69
 1452              		.loc 1 439 0 is_stmt 0 discriminator 1
 1453 03bc B7F89C30 		ldrh	r3, [r7, #156]
 1454 03c0 00E0     		b	.L70
 1455              	.L69:
 1456              		.loc 1 439 0 discriminator 2
 1457 03c2 7F23     		movs	r3, #127
 1458              	.L70:
 1459              		.loc 1 439 0 discriminator 4
 1460 03c4 A7F89C30 		strh	r3, [r7, #156]	@ movhi
 440:/home/virusv/TDSAST_IOT/User/main.c ****                 msg[len] = '\0';
 1461              		.loc 1 440 0 is_stmt 1 discriminator 4
 1462 03c8 B7F89C30 		ldrh	r3, [r7, #156]
 1463 03cc 07F1A802 		add	r2, r7, #168
 1464 03d0 1344     		add	r3, r3, r2
 1465 03d2 0022     		movs	r2, #0
 1466 03d4 03F8A82C 		strb	r2, [r3, #-168]
 441:/home/virusv/TDSAST_IOT/User/main.c ****                 //printf("%s %s\n", topic, msg);
 442:/home/virusv/TDSAST_IOT/User/main.c ****                 //Driver_OLED_ShowString(0, 7, msg, 8, 0); // 显示在最后一行
 443:/home/virusv/TDSAST_IOT/User/main.c ****                 if(!lock_on && strncmp("Lock ON", msg, 7) == 0){  //判断是不是开锁指令
 1467              		.loc 1 443 0 discriminator 4
 1468 03d8 164B     		ldr	r3, .L76+4
 1469 03da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1470 03dc 002B     		cmp	r3, #0
 1471 03de 13D1     		bne	.L65
 1472              		.loc 1 443 0 is_stmt 0 discriminator 1
 1473 03e0 3B46     		mov	r3, r7
 1474 03e2 1548     		ldr	r0, .L76+8
 1475 03e4 1946     		mov	r1, r3
 1476 03e6 0722     		movs	r2, #7
 1477 03e8 FFF7FEFF 		bl	strncmp
 1478 03ec 0346     		mov	r3, r0
 1479 03ee 002B     		cmp	r3, #0
 1480 03f0 0AD1     		bne	.L65
 444:/home/virusv/TDSAST_IOT/User/main.c ****                     // 开锁
 445:/home/virusv/TDSAST_IOT/User/main.c ****                     lock_on = 1;
 1481              		.loc 1 445 0 is_stmt 1
 1482 03f2 104B     		ldr	r3, .L76+4
 1483 03f4 0122     		movs	r2, #1
 1484 03f6 1A70     		strb	r2, [r3]
 446:/home/virusv/TDSAST_IOT/User/main.c ****                     Timer2_Counter = 0;
 1485              		.loc 1 446 0
 1486 03f8 104B     		ldr	r3, .L76+12
 1487 03fa 0022     		movs	r2, #0
 1488 03fc 1A60     		str	r2, [r3]
 447:/home/virusv/TDSAST_IOT/User/main.c ****                     GPIO_ResetBits(GPIOB, GPIO_Pin_8);  //开锁
 1489              		.loc 1 447 0
 1490 03fe 1048     		ldr	r0, .L76+16
 1491 0400 4FF48071 		mov	r1, #256
 1492 0404 FFF7FEFF 		bl	GPIO_ResetBits
 1493              	.L65:
 1494              	.LBE2:
 412:/home/virusv/TDSAST_IOT/User/main.c ****             /* 喂狗 */
 1495              		.loc 1 412 0
 1496 0408 4FF44270 		mov	r0, #776
 1497 040c FFF7FEFF 		bl	WIZCHIP_READ
 1498 0410 0346     		mov	r3, r0
 1499 0412 172B     		cmp	r3, #23
 1500 0414 3FF458AF 		beq	.L72
 448:/home/virusv/TDSAST_IOT/User/main.c ****                 }
 449:/home/virusv/TDSAST_IOT/User/main.c ****             }
 450:/home/virusv/TDSAST_IOT/User/main.c ****             
 451:/home/virusv/TDSAST_IOT/User/main.c ****         }
 452:/home/virusv/TDSAST_IOT/User/main.c ****         GPIO_SetBits(GPIOB, GPIO_Pin_9); // 熄灭灯
 1501              		.loc 1 452 0
 1502 0418 0948     		ldr	r0, .L76+16
 1503 041a 4FF40071 		mov	r1, #512
 1504 041e FFF7FEFF 		bl	GPIO_SetBits
 453:/home/virusv/TDSAST_IOT/User/main.c ****         GPIO_ResetBits(GPIOB, GPIO_Pin_8);  //开锁
 1505              		.loc 1 453 0
 1506 0422 0748     		ldr	r0, .L76+16
 1507 0424 4FF48071 		mov	r1, #256
 1508 0428 FFF7FEFF 		bl	GPIO_ResetBits
 1509              	.L57:
 454:/home/virusv/TDSAST_IOT/User/main.c ****     }
 1510              		.loc 1 454 0
 1511 042c 77E6     		b	.L73
 1512              	.L77:
 1513 042e 00BF     		.align	2
 1514              	.L76:
 1515 0430 00000000 		.word	packet_buffer
 1516 0434 00000000 		.word	lock_on
 1517 0438 A4010000 		.word	.LC25
 1518 043c 00000000 		.word	Timer2_Counter
 1519 0440 000C0140 		.word	1073810432
 1520              		.cfi_endproc
 1521              	.LFE39:
 1523              		.text
 1524              	.Letext0:
 1525              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1526              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 1527              		.file 4 "/home/virusv/TDSAST_IOT/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 1528              		.file 5 "./Ethernet/wizchip_conf.h"
 1529              		.file 6 "/home/virusv/TDSAST_IOT/Ethernet/socket.h"
 1530              		.file 7 "/home/virusv/TDSAST_IOT/Internet/DHCP/dhcp.h"
 1531              		.file 8 "/home/virusv/TDSAST_IOT/libemqtt/include/libemqtt.h"
 1532              		.file 9 "/home/virusv/TDSAST_IOT/CMSIS/CM3/CoreSupport/core_cm3.h"
 1533              		.file 10 "/home/virusv/TDSAST_IOT/Driver/OLED.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/cck5s5P2.s:23     .bss.Interval_counter:0000000000000000 Interval_counter
     /tmp/cck5s5P2.s:20     .bss.Interval_counter:0000000000000000 $d
     /tmp/cck5s5P2.s:30     .bss.Timer2_Counter:0000000000000000 Timer2_Counter
     /tmp/cck5s5P2.s:27     .bss.Timer2_Counter:0000000000000000 $d
                            *COM*:0000000000000400 packet_buffer
                            *COM*:0000000000000800 gDATABUF
     /tmp/cck5s5P2.s:39     .data.gWIZNETINFO:0000000000000000 gWIZNETINFO
     /tmp/cck5s5P2.s:36     .data.gWIZNETINFO:0000000000000000 $d
     /tmp/cck5s5P2.s:68     .data.secondary_dns_server:0000000000000000 secondary_dns_server
     /tmp/cck5s5P2.s:65     .data.secondary_dns_server:0000000000000000 $d
     /tmp/cck5s5P2.s:77     .bss.ip_configed:0000000000000000 ip_configed
     /tmp/cck5s5P2.s:78     .bss.ip_configed:0000000000000000 $d
     /tmp/cck5s5P2.s:83     .bss.lock_on:0000000000000000 lock_on
     /tmp/cck5s5P2.s:84     .bss.lock_on:0000000000000000 $d
                            *COM*:000000000000005c broker
     /tmp/cck5s5P2.s:87     .text.wizchip_select:0000000000000000 $t
     /tmp/cck5s5P2.s:91     .text.wizchip_select:0000000000000000 wizchip_select
     /tmp/cck5s5P2.s:113    .text.wizchip_select:0000000000000010 $d
     /tmp/cck5s5P2.s:118    .text.wizchip_deselect:0000000000000000 $t
     /tmp/cck5s5P2.s:122    .text.wizchip_deselect:0000000000000000 wizchip_deselect
     /tmp/cck5s5P2.s:143    .text.wizchip_deselect:0000000000000010 $d
     /tmp/cck5s5P2.s:148    .text.wizchip_write:0000000000000000 $t
     /tmp/cck5s5P2.s:152    .text.wizchip_write:0000000000000000 wizchip_write
     /tmp/cck5s5P2.s:194    .text.wizchip_write:000000000000002c $d
     /tmp/cck5s5P2.s:199    .text.wizchip_read:0000000000000000 $t
     /tmp/cck5s5P2.s:203    .text.wizchip_read:0000000000000000 wizchip_read
     /tmp/cck5s5P2.s:243    .text.wizchip_read:000000000000002c $d
     /tmp/cck5s5P2.s:248    .text.delay_ms:0000000000000000 $t
     /tmp/cck5s5P2.s:253    .text.delay_ms:0000000000000000 delay_ms
     /tmp/cck5s5P2.s:294    .text.delay_ms:0000000000000024 $d
     /tmp/cck5s5P2.s:299    .rodata:0000000000000000 $d
     /tmp/cck5s5P2.s:324    .text.display_netinfo:0000000000000000 $t
     /tmp/cck5s5P2.s:328    .text.display_netinfo:0000000000000000 display_netinfo
     /tmp/cck5s5P2.s:535    .text.display_netinfo:000000000000017c $d
     /tmp/cck5s5P2.s:551    .text.DHCPClient:0000000000000000 $t
     /tmp/cck5s5P2.s:556    .text.DHCPClient:0000000000000000 DHCPClient
     /tmp/cck5s5P2.s:659    .text.DHCPClient:0000000000000094 $d
     /tmp/cck5s5P2.s:670    .text.DNSClient:0000000000000000 $t
     /tmp/cck5s5P2.s:675    .text.DNSClient:0000000000000000 DNSClient
     /tmp/cck5s5P2.s:719    .text.DNSClient:0000000000000030 $d
     /tmp/cck5s5P2.s:726    .text.send_packet:0000000000000000 $t
     /tmp/cck5s5P2.s:730    .text.send_packet:0000000000000000 send_packet
     /tmp/cck5s5P2.s:772    .text.read_packet:0000000000000000 $t
     /tmp/cck5s5P2.s:777    .text.read_packet:0000000000000000 read_packet
     /tmp/cck5s5P2.s:897    .text.read_packet:00000000000000b4 $d
     /tmp/cck5s5P2.s:972    .text.main:0000000000000000 $t
     /tmp/cck5s5P2.s:977    .text.main:0000000000000000 main
     /tmp/cck5s5P2.s:1403   .text.main:000000000000031c $d
     /tmp/cck5s5P2.s:1436   .text.main:0000000000000398 $t
     /tmp/cck5s5P2.s:1515   .text.main:0000000000000430 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
GPIO_ResetBits
GPIO_SetBits
SPI_I2S_SendData
SPI_I2S_GetFlagStatus
SPI_I2S_ReceiveData
IWDG_ReloadCounter
ctlnetwork
ctlwizchip
snprintf
Driver_OLED_ShowString
DHCP_run
getIPfromDHCP
getGWfromDHCP
getSNfromDHCP
getDNSfromDHCP
DNS_init
DNS_run
send
memset
recv
mqtt_num_rem_len_bytes
mqtt_parse_rem_len
Init_led_lock
Init_tim2_ms_base
Init_i2c1_oled
Init_spi1_w5500
Init_iwdg_reset
Driver_OLED_Send_START
Driver_OLED_SendDatas
Driver_OLED_Fill
reg_wizchip_cs_cbfunc
reg_wizchip_spi_cbfunc
DHCP_init
close
mqtt_init
mqtt_init_auth
socket
connect
mqtt_set_alive
mqtt_connect
mqtt_subscribe
mqtt_parse_msg_id
ctlsocket
mqtt_ping
oled_init
mqtt_parse_publish_msg
strncmp
WIZCHIP_READ
