   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"socket.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.data.sock_any_port,"aw",%progbits
  19              		.align	1
  22              	sock_any_port:
  23 0000 00C0     		.short	-16384
  24              		.section	.bss.sock_io_mode,"aw",%nobits
  25              		.align	1
  28              	sock_io_mode:
  29 0000 0000     		.space	2
  30              		.section	.bss.sock_is_sending,"aw",%nobits
  31              		.align	1
  34              	sock_is_sending:
  35 0000 0000     		.space	2
  36              		.section	.bss.sock_remained_size,"aw",%nobits
  37              		.align	2
  40              	sock_remained_size:
  41 0000 00000000 		.space	16
  41      00000000 
  41      00000000 
  41      00000000 
  42              		.section	.bss.sock_pack_info,"aw",%nobits
  43              		.align	2
  46              	sock_pack_info:
  47 0000 00000000 		.space	8
  47      00000000 
  48              		.section	.text.socket,"ax",%progbits
  49              		.align	2
  50              		.global	socket
  51              		.thumb
  52              		.thumb_func
  54              	socket:
  55              	.LFB0:
  56              		.file 1 "/home/virusv/TDSAST_IOT/Ethernet/socket.c"
   1:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //*****************************************************************************
   2:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //
   3:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \file socket.c
   4:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \brief SOCKET APIs Implements file.
   5:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \details SOCKET APIs like as Berkeley Socket APIs. 
   6:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \version 1.0.1
   7:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \date 2013/10/21
   8:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \par  Revision history
   9:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //!       <2013/10/21> 1st Release
  10:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //!       <2013/11/04> 2nd Release. Refer to "20131104".
  11:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //!                    In sendto(), Add to clear timeout interrupt status (Sn_IR_TIMEOUT)
  12:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \author MidnightCow
  13:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! \copyright
  14:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //!
  15:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! Copyright (c)  2013, WIZnet Co., LTD.
  16:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! All rights reserved.
  17:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! 
  18:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! Redistribution and use in source and binary forms, with or without 
  19:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! modification, are permitted provided that the following conditions 
  20:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! are met: 
  21:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! 
  22:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //!     * Redistributions of source code must retain the above copyright 
  23:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! notice, this list of conditions and the following disclaimer. 
  24:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //!     * Redistributions in binary form must reproduce the above copyright
  25:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! notice, this list of conditions and the following disclaimer in the
  26:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! documentation and/or other materials provided with the distribution. 
  27:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //!     * Neither the name of the <ORGANIZATION> nor the names of its 
  28:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! contributors may be used to endorse or promote products derived 
  29:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! from this software without specific prior written permission. 
  30:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! 
  31:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  32:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
  33:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  34:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE 
  35:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
  36:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
  37:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  38:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
  39:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  40:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF 
  41:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //! THE POSSIBILITY OF SUCH DAMAGE.
  42:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //
  43:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** //*****************************************************************************
  44:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #include "socket.h"
  45:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  46:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #define SOCK_ANY_PORT_NUM  0xC000;
  47:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  48:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** static uint16_t sock_any_port = SOCK_ANY_PORT_NUM;
  49:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** static uint16_t sock_io_mode = 0;
  50:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** static uint16_t sock_is_sending = 0;
  51:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** static uint16_t sock_remained_size[_WIZCHIP_SOCK_NUM_] = {0,0,};
  52:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** static uint8_t  sock_pack_info[_WIZCHIP_SOCK_NUM_] = {0,};
  53:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  54:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #if _WIZCHIP_ == 5200
  55:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    static uint16_t sock_next_rd[_WIZCHIP_SOCK_NUM_] ={0,};
  56:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #endif
  57:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  58:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #define CHECK_SOCKNUM()   \
  59:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    do{                    \
  60:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(sn > _WIZCHIP_SOCK_NUM_) return SOCKERR_SOCKNUM;   \
  61:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }while(0);             \
  62:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  63:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #define CHECK_SOCKMODE(mode)  \
  64:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    do{                     \
  65:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if((getSn_MR(sn) & 0x0F) != mode) return SOCKERR_SOCKMODE;  \
  66:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }while(0);              \
  67:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  68:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #define CHECK_SOCKINIT()   \
  69:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    do{                     \
  70:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if((getSn_SR(sn) != SOCK_INIT)) return SOCKERR_SOCKINIT; \
  71:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }while(0);              \
  72:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  73:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #define CHECK_SOCKDATA()   \
  74:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    do{                     \
  75:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(len == 0) return SOCKERR_DATALEN;   \
  76:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }while(0);              \
  77:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  78:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  79:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
  80:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t socket(uint8_t sn, uint8_t protocol, uint16_t port, uint8_t flag)
  81:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
  57              		.loc 1 81 0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 8
  60              		@ frame_needed = 1, uses_anonymous_args = 0
  61 0000 90B5     		push	{r4, r7, lr}
  62              		.cfi_def_cfa_offset 12
  63              		.cfi_offset 4, -12
  64              		.cfi_offset 7, -8
  65              		.cfi_offset 14, -4
  66 0002 83B0     		sub	sp, sp, #12
  67              		.cfi_def_cfa_offset 24
  68 0004 00AF     		add	r7, sp, #0
  69              		.cfi_def_cfa_register 7
  70 0006 0446     		mov	r4, r0
  71 0008 0846     		mov	r0, r1
  72 000a 1146     		mov	r1, r2
  73 000c 1A46     		mov	r2, r3
  74 000e 2346     		mov	r3, r4
  75 0010 FB71     		strb	r3, [r7, #7]
  76 0012 0346     		mov	r3, r0
  77 0014 BB71     		strb	r3, [r7, #6]
  78 0016 0B46     		mov	r3, r1	@ movhi
  79 0018 BB80     		strh	r3, [r7, #4]	@ movhi
  80 001a 1346     		mov	r3, r2
  81 001c FB70     		strb	r3, [r7, #3]
  82:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	CHECK_SOCKNUM();
  82              		.loc 1 82 0
  83 001e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
  84 0020 082B     		cmp	r3, #8
  85 0022 01D9     		bls	.L2
  86              		.loc 1 82 0 is_stmt 0 discriminator 1
  87 0024 FF23     		movs	r3, #255
  88 0026 D8E0     		b	.L3
  89              	.L2:
  83:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	switch(protocol)
  90              		.loc 1 83 0 is_stmt 1
  91 0028 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
  92 002a 012B     		cmp	r3, #1
  93 002c 03DB     		blt	.L4
  94 002e 022B     		cmp	r3, #2
  95 0030 03DD     		ble	.L18
  96 0032 042B     		cmp	r3, #4
  97 0034 01D0     		beq	.L18
  98              	.L4:
  84:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	{
  85:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_TCP :
  86:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_UDP :
  87:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_MACRAW :
  88:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
  89:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if ( _WIZCHIP_ < 5200 )
  90:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_IPRAW :
  91:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_PPPoE :
  92:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
  93:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
  94:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default :
  95:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_SOCKMODE;
  99              		.loc 1 95 0
 100 0036 FB23     		movs	r3, #251
 101 0038 CFE0     		b	.L3
 102              	.L18:
  88:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if ( _WIZCHIP_ < 5200 )
 103              		.loc 1 88 0
 104 003a 00BF     		nop
  96:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	}
  97:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	if((flag & 0x06) != 0) return SOCKERR_SOCKFLAG;
 105              		.loc 1 97 0
 106 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 107 003e 03F00603 		and	r3, r3, #6
 108 0042 002B     		cmp	r3, #0
 109 0044 01D0     		beq	.L7
 110              		.loc 1 97 0 is_stmt 0 discriminator 1
 111 0046 FA23     		movs	r3, #250
 112 0048 C7E0     		b	.L3
 113              	.L7:
  98:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #if _WIZCHIP_ == 5200
  99:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(flag & 0x10) return SOCKERR_SOCKFLAG;
 100:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #endif
 101:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   
 102:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	if(flag != 0)
 114              		.loc 1 102 0 is_stmt 1
 115 004a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 116 004c 002B     		cmp	r3, #0
 117 004e 24D0     		beq	.L8
 103:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	{
 104:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	switch(protocol)
 118              		.loc 1 104 0
 119 0050 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 120 0052 012B     		cmp	r3, #1
 121 0054 02D0     		beq	.L10
 122 0056 022B     		cmp	r3, #2
 123 0058 08D0     		beq	.L11
 105:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	{
 106:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	   case Sn_MR_TCP:
 107:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      if((flag & (SF_TCP_NODELAY|SF_IO_NONBLOCK))==0) return SOCKERR_SOCKFLAG;
 108:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      break;
 109:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	   case Sn_MR_UDP:
 110:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      if(flag & SF_IGMP_VER2)
 111:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      {
 112:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	         if((flag & SF_MULTI_ENABLE)==0) return SOCKERR_SOCKFLAG;
 113:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      }
 114:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      #if _WIZCHIP_ == 5500
 115:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       	      if(flag & SF_UNI_BLOCK)
 116:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       	      {
 117:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       	         if((flag & SF_MULTI_ENABLE) == 0) return SOCKERR_SOCKFLAG;
 118:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       	      }
 119:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      #endif
 120:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      break;
 121:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	   default:
 122:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      break;
 124              		.loc 1 122 0
 125 005a 1EE0     		b	.L8
 126              	.L10:
 107:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      break;
 127              		.loc 1 107 0
 128 005c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 129 005e 03F02103 		and	r3, r3, #33
 130 0062 002B     		cmp	r3, #0
 131 0064 01D1     		bne	.L12
 107:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      break;
 132              		.loc 1 107 0 is_stmt 0 discriminator 1
 133 0066 FA23     		movs	r3, #250
 134 0068 B7E0     		b	.L3
 135              	.L12:
 108:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	   case Sn_MR_UDP:
 136              		.loc 1 108 0 is_stmt 1
 137 006a 16E0     		b	.L8
 138              	.L11:
 110:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      {
 139              		.loc 1 110 0
 140 006c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 141 006e 03F02003 		and	r3, r3, #32
 142 0072 002B     		cmp	r3, #0
 143 0074 05D0     		beq	.L13
 112:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      }
 144              		.loc 1 112 0
 145 0076 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 146 0078 5BB2     		sxtb	r3, r3
 147 007a 002B     		cmp	r3, #0
 148 007c 01DB     		blt	.L13
 112:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	      }
 149              		.loc 1 112 0 is_stmt 0 discriminator 1
 150 007e FA23     		movs	r3, #250
 151 0080 ABE0     		b	.L3
 152              	.L13:
 115:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       	      {
 153              		.loc 1 115 0 is_stmt 1
 154 0082 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 155 0084 03F01003 		and	r3, r3, #16
 156 0088 002B     		cmp	r3, #0
 157 008a 05D0     		beq	.L14
 117:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       	      }
 158              		.loc 1 117 0
 159 008c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 160 008e 5BB2     		sxtb	r3, r3
 161 0090 002B     		cmp	r3, #0
 162 0092 01DB     		blt	.L14
 117:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       	      }
 163              		.loc 1 117 0 is_stmt 0 discriminator 1
 164 0094 FA23     		movs	r3, #250
 165 0096 A0E0     		b	.L3
 166              	.L14:
 120:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	   default:
 167              		.loc 1 120 0 is_stmt 1
 168 0098 00BF     		nop
 169              	.L8:
 123:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	}
 124:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 125:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	close(sn);
 170              		.loc 1 125 0
 171 009a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 172 009c 1846     		mov	r0, r3
 173 009e FFF7FEFF 		bl	close
 126:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_MR(sn, (protocol | (flag & 0xF0)));
 174              		.loc 1 126 0
 175 00a2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 176 00a4 9B00     		lsls	r3, r3, #2
 177 00a6 0133     		adds	r3, r3, #1
 178 00a8 DB00     		lsls	r3, r3, #3
 179 00aa 1946     		mov	r1, r3
 180 00ac FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 181 00ae 23F00F03 		bic	r3, r3, #15
 182 00b2 DAB2     		uxtb	r2, r3
 183 00b4 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 184 00b6 1343     		orrs	r3, r3, r2
 185 00b8 DBB2     		uxtb	r3, r3
 186 00ba DBB2     		uxtb	r3, r3
 187 00bc 0846     		mov	r0, r1
 188 00be 1946     		mov	r1, r3
 189 00c0 FFF7FEFF 		bl	WIZCHIP_WRITE
 127:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	if(!port)
 190              		.loc 1 127 0
 191 00c4 BB88     		ldrh	r3, [r7, #4]
 192 00c6 002B     		cmp	r3, #0
 193 00c8 10D1     		bne	.L15
 128:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	{
 129:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   port = sock_any_port++;
 194              		.loc 1 129 0
 195 00ca 464B     		ldr	r3, .L19
 196 00cc 1B88     		ldrh	r3, [r3]
 197 00ce 5A1C     		adds	r2, r3, #1
 198 00d0 91B2     		uxth	r1, r2
 199 00d2 444A     		ldr	r2, .L19
 200 00d4 1180     		strh	r1, [r2]	@ movhi
 201 00d6 BB80     		strh	r3, [r7, #4]	@ movhi
 130:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   if(sock_any_port == 0xFFF0) sock_any_port = SOCK_ANY_PORT_NUM;
 202              		.loc 1 130 0
 203 00d8 424B     		ldr	r3, .L19
 204 00da 1B88     		ldrh	r3, [r3]
 205 00dc 4FF6F072 		movw	r2, #65520
 206 00e0 9342     		cmp	r3, r2
 207 00e2 03D1     		bne	.L15
 208              		.loc 1 130 0 is_stmt 0 discriminator 1
 209 00e4 3F4B     		ldr	r3, .L19
 210 00e6 4FF44042 		mov	r2, #49152
 211 00ea 1A80     		strh	r2, [r3]	@ movhi
 212              	.L15:
 131:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	}
 132:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    setSn_PORT(sn,port);	
 213              		.loc 1 132 0 is_stmt 1
 214 00ec FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 215 00ee 9B00     		lsls	r3, r3, #2
 216 00f0 0133     		adds	r3, r3, #1
 217 00f2 DB00     		lsls	r3, r3, #3
 218 00f4 03F58063 		add	r3, r3, #1024
 219 00f8 1A46     		mov	r2, r3
 220 00fa BB88     		ldrh	r3, [r7, #4]
 221 00fc 1B0A     		lsrs	r3, r3, #8
 222 00fe 9BB2     		uxth	r3, r3
 223 0100 DBB2     		uxtb	r3, r3
 224 0102 1046     		mov	r0, r2
 225 0104 1946     		mov	r1, r3
 226 0106 FFF7FEFF 		bl	WIZCHIP_WRITE
 227 010a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 228 010c 9B00     		lsls	r3, r3, #2
 229 010e 0133     		adds	r3, r3, #1
 230 0110 DB00     		lsls	r3, r3, #3
 231 0112 03F5A063 		add	r3, r3, #1280
 232 0116 1A46     		mov	r2, r3
 233 0118 BB88     		ldrh	r3, [r7, #4]	@ movhi
 234 011a DBB2     		uxtb	r3, r3
 235 011c 1046     		mov	r0, r2
 236 011e 1946     		mov	r1, r3
 237 0120 FFF7FEFF 		bl	WIZCHIP_WRITE
 133:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_OPEN);
 238              		.loc 1 133 0
 239 0124 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 240 0126 9B00     		lsls	r3, r3, #2
 241 0128 0133     		adds	r3, r3, #1
 242 012a DB00     		lsls	r3, r3, #3
 243 012c 03F58073 		add	r3, r3, #256
 244 0130 1846     		mov	r0, r3
 245 0132 0121     		movs	r1, #1
 246 0134 FFF7FEFF 		bl	WIZCHIP_WRITE
 134:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(getSn_CR(sn));
 247              		.loc 1 134 0
 248 0138 00BF     		nop
 249              	.L16:
 250              		.loc 1 134 0 is_stmt 0 discriminator 1
 251 013a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 252 013c 9B00     		lsls	r3, r3, #2
 253 013e 0133     		adds	r3, r3, #1
 254 0140 DB00     		lsls	r3, r3, #3
 255 0142 03F58073 		add	r3, r3, #256
 256 0146 1846     		mov	r0, r3
 257 0148 FFF7FEFF 		bl	WIZCHIP_READ
 258 014c 0346     		mov	r3, r0
 259 014e 002B     		cmp	r3, #0
 260 0150 F3D1     		bne	.L16
 135:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    // 这儿没有清空socket 的io mode
 136:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    sock_io_mode &= ~(1 << sn);      //FIX:清除相应的位
 261              		.loc 1 136 0 is_stmt 1
 262 0152 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 263 0154 0122     		movs	r2, #1
 264 0156 02FA03F3 		lsl	r3, r2, r3
 265 015a 9BB2     		uxth	r3, r3
 266 015c DB43     		mvns	r3, r3
 267 015e 9AB2     		uxth	r2, r3
 268 0160 214B     		ldr	r3, .L19+4
 269 0162 1B88     		ldrh	r3, [r3]
 270 0164 9BB2     		uxth	r3, r3
 271 0166 1340     		ands	r3, r3, r2
 272 0168 9BB2     		uxth	r3, r3
 273 016a 9AB2     		uxth	r2, r3
 274 016c 1E4B     		ldr	r3, .L19+4
 275 016e 1A80     		strh	r2, [r3]	@ movhi
 137:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    sock_io_mode |= ((flag & SF_IO_NONBLOCK) << sn);   
 276              		.loc 1 137 0
 277 0170 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 278 0172 03F00102 		and	r2, r3, #1
 279 0176 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 280 0178 02FA03F3 		lsl	r3, r2, r3
 281 017c 9AB2     		uxth	r2, r3
 282 017e 1A4B     		ldr	r3, .L19+4
 283 0180 1B88     		ldrh	r3, [r3]
 284 0182 9BB2     		uxth	r3, r3
 285 0184 1343     		orrs	r3, r3, r2
 286 0186 9BB2     		uxth	r3, r3
 287 0188 9AB2     		uxth	r2, r3
 288 018a 174B     		ldr	r3, .L19+4
 289 018c 1A80     		strh	r2, [r3]	@ movhi
 138:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    sock_is_sending &= ~(1<<sn);
 290              		.loc 1 138 0
 291 018e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 292 0190 0122     		movs	r2, #1
 293 0192 02FA03F3 		lsl	r3, r2, r3
 294 0196 9BB2     		uxth	r3, r3
 295 0198 DB43     		mvns	r3, r3
 296 019a 9AB2     		uxth	r2, r3
 297 019c 134B     		ldr	r3, .L19+8
 298 019e 1B88     		ldrh	r3, [r3]
 299 01a0 9BB2     		uxth	r3, r3
 300 01a2 1340     		ands	r3, r3, r2
 301 01a4 9BB2     		uxth	r3, r3
 302 01a6 9AB2     		uxth	r2, r3
 303 01a8 104B     		ldr	r3, .L19+8
 304 01aa 1A80     		strh	r2, [r3]	@ movhi
 139:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    sock_remained_size[sn] = 0;
 305              		.loc 1 139 0
 306 01ac FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 307 01ae 104A     		ldr	r2, .L19+12
 308 01b0 0021     		movs	r1, #0
 309 01b2 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 140:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    sock_pack_info[sn] = 0;
 310              		.loc 1 140 0
 311 01b6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 312 01b8 0E4A     		ldr	r2, .L19+16
 313 01ba 0021     		movs	r1, #0
 314 01bc D154     		strb	r1, [r2, r3]
 141:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(getSn_SR(sn) == SOCK_CLOSED);
 315              		.loc 1 141 0
 316 01be 00BF     		nop
 317              	.L17:
 318              		.loc 1 141 0 is_stmt 0 discriminator 1
 319 01c0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 320 01c2 9B00     		lsls	r3, r3, #2
 321 01c4 0133     		adds	r3, r3, #1
 322 01c6 DB00     		lsls	r3, r3, #3
 323 01c8 03F54073 		add	r3, r3, #768
 324 01cc 1846     		mov	r0, r3
 325 01ce FFF7FEFF 		bl	WIZCHIP_READ
 326 01d2 0346     		mov	r3, r0
 327 01d4 002B     		cmp	r3, #0
 328 01d6 F3D0     		beq	.L17
 142:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return (int8_t)sn;
 329              		.loc 1 142 0 is_stmt 1
 330 01d8 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 331              	.L3:
 332 01da 5BB2     		sxtb	r3, r3
 143:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }	   
 333              		.loc 1 143 0
 334 01dc 1846     		mov	r0, r3
 335 01de 0C37     		adds	r7, r7, #12
 336              		.cfi_def_cfa_offset 12
 337 01e0 BD46     		mov	sp, r7
 338              		.cfi_def_cfa_register 13
 339              		@ sp needed
 340 01e2 90BD     		pop	{r4, r7, pc}
 341              	.L20:
 342              		.align	2
 343              	.L19:
 344 01e4 00000000 		.word	sock_any_port
 345 01e8 00000000 		.word	sock_io_mode
 346 01ec 00000000 		.word	sock_is_sending
 347 01f0 00000000 		.word	sock_remained_size
 348 01f4 00000000 		.word	sock_pack_info
 349              		.cfi_endproc
 350              	.LFE0:
 352              		.section	.text.close,"ax",%progbits
 353              		.align	2
 354              		.global	close
 355              		.thumb
 356              		.thumb_func
 358              	close:
 359              	.LFB1:
 144:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 145:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t close(uint8_t sn)
 146:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 360              		.loc 1 146 0
 361              		.cfi_startproc
 362              		@ args = 0, pretend = 0, frame = 8
 363              		@ frame_needed = 1, uses_anonymous_args = 0
 364 0000 80B5     		push	{r7, lr}
 365              		.cfi_def_cfa_offset 8
 366              		.cfi_offset 7, -8
 367              		.cfi_offset 14, -4
 368 0002 82B0     		sub	sp, sp, #8
 369              		.cfi_def_cfa_offset 16
 370 0004 00AF     		add	r7, sp, #0
 371              		.cfi_def_cfa_register 7
 372 0006 0346     		mov	r3, r0
 373 0008 FB71     		strb	r3, [r7, #7]
 147:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	CHECK_SOCKNUM();
 374              		.loc 1 147 0
 375 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 376 000c 082B     		cmp	r3, #8
 377 000e 01D9     		bls	.L22
 378              		.loc 1 147 0 is_stmt 0 discriminator 1
 379 0010 FF23     		movs	r3, #255
 380 0012 46E0     		b	.L23
 381              	.L22:
 148:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	
 149:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_CLOSE);
 382              		.loc 1 149 0 is_stmt 1
 383 0014 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 384 0016 9B00     		lsls	r3, r3, #2
 385 0018 0133     		adds	r3, r3, #1
 386 001a DB00     		lsls	r3, r3, #3
 387 001c 03F58073 		add	r3, r3, #256
 388 0020 1846     		mov	r0, r3
 389 0022 1021     		movs	r1, #16
 390 0024 FFF7FEFF 		bl	WIZCHIP_WRITE
 150:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    /* wait to process the command... */
 151:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	while( getSn_CR(sn) );
 391              		.loc 1 151 0
 392 0028 00BF     		nop
 393              	.L24:
 394              		.loc 1 151 0 is_stmt 0 discriminator 1
 395 002a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 396 002c 9B00     		lsls	r3, r3, #2
 397 002e 0133     		adds	r3, r3, #1
 398 0030 DB00     		lsls	r3, r3, #3
 399 0032 03F58073 		add	r3, r3, #256
 400 0036 1846     		mov	r0, r3
 401 0038 FFF7FEFF 		bl	WIZCHIP_READ
 402 003c 0346     		mov	r3, r0
 403 003e 002B     		cmp	r3, #0
 404 0040 F3D1     		bne	.L24
 152:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	/* clear all interrupt of the socket. */
 153:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_IR(sn, 0xFF);
 405              		.loc 1 153 0 is_stmt 1
 406 0042 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 407 0044 9B00     		lsls	r3, r3, #2
 408 0046 0133     		adds	r3, r3, #1
 409 0048 DB00     		lsls	r3, r3, #3
 410 004a 03F50073 		add	r3, r3, #512
 411 004e 1846     		mov	r0, r3
 412 0050 1F21     		movs	r1, #31
 413 0052 FFF7FEFF 		bl	WIZCHIP_WRITE
 154:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	sock_is_sending &= ~(1<<sn);
 414              		.loc 1 154 0
 415 0056 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 416 0058 0122     		movs	r2, #1
 417 005a 02FA03F3 		lsl	r3, r2, r3
 418 005e 9BB2     		uxth	r3, r3
 419 0060 DB43     		mvns	r3, r3
 420 0062 9AB2     		uxth	r2, r3
 421 0064 114B     		ldr	r3, .L26
 422 0066 1B88     		ldrh	r3, [r3]
 423 0068 9BB2     		uxth	r3, r3
 424 006a 1340     		ands	r3, r3, r2
 425 006c 9BB2     		uxth	r3, r3
 426 006e 9AB2     		uxth	r2, r3
 427 0070 0E4B     		ldr	r3, .L26
 428 0072 1A80     		strh	r2, [r3]	@ movhi
 155:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	sock_remained_size[sn] = 0;
 429              		.loc 1 155 0
 430 0074 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 431 0076 0E4A     		ldr	r2, .L26+4
 432 0078 0021     		movs	r1, #0
 433 007a 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 156:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	sock_pack_info[sn] = 0;
 434              		.loc 1 156 0
 435 007e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 436 0080 0C4A     		ldr	r2, .L26+8
 437 0082 0021     		movs	r1, #0
 438 0084 D154     		strb	r1, [r2, r3]
 157:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	while(getSn_SR(sn) != SOCK_CLOSED);
 439              		.loc 1 157 0
 440 0086 00BF     		nop
 441              	.L25:
 442              		.loc 1 157 0 is_stmt 0 discriminator 1
 443 0088 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 444 008a 9B00     		lsls	r3, r3, #2
 445 008c 0133     		adds	r3, r3, #1
 446 008e DB00     		lsls	r3, r3, #3
 447 0090 03F54073 		add	r3, r3, #768
 448 0094 1846     		mov	r0, r3
 449 0096 FFF7FEFF 		bl	WIZCHIP_READ
 450 009a 0346     		mov	r3, r0
 451 009c 002B     		cmp	r3, #0
 452 009e F3D1     		bne	.L25
 158:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	return SOCK_OK;
 453              		.loc 1 158 0 is_stmt 1
 454 00a0 0123     		movs	r3, #1
 455              	.L23:
 456 00a2 5BB2     		sxtb	r3, r3
 159:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 457              		.loc 1 159 0
 458 00a4 1846     		mov	r0, r3
 459 00a6 0837     		adds	r7, r7, #8
 460              		.cfi_def_cfa_offset 8
 461 00a8 BD46     		mov	sp, r7
 462              		.cfi_def_cfa_register 13
 463              		@ sp needed
 464 00aa 80BD     		pop	{r7, pc}
 465              	.L27:
 466              		.align	2
 467              	.L26:
 468 00ac 00000000 		.word	sock_is_sending
 469 00b0 00000000 		.word	sock_remained_size
 470 00b4 00000000 		.word	sock_pack_info
 471              		.cfi_endproc
 472              	.LFE1:
 474              		.section	.text.listen,"ax",%progbits
 475              		.align	2
 476              		.global	listen
 477              		.thumb
 478              		.thumb_func
 480              	listen:
 481              	.LFB2:
 160:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 161:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t listen(uint8_t sn)
 162:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 482              		.loc 1 162 0
 483              		.cfi_startproc
 484              		@ args = 0, pretend = 0, frame = 8
 485              		@ frame_needed = 1, uses_anonymous_args = 0
 486 0000 80B5     		push	{r7, lr}
 487              		.cfi_def_cfa_offset 8
 488              		.cfi_offset 7, -8
 489              		.cfi_offset 14, -4
 490 0002 82B0     		sub	sp, sp, #8
 491              		.cfi_def_cfa_offset 16
 492 0004 00AF     		add	r7, sp, #0
 493              		.cfi_def_cfa_register 7
 494 0006 0346     		mov	r3, r0
 495 0008 FB71     		strb	r3, [r7, #7]
 163:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	CHECK_SOCKNUM();
 496              		.loc 1 163 0
 497 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 498 000c 082B     		cmp	r3, #8
 499 000e 01D9     		bls	.L29
 500              		.loc 1 163 0 is_stmt 0 discriminator 1
 501 0010 FF23     		movs	r3, #255
 502 0012 52E0     		b	.L30
 503              	.L29:
 164:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 504              		.loc 1 164 0 is_stmt 1
 505 0014 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 506 0016 9B00     		lsls	r3, r3, #2
 507 0018 0133     		adds	r3, r3, #1
 508 001a DB00     		lsls	r3, r3, #3
 509 001c 1846     		mov	r0, r3
 510 001e FFF7FEFF 		bl	WIZCHIP_READ
 511 0022 0346     		mov	r3, r0
 512 0024 03F00F03 		and	r3, r3, #15
 513 0028 012B     		cmp	r3, #1
 514 002a 01D0     		beq	.L31
 515              		.loc 1 164 0 is_stmt 0 discriminator 1
 516 002c FB23     		movs	r3, #251
 517 002e 44E0     		b	.L30
 518              	.L31:
 165:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	CHECK_SOCKINIT();
 519              		.loc 1 165 0 is_stmt 1
 520 0030 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 521 0032 9B00     		lsls	r3, r3, #2
 522 0034 0133     		adds	r3, r3, #1
 523 0036 DB00     		lsls	r3, r3, #3
 524 0038 03F54073 		add	r3, r3, #768
 525 003c 1846     		mov	r0, r3
 526 003e FFF7FEFF 		bl	WIZCHIP_READ
 527 0042 0346     		mov	r3, r0
 528 0044 132B     		cmp	r3, #19
 529 0046 01D0     		beq	.L32
 530              		.loc 1 165 0 is_stmt 0 discriminator 1
 531 0048 FD23     		movs	r3, #253
 532 004a 36E0     		b	.L30
 533              	.L32:
 166:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_LISTEN);
 534              		.loc 1 166 0 is_stmt 1
 535 004c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 536 004e 9B00     		lsls	r3, r3, #2
 537 0050 0133     		adds	r3, r3, #1
 538 0052 DB00     		lsls	r3, r3, #3
 539 0054 03F58073 		add	r3, r3, #256
 540 0058 1846     		mov	r0, r3
 541 005a 0221     		movs	r1, #2
 542 005c FFF7FEFF 		bl	WIZCHIP_WRITE
 167:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	while(getSn_CR(sn));
 543              		.loc 1 167 0
 544 0060 00BF     		nop
 545              	.L33:
 546              		.loc 1 167 0 is_stmt 0 discriminator 1
 547 0062 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 548 0064 9B00     		lsls	r3, r3, #2
 549 0066 0133     		adds	r3, r3, #1
 550 0068 DB00     		lsls	r3, r3, #3
 551 006a 03F58073 		add	r3, r3, #256
 552 006e 1846     		mov	r0, r3
 553 0070 FFF7FEFF 		bl	WIZCHIP_READ
 554 0074 0346     		mov	r3, r0
 555 0076 002B     		cmp	r3, #0
 556 0078 F3D1     		bne	.L33
 168:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(getSn_SR(sn) != SOCK_LISTEN)
 557              		.loc 1 168 0 is_stmt 1
 558 007a 11E0     		b	.L34
 559              	.L35:
 169:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 170:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(getSn_CR(sn) == SOCK_CLOSED)
 560              		.loc 1 170 0
 561 007c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 562 007e 9B00     		lsls	r3, r3, #2
 563 0080 0133     		adds	r3, r3, #1
 564 0082 DB00     		lsls	r3, r3, #3
 565 0084 03F58073 		add	r3, r3, #256
 566 0088 1846     		mov	r0, r3
 567 008a FFF7FEFF 		bl	WIZCHIP_READ
 568 008e 0346     		mov	r3, r0
 569 0090 002B     		cmp	r3, #0
 570 0092 05D1     		bne	.L34
 171:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 172:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          close(sn);
 571              		.loc 1 172 0
 572 0094 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 573 0096 1846     		mov	r0, r3
 574 0098 FFF7FEFF 		bl	close
 173:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_SOCKCLOSED;
 575              		.loc 1 173 0
 576 009c FC23     		movs	r3, #252
 577 009e 0CE0     		b	.L30
 578              	.L34:
 168:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 579              		.loc 1 168 0
 580 00a0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 581 00a2 9B00     		lsls	r3, r3, #2
 582 00a4 0133     		adds	r3, r3, #1
 583 00a6 DB00     		lsls	r3, r3, #3
 584 00a8 03F54073 		add	r3, r3, #768
 585 00ac 1846     		mov	r0, r3
 586 00ae FFF7FEFF 		bl	WIZCHIP_READ
 587 00b2 0346     		mov	r3, r0
 588 00b4 142B     		cmp	r3, #20
 589 00b6 E1D1     		bne	.L35
 174:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 175:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 176:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return SOCK_OK;
 590              		.loc 1 176 0
 591 00b8 0123     		movs	r3, #1
 592              	.L30:
 593 00ba 5BB2     		sxtb	r3, r3
 177:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 594              		.loc 1 177 0
 595 00bc 1846     		mov	r0, r3
 596 00be 0837     		adds	r7, r7, #8
 597              		.cfi_def_cfa_offset 8
 598 00c0 BD46     		mov	sp, r7
 599              		.cfi_def_cfa_register 13
 600              		@ sp needed
 601 00c2 80BD     		pop	{r7, pc}
 602              		.cfi_endproc
 603              	.LFE2:
 605              		.section	.text.connect,"ax",%progbits
 606              		.align	2
 607              		.global	connect
 608              		.thumb
 609              		.thumb_func
 611              	connect:
 612              	.LFB3:
 178:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 179:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 180:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t connect(uint8_t sn, uint8_t * addr, uint16_t port)
 181:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 613              		.loc 1 181 0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 8
 616              		@ frame_needed = 1, uses_anonymous_args = 0
 617 0000 80B5     		push	{r7, lr}
 618              		.cfi_def_cfa_offset 8
 619              		.cfi_offset 7, -8
 620              		.cfi_offset 14, -4
 621 0002 82B0     		sub	sp, sp, #8
 622              		.cfi_def_cfa_offset 16
 623 0004 00AF     		add	r7, sp, #0
 624              		.cfi_def_cfa_register 7
 625 0006 0346     		mov	r3, r0
 626 0008 3960     		str	r1, [r7]
 627 000a FB71     		strb	r3, [r7, #7]
 628 000c 1346     		mov	r3, r2	@ movhi
 629 000e BB80     		strh	r3, [r7, #4]	@ movhi
 182:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 630              		.loc 1 182 0
 631 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 632 0012 082B     		cmp	r3, #8
 633 0014 01D9     		bls	.L37
 634              		.loc 1 182 0 is_stmt 0 discriminator 1
 635 0016 FF23     		movs	r3, #255
 636 0018 9DE0     		b	.L38
 637              	.L37:
 183:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 638              		.loc 1 183 0 is_stmt 1
 639 001a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 640 001c 9B00     		lsls	r3, r3, #2
 641 001e 0133     		adds	r3, r3, #1
 642 0020 DB00     		lsls	r3, r3, #3
 643 0022 1846     		mov	r0, r3
 644 0024 FFF7FEFF 		bl	WIZCHIP_READ
 645 0028 0346     		mov	r3, r0
 646 002a 03F00F03 		and	r3, r3, #15
 647 002e 012B     		cmp	r3, #1
 648 0030 01D0     		beq	.L39
 649              		.loc 1 183 0 is_stmt 0 discriminator 1
 650 0032 FB23     		movs	r3, #251
 651 0034 8FE0     		b	.L38
 652              	.L39:
 184:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKINIT();
 653              		.loc 1 184 0 is_stmt 1
 654 0036 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 655 0038 9B00     		lsls	r3, r3, #2
 656 003a 0133     		adds	r3, r3, #1
 657 003c DB00     		lsls	r3, r3, #3
 658 003e 03F54073 		add	r3, r3, #768
 659 0042 1846     		mov	r0, r3
 660 0044 FFF7FEFF 		bl	WIZCHIP_READ
 661 0048 0346     		mov	r3, r0
 662 004a 132B     		cmp	r3, #19
 663 004c 01D0     		beq	.L40
 664              		.loc 1 184 0 is_stmt 0 discriminator 1
 665 004e FD23     		movs	r3, #253
 666 0050 81E0     		b	.L38
 667              	.L40:
 185:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	if( *((uint32_t*)addr) == 0xFFFFFFFF || *((uint32_t*)addr) == 0) return SOCKERR_IPINVALID;
 668              		.loc 1 185 0 is_stmt 1
 669 0052 3B68     		ldr	r3, [r7]
 670 0054 1B68     		ldr	r3, [r3]
 671 0056 B3F1FF3F 		cmp	r3, #-1
 672 005a 03D0     		beq	.L41
 673              		.loc 1 185 0 is_stmt 0 discriminator 2
 674 005c 3B68     		ldr	r3, [r7]
 675 005e 1B68     		ldr	r3, [r3]
 676 0060 002B     		cmp	r3, #0
 677 0062 01D1     		bne	.L42
 678              	.L41:
 679              		.loc 1 185 0 discriminator 3
 680 0064 F423     		movs	r3, #244
 681 0066 76E0     		b	.L38
 682              	.L42:
 186:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	if(port == 0) return SOCKERR_PORTZERO;
 683              		.loc 1 186 0 is_stmt 1
 684 0068 BB88     		ldrh	r3, [r7, #4]
 685 006a 002B     		cmp	r3, #0
 686 006c 01D1     		bne	.L43
 687              		.loc 1 186 0 is_stmt 0 discriminator 1
 688 006e F523     		movs	r3, #245
 689 0070 71E0     		b	.L38
 690              	.L43:
 187:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_DIPR(sn,addr);
 691              		.loc 1 187 0 is_stmt 1
 692 0072 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 693 0074 9B00     		lsls	r3, r3, #2
 694 0076 0133     		adds	r3, r3, #1
 695 0078 DB00     		lsls	r3, r3, #3
 696 007a 03F54063 		add	r3, r3, #3072
 697 007e 1846     		mov	r0, r3
 698 0080 3968     		ldr	r1, [r7]
 699 0082 0422     		movs	r2, #4
 700 0084 FFF7FEFF 		bl	WIZCHIP_WRITE_BUF
 188:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_DPORT(sn,port);
 701              		.loc 1 188 0
 702 0088 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 703 008a 9B00     		lsls	r3, r3, #2
 704 008c 0133     		adds	r3, r3, #1
 705 008e DB00     		lsls	r3, r3, #3
 706 0090 03F58053 		add	r3, r3, #4096
 707 0094 1A46     		mov	r2, r3
 708 0096 BB88     		ldrh	r3, [r7, #4]
 709 0098 1B0A     		lsrs	r3, r3, #8
 710 009a 9BB2     		uxth	r3, r3
 711 009c DBB2     		uxtb	r3, r3
 712 009e 1046     		mov	r0, r2
 713 00a0 1946     		mov	r1, r3
 714 00a2 FFF7FEFF 		bl	WIZCHIP_WRITE
 715 00a6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 716 00a8 9B00     		lsls	r3, r3, #2
 717 00aa 0133     		adds	r3, r3, #1
 718 00ac DB00     		lsls	r3, r3, #3
 719 00ae 03F58853 		add	r3, r3, #4352
 720 00b2 1A46     		mov	r2, r3
 721 00b4 BB88     		ldrh	r3, [r7, #4]	@ movhi
 722 00b6 DBB2     		uxtb	r3, r3
 723 00b8 1046     		mov	r0, r2
 724 00ba 1946     		mov	r1, r3
 725 00bc FFF7FEFF 		bl	WIZCHIP_WRITE
 189:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200   // for W5200 ARP errata 
 190:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       setSUBR(0);
 191:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
 192:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_CONNECT);
 726              		.loc 1 192 0
 727 00c0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 728 00c2 9B00     		lsls	r3, r3, #2
 729 00c4 0133     		adds	r3, r3, #1
 730 00c6 DB00     		lsls	r3, r3, #3
 731 00c8 03F58073 		add	r3, r3, #256
 732 00cc 1846     		mov	r0, r3
 733 00ce 0421     		movs	r1, #4
 734 00d0 FFF7FEFF 		bl	WIZCHIP_WRITE
 193:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(getSn_CR(sn));
 735              		.loc 1 193 0
 736 00d4 00BF     		nop
 737              	.L44:
 738              		.loc 1 193 0 is_stmt 0 discriminator 1
 739 00d6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 740 00d8 9B00     		lsls	r3, r3, #2
 741 00da 0133     		adds	r3, r3, #1
 742 00dc DB00     		lsls	r3, r3, #3
 743 00de 03F58073 		add	r3, r3, #256
 744 00e2 1846     		mov	r0, r3
 745 00e4 FFF7FEFF 		bl	WIZCHIP_READ
 746 00e8 0346     		mov	r3, r0
 747 00ea 002B     		cmp	r3, #0
 748 00ec F3D1     		bne	.L44
 194:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(sock_io_mode & (1<<sn)) return SOCK_BUSY;
 749              		.loc 1 194 0 is_stmt 1
 750 00ee 1C4B     		ldr	r3, .L48
 751 00f0 1B88     		ldrh	r3, [r3]
 752 00f2 1A46     		mov	r2, r3
 753 00f4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 754 00f6 42FA03F3 		asr	r3, r2, r3
 755 00fa 03F00103 		and	r3, r3, #1
 756 00fe 002B     		cmp	r3, #0
 757 0100 01D0     		beq	.L45
 758              		.loc 1 194 0 is_stmt 0 discriminator 1
 759 0102 0023     		movs	r3, #0
 760 0104 27E0     		b	.L38
 761              	.L45:
 195:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(getSn_SR(sn) != SOCK_ESTABLISHED)
 762              		.loc 1 195 0 is_stmt 1
 763 0106 19E0     		b	.L46
 764              	.L47:
 196:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {   
 197:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 		if (getSn_IR(sn) & Sn_IR_TIMEOUT)
 765              		.loc 1 197 0
 766 0108 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 767 010a 9B00     		lsls	r3, r3, #2
 768 010c 0133     		adds	r3, r3, #1
 769 010e DB00     		lsls	r3, r3, #3
 770 0110 03F50073 		add	r3, r3, #512
 771 0114 1846     		mov	r0, r3
 772 0116 FFF7FEFF 		bl	WIZCHIP_READ
 773 011a 0346     		mov	r3, r0
 774 011c 03F00803 		and	r3, r3, #8
 775 0120 002B     		cmp	r3, #0
 776 0122 0BD0     		beq	.L46
 198:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 		{
 199:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			setSn_IR(sn, Sn_IR_TIMEOUT);
 777              		.loc 1 199 0
 778 0124 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 779 0126 9B00     		lsls	r3, r3, #2
 780 0128 0133     		adds	r3, r3, #1
 781 012a DB00     		lsls	r3, r3, #3
 782 012c 03F50073 		add	r3, r3, #512
 783 0130 1846     		mov	r0, r3
 784 0132 0821     		movs	r1, #8
 785 0134 FFF7FEFF 		bl	WIZCHIP_WRITE
 200:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          #if _WIZCHIP_ == 5200   // for W5200 ARP errata 
 201:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             setSUBR((uint8_t*)"\x00\x00\x00\x00");
 202:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          #endif
 203:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 786              		.loc 1 203 0
 787 0138 F323     		movs	r3, #243
 788 013a 0CE0     		b	.L38
 789              	.L46:
 195:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {   
 790              		.loc 1 195 0
 791 013c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 792 013e 9B00     		lsls	r3, r3, #2
 793 0140 0133     		adds	r3, r3, #1
 794 0142 DB00     		lsls	r3, r3, #3
 795 0144 03F54073 		add	r3, r3, #768
 796 0148 1846     		mov	r0, r3
 797 014a FFF7FEFF 		bl	WIZCHIP_READ
 798 014e 0346     		mov	r3, r0
 799 0150 172B     		cmp	r3, #23
 800 0152 D9D1     		bne	.L47
 204:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 		}
 205:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	}
 206:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200   // for W5200 ARP errata 
 207:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       setSUBR((uint8_t*)"\x00\x00\x00\x00");
 208:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
 209:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    
 210:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return SOCK_OK;
 801              		.loc 1 210 0
 802 0154 0123     		movs	r3, #1
 803              	.L38:
 804 0156 5BB2     		sxtb	r3, r3
 211:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 805              		.loc 1 211 0
 806 0158 1846     		mov	r0, r3
 807 015a 0837     		adds	r7, r7, #8
 808              		.cfi_def_cfa_offset 8
 809 015c BD46     		mov	sp, r7
 810              		.cfi_def_cfa_register 13
 811              		@ sp needed
 812 015e 80BD     		pop	{r7, pc}
 813              	.L49:
 814              		.align	2
 815              	.L48:
 816 0160 00000000 		.word	sock_io_mode
 817              		.cfi_endproc
 818              	.LFE3:
 820              		.section	.text.disconnect,"ax",%progbits
 821              		.align	2
 822              		.global	disconnect
 823              		.thumb
 824              		.thumb_func
 826              	disconnect:
 827              	.LFB4:
 212:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 213:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t disconnect(uint8_t sn)
 214:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 828              		.loc 1 214 0
 829              		.cfi_startproc
 830              		@ args = 0, pretend = 0, frame = 8
 831              		@ frame_needed = 1, uses_anonymous_args = 0
 832 0000 80B5     		push	{r7, lr}
 833              		.cfi_def_cfa_offset 8
 834              		.cfi_offset 7, -8
 835              		.cfi_offset 14, -4
 836 0002 82B0     		sub	sp, sp, #8
 837              		.cfi_def_cfa_offset 16
 838 0004 00AF     		add	r7, sp, #0
 839              		.cfi_def_cfa_register 7
 840 0006 0346     		mov	r3, r0
 841 0008 FB71     		strb	r3, [r7, #7]
 215:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 842              		.loc 1 215 0
 843 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 844 000c 082B     		cmp	r3, #8
 845 000e 01D9     		bls	.L51
 846              		.loc 1 215 0 is_stmt 0 discriminator 1
 847 0010 FF23     		movs	r3, #255
 848 0012 61E0     		b	.L52
 849              	.L51:
 216:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 850              		.loc 1 216 0 is_stmt 1
 851 0014 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 852 0016 9B00     		lsls	r3, r3, #2
 853 0018 0133     		adds	r3, r3, #1
 854 001a DB00     		lsls	r3, r3, #3
 855 001c 1846     		mov	r0, r3
 856 001e FFF7FEFF 		bl	WIZCHIP_READ
 857 0022 0346     		mov	r3, r0
 858 0024 03F00F03 		and	r3, r3, #15
 859 0028 012B     		cmp	r3, #1
 860 002a 01D0     		beq	.L53
 861              		.loc 1 216 0 is_stmt 0 discriminator 1
 862 002c FB23     		movs	r3, #251
 863 002e 53E0     		b	.L52
 864              	.L53:
 217:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_DISCON);
 865              		.loc 1 217 0 is_stmt 1
 866 0030 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 867 0032 9B00     		lsls	r3, r3, #2
 868 0034 0133     		adds	r3, r3, #1
 869 0036 DB00     		lsls	r3, r3, #3
 870 0038 03F58073 		add	r3, r3, #256
 871 003c 1846     		mov	r0, r3
 872 003e 0821     		movs	r1, #8
 873 0040 FFF7FEFF 		bl	WIZCHIP_WRITE
 218:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	/* wait to process the command... */
 219:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	while(getSn_CR(sn));
 874              		.loc 1 219 0
 875 0044 00BF     		nop
 876              	.L54:
 877              		.loc 1 219 0 is_stmt 0 discriminator 1
 878 0046 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 879 0048 9B00     		lsls	r3, r3, #2
 880 004a 0133     		adds	r3, r3, #1
 881 004c DB00     		lsls	r3, r3, #3
 882 004e 03F58073 		add	r3, r3, #256
 883 0052 1846     		mov	r0, r3
 884 0054 FFF7FEFF 		bl	WIZCHIP_READ
 885 0058 0346     		mov	r3, r0
 886 005a 002B     		cmp	r3, #0
 887 005c F3D1     		bne	.L54
 220:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	sock_is_sending &= ~(1<<sn);
 888              		.loc 1 220 0 is_stmt 1
 889 005e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 890 0060 0122     		movs	r2, #1
 891 0062 02FA03F3 		lsl	r3, r2, r3
 892 0066 9BB2     		uxth	r3, r3
 893 0068 DB43     		mvns	r3, r3
 894 006a 9AB2     		uxth	r2, r3
 895 006c 1D4B     		ldr	r3, .L58
 896 006e 1B88     		ldrh	r3, [r3]
 897 0070 9BB2     		uxth	r3, r3
 898 0072 1340     		ands	r3, r3, r2
 899 0074 9BB2     		uxth	r3, r3
 900 0076 9AB2     		uxth	r2, r3
 901 0078 1A4B     		ldr	r3, .L58
 902 007a 1A80     		strh	r2, [r3]	@ movhi
 221:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(sock_io_mode & (1<<sn)) return SOCK_BUSY;
 903              		.loc 1 221 0
 904 007c 1A4B     		ldr	r3, .L58+4
 905 007e 1B88     		ldrh	r3, [r3]
 906 0080 1A46     		mov	r2, r3
 907 0082 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 908 0084 42FA03F3 		asr	r3, r2, r3
 909 0088 03F00103 		and	r3, r3, #1
 910 008c 002B     		cmp	r3, #0
 911 008e 01D0     		beq	.L55
 912              		.loc 1 221 0 is_stmt 0 discriminator 1
 913 0090 0023     		movs	r3, #0
 914 0092 21E0     		b	.L52
 915              	.L55:
 222:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	while(getSn_SR(sn) != SOCK_CLOSED)
 916              		.loc 1 222 0 is_stmt 1
 917 0094 13E0     		b	.L56
 918              	.L57:
 223:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	{
 224:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   if(getSn_IR(sn) & Sn_IR_TIMEOUT)
 919              		.loc 1 224 0
 920 0096 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 921 0098 9B00     		lsls	r3, r3, #2
 922 009a 0133     		adds	r3, r3, #1
 923 009c DB00     		lsls	r3, r3, #3
 924 009e 03F50073 		add	r3, r3, #512
 925 00a2 1846     		mov	r0, r3
 926 00a4 FFF7FEFF 		bl	WIZCHIP_READ
 927 00a8 0346     		mov	r3, r0
 928 00aa 03F00803 		and	r3, r3, #8
 929 00ae 002B     		cmp	r3, #0
 930 00b0 05D0     		beq	.L56
 225:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   {
 226:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	      close(sn);
 931              		.loc 1 226 0
 932 00b2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 933 00b4 1846     		mov	r0, r3
 934 00b6 FFF7FEFF 		bl	close
 227:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	      return SOCKERR_TIMEOUT;
 935              		.loc 1 227 0
 936 00ba F323     		movs	r3, #243
 937 00bc 0CE0     		b	.L52
 938              	.L56:
 222:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	{
 939              		.loc 1 222 0
 940 00be FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 941 00c0 9B00     		lsls	r3, r3, #2
 942 00c2 0133     		adds	r3, r3, #1
 943 00c4 DB00     		lsls	r3, r3, #3
 944 00c6 03F54073 		add	r3, r3, #768
 945 00ca 1846     		mov	r0, r3
 946 00cc FFF7FEFF 		bl	WIZCHIP_READ
 947 00d0 0346     		mov	r3, r0
 948 00d2 002B     		cmp	r3, #0
 949 00d4 DFD1     		bne	.L57
 228:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   }
 229:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	}
 230:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	return SOCK_OK;
 950              		.loc 1 230 0
 951 00d6 0123     		movs	r3, #1
 952              	.L52:
 953 00d8 5BB2     		sxtb	r3, r3
 231:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 954              		.loc 1 231 0
 955 00da 1846     		mov	r0, r3
 956 00dc 0837     		adds	r7, r7, #8
 957              		.cfi_def_cfa_offset 8
 958 00de BD46     		mov	sp, r7
 959              		.cfi_def_cfa_register 13
 960              		@ sp needed
 961 00e0 80BD     		pop	{r7, pc}
 962              	.L59:
 963 00e2 00BF     		.align	2
 964              	.L58:
 965 00e4 00000000 		.word	sock_is_sending
 966 00e8 00000000 		.word	sock_io_mode
 967              		.cfi_endproc
 968              	.LFE4:
 970              		.section	.text.send,"ax",%progbits
 971              		.align	2
 972              		.global	send
 973              		.thumb
 974              		.thumb_func
 976              	send:
 977              	.LFB5:
 232:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 233:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int32_t send(uint8_t sn, uint8_t * buf, uint16_t len)
 234:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 978              		.loc 1 234 0
 979              		.cfi_startproc
 980              		@ args = 0, pretend = 0, frame = 16
 981              		@ frame_needed = 1, uses_anonymous_args = 0
 982 0000 80B5     		push	{r7, lr}
 983              		.cfi_def_cfa_offset 8
 984              		.cfi_offset 7, -8
 985              		.cfi_offset 14, -4
 986 0002 84B0     		sub	sp, sp, #16
 987              		.cfi_def_cfa_offset 24
 988 0004 00AF     		add	r7, sp, #0
 989              		.cfi_def_cfa_register 7
 990 0006 0346     		mov	r3, r0
 991 0008 3960     		str	r1, [r7]
 992 000a FB71     		strb	r3, [r7, #7]
 993 000c 1346     		mov	r3, r2	@ movhi
 994 000e BB80     		strh	r3, [r7, #4]	@ movhi
 235:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint8_t tmp=0;
 995              		.loc 1 235 0
 996 0010 0023     		movs	r3, #0
 997 0012 FB73     		strb	r3, [r7, #15]
 236:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint16_t freesize=0;
 998              		.loc 1 236 0
 999 0014 0023     		movs	r3, #0
 1000 0016 BB81     		strh	r3, [r7, #12]	@ movhi
 237:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    
 238:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 1001              		.loc 1 238 0
 1002 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1003 001a 082B     		cmp	r3, #8
 1004 001c 02D9     		bls	.L61
 1005              		.loc 1 238 0 is_stmt 0 discriminator 1
 1006 001e 4FF0FF33 		mov	r3, #-1
 1007 0022 DFE0     		b	.L62
 1008              	.L61:
 239:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 1009              		.loc 1 239 0 is_stmt 1
 1010 0024 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1011 0026 9B00     		lsls	r3, r3, #2
 1012 0028 0133     		adds	r3, r3, #1
 1013 002a DB00     		lsls	r3, r3, #3
 1014 002c 1846     		mov	r0, r3
 1015 002e FFF7FEFF 		bl	WIZCHIP_READ
 1016 0032 0346     		mov	r3, r0
 1017 0034 03F00F03 		and	r3, r3, #15
 1018 0038 012B     		cmp	r3, #1
 1019 003a 02D0     		beq	.L63
 1020              		.loc 1 239 0 is_stmt 0 discriminator 1
 1021 003c 6FF00403 		mvn	r3, #4
 1022 0040 D0E0     		b	.L62
 1023              	.L63:
 240:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1024              		.loc 1 240 0 is_stmt 1
 1025 0042 BB88     		ldrh	r3, [r7, #4]
 1026 0044 002B     		cmp	r3, #0
 1027 0046 02D1     		bne	.L64
 1028              		.loc 1 240 0 is_stmt 0 discriminator 1
 1029 0048 6FF00D03 		mvn	r3, #13
 1030 004c CAE0     		b	.L62
 1031              	.L64:
 241:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    tmp = getSn_SR(sn);
 1032              		.loc 1 241 0 is_stmt 1
 1033 004e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1034 0050 9B00     		lsls	r3, r3, #2
 1035 0052 0133     		adds	r3, r3, #1
 1036 0054 DB00     		lsls	r3, r3, #3
 1037 0056 03F54073 		add	r3, r3, #768
 1038 005a 1846     		mov	r0, r3
 1039 005c FFF7FEFF 		bl	WIZCHIP_READ
 1040 0060 0346     		mov	r3, r0
 1041 0062 FB73     		strb	r3, [r7, #15]
 242:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(tmp != SOCK_ESTABLISHED && tmp != SOCK_CLOSE_WAIT) return SOCKERR_SOCKSTATUS;
 1042              		.loc 1 242 0
 1043 0064 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1044 0066 172B     		cmp	r3, #23
 1045 0068 05D0     		beq	.L65
 1046              		.loc 1 242 0 is_stmt 0 discriminator 1
 1047 006a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1048 006c 1C2B     		cmp	r3, #28
 1049 006e 02D0     		beq	.L65
 1050              		.loc 1 242 0 discriminator 2
 1051 0070 6FF00603 		mvn	r3, #6
 1052 0074 B6E0     		b	.L62
 1053              	.L65:
 243:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if( sock_is_sending & (1<<sn) )
 1054              		.loc 1 243 0 is_stmt 1
 1055 0076 5D4B     		ldr	r3, .L75
 1056 0078 1B88     		ldrh	r3, [r3]
 1057 007a 1A46     		mov	r2, r3
 1058 007c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1059 007e 42FA03F3 		asr	r3, r2, r3
 1060 0082 03F00103 		and	r3, r3, #1
 1061 0086 002B     		cmp	r3, #0
 1062 0088 39D0     		beq	.L66
 244:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 245:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       tmp = getSn_IR(sn);
 1063              		.loc 1 245 0
 1064 008a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1065 008c 9B00     		lsls	r3, r3, #2
 1066 008e 0133     		adds	r3, r3, #1
 1067 0090 DB00     		lsls	r3, r3, #3
 1068 0092 03F50073 		add	r3, r3, #512
 1069 0096 1846     		mov	r0, r3
 1070 0098 FFF7FEFF 		bl	WIZCHIP_READ
 1071 009c 0346     		mov	r3, r0
 1072 009e 03F01F03 		and	r3, r3, #31
 1073 00a2 FB73     		strb	r3, [r7, #15]
 246:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(tmp & Sn_IR_SENDOK)
 1074              		.loc 1 246 0
 1075 00a4 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1076 00a6 03F01003 		and	r3, r3, #16
 1077 00aa 002B     		cmp	r3, #0
 1078 00ac 19D0     		beq	.L67
 247:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 248:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_IR(sn, Sn_IR_SENDOK);
 1079              		.loc 1 248 0
 1080 00ae FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1081 00b0 9B00     		lsls	r3, r3, #2
 1082 00b2 0133     		adds	r3, r3, #1
 1083 00b4 DB00     		lsls	r3, r3, #3
 1084 00b6 03F50073 		add	r3, r3, #512
 1085 00ba 1846     		mov	r0, r3
 1086 00bc 1021     		movs	r1, #16
 1087 00be FFF7FEFF 		bl	WIZCHIP_WRITE
 249:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          #if _WZICHIP_ == 5200
 250:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             if(getSn_TX_RD(sn) != sock_next_rd[sn])
 251:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             {
 252:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****                setSn_CR(sn,Sn_CR_SEND);
 253:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****                while(getSn_CR(sn));
 254:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****                return SOCKERR_BUSY;
 255:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             }
 256:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          #endif
 257:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          sock_is_sending &= ~(1<<sn);         
 1088              		.loc 1 257 0
 1089 00c2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1090 00c4 0122     		movs	r2, #1
 1091 00c6 02FA03F3 		lsl	r3, r2, r3
 1092 00ca 9BB2     		uxth	r3, r3
 1093 00cc DB43     		mvns	r3, r3
 1094 00ce 9AB2     		uxth	r2, r3
 1095 00d0 464B     		ldr	r3, .L75
 1096 00d2 1B88     		ldrh	r3, [r3]
 1097 00d4 9BB2     		uxth	r3, r3
 1098 00d6 1340     		ands	r3, r3, r2
 1099 00d8 9BB2     		uxth	r3, r3
 1100 00da 9AB2     		uxth	r2, r3
 1101 00dc 434B     		ldr	r3, .L75
 1102 00de 1A80     		strh	r2, [r3]	@ movhi
 1103 00e0 0DE0     		b	.L66
 1104              	.L67:
 258:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 259:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       else if(tmp & Sn_IR_TIMEOUT)
 1105              		.loc 1 259 0
 1106 00e2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1107 00e4 03F00803 		and	r3, r3, #8
 1108 00e8 002B     		cmp	r3, #0
 1109 00ea 06D0     		beq	.L68
 260:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 261:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          close(sn);
 1110              		.loc 1 261 0
 1111 00ec FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1112 00ee 1846     		mov	r0, r3
 1113 00f0 FFF7FEFF 		bl	close
 262:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 1114              		.loc 1 262 0
 1115 00f4 6FF00C03 		mvn	r3, #12
 1116 00f8 74E0     		b	.L62
 1117              	.L68:
 263:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 264:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       else return SOCK_BUSY;
 1118              		.loc 1 264 0
 1119 00fa 0023     		movs	r3, #0
 1120 00fc 72E0     		b	.L62
 1121              	.L66:
 265:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 266:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    freesize = getSn_TxMAX(sn);
 1122              		.loc 1 266 0
 1123 00fe FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1124 0100 9B00     		lsls	r3, r3, #2
 1125 0102 0133     		adds	r3, r3, #1
 1126 0104 DB00     		lsls	r3, r3, #3
 1127 0106 03F5F853 		add	r3, r3, #7936
 1128 010a 1846     		mov	r0, r3
 1129 010c FFF7FEFF 		bl	WIZCHIP_READ
 1130 0110 0346     		mov	r3, r0
 1131 0112 9BB2     		uxth	r3, r3
 1132 0114 9B02     		lsls	r3, r3, #10
 1133 0116 BB81     		strh	r3, [r7, #12]	@ movhi
 267:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if (len > freesize) len = freesize; // check size not to exceed MAX size.
 1134              		.loc 1 267 0
 1135 0118 BA88     		ldrh	r2, [r7, #4]
 1136 011a BB89     		ldrh	r3, [r7, #12]
 1137 011c 9A42     		cmp	r2, r3
 1138 011e 01D9     		bls	.L69
 1139              		.loc 1 267 0 is_stmt 0 discriminator 1
 1140 0120 BB89     		ldrh	r3, [r7, #12]	@ movhi
 1141 0122 BB80     		strh	r3, [r7, #4]	@ movhi
 1142              	.L69:
 268:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(1)
 269:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 270:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       freesize = getSn_TX_FSR(sn);
 1143              		.loc 1 270 0 is_stmt 1
 1144 0124 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1145 0126 1846     		mov	r0, r3
 1146 0128 FFF7FEFF 		bl	getSn_TX_FSR
 1147 012c 0346     		mov	r3, r0
 1148 012e BB81     		strh	r3, [r7, #12]	@ movhi
 271:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       tmp = getSn_SR(sn);
 1149              		.loc 1 271 0
 1150 0130 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1151 0132 9B00     		lsls	r3, r3, #2
 1152 0134 0133     		adds	r3, r3, #1
 1153 0136 DB00     		lsls	r3, r3, #3
 1154 0138 03F54073 		add	r3, r3, #768
 1155 013c 1846     		mov	r0, r3
 1156 013e FFF7FEFF 		bl	WIZCHIP_READ
 1157 0142 0346     		mov	r3, r0
 1158 0144 FB73     		strb	r3, [r7, #15]
 272:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if ((tmp != SOCK_ESTABLISHED) && (tmp != SOCK_CLOSE_WAIT))
 1159              		.loc 1 272 0
 1160 0146 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1161 0148 172B     		cmp	r3, #23
 1162 014a 09D0     		beq	.L70
 1163              		.loc 1 272 0 is_stmt 0 discriminator 1
 1164 014c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1165 014e 1C2B     		cmp	r3, #28
 1166 0150 06D0     		beq	.L70
 273:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 274:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          close(sn);
 1167              		.loc 1 274 0 is_stmt 1
 1168 0152 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1169 0154 1846     		mov	r0, r3
 1170 0156 FFF7FEFF 		bl	close
 275:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_SOCKSTATUS;
 1171              		.loc 1 275 0
 1172 015a 6FF00603 		mvn	r3, #6
 1173 015e 41E0     		b	.L62
 1174              	.L70:
 276:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 277:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 1175              		.loc 1 277 0
 1176 0160 234B     		ldr	r3, .L75+4
 1177 0162 1B88     		ldrh	r3, [r3]
 1178 0164 1A46     		mov	r2, r3
 1179 0166 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1180 0168 42FA03F3 		asr	r3, r2, r3
 1181 016c 03F00103 		and	r3, r3, #1
 1182 0170 002B     		cmp	r3, #0
 1183 0172 05D0     		beq	.L71
 1184              		.loc 1 277 0 is_stmt 0 discriminator 1
 1185 0174 BA88     		ldrh	r2, [r7, #4]
 1186 0176 BB89     		ldrh	r3, [r7, #12]
 1187 0178 9A42     		cmp	r2, r3
 1188 017a 01D9     		bls	.L71
 1189              		.loc 1 277 0 discriminator 2
 1190 017c 0023     		movs	r3, #0
 1191 017e 31E0     		b	.L62
 1192              	.L71:
 278:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(len <= freesize) break;
 1193              		.loc 1 278 0 is_stmt 1
 1194 0180 BA88     		ldrh	r2, [r7, #4]
 1195 0182 BB89     		ldrh	r3, [r7, #12]
 1196 0184 9A42     		cmp	r2, r3
 1197 0186 12D8     		bhi	.L72
 1198 0188 00BF     		nop
 279:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 280:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    wiz_send_data(sn, buf, len);
 1199              		.loc 1 280 0
 1200 018a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1201 018c BB88     		ldrh	r3, [r7, #4]
 1202 018e 1046     		mov	r0, r2
 1203 0190 3968     		ldr	r1, [r7]
 1204 0192 1A46     		mov	r2, r3
 1205 0194 FFF7FEFF 		bl	wiz_send_data
 281:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200
 282:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       sock_next_rd[sn] = getSn_TX_RD(sn) + len;
 283:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
 284:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_SEND);
 1206              		.loc 1 284 0
 1207 0198 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1208 019a 9B00     		lsls	r3, r3, #2
 1209 019c 0133     		adds	r3, r3, #1
 1210 019e DB00     		lsls	r3, r3, #3
 1211 01a0 03F58073 		add	r3, r3, #256
 1212 01a4 1846     		mov	r0, r3
 1213 01a6 2021     		movs	r1, #32
 1214 01a8 FFF7FEFF 		bl	WIZCHIP_WRITE
 285:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    /* wait to process the command... */
 286:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(getSn_CR(sn));
 1215              		.loc 1 286 0
 1216 01ac 00E0     		b	.L74
 1217              	.L72:
 279:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    wiz_send_data(sn, buf, len);
 1218              		.loc 1 279 0
 1219 01ae B9E7     		b	.L69
 1220              	.L74:
 1221              		.loc 1 286 0 discriminator 1
 1222 01b0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1223 01b2 9B00     		lsls	r3, r3, #2
 1224 01b4 0133     		adds	r3, r3, #1
 1225 01b6 DB00     		lsls	r3, r3, #3
 1226 01b8 03F58073 		add	r3, r3, #256
 1227 01bc 1846     		mov	r0, r3
 1228 01be FFF7FEFF 		bl	WIZCHIP_READ
 1229 01c2 0346     		mov	r3, r0
 1230 01c4 002B     		cmp	r3, #0
 1231 01c6 F3D1     		bne	.L74
 287:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    sock_is_sending |= (1 << sn);
 1232              		.loc 1 287 0
 1233 01c8 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1234 01ca 0122     		movs	r2, #1
 1235 01cc 02FA03F3 		lsl	r3, r2, r3
 1236 01d0 9AB2     		uxth	r2, r3
 1237 01d2 064B     		ldr	r3, .L75
 1238 01d4 1B88     		ldrh	r3, [r3]
 1239 01d6 9BB2     		uxth	r3, r3
 1240 01d8 1343     		orrs	r3, r3, r2
 1241 01da 9BB2     		uxth	r3, r3
 1242 01dc 9AB2     		uxth	r2, r3
 1243 01de 034B     		ldr	r3, .L75
 1244 01e0 1A80     		strh	r2, [r3]	@ movhi
 288:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return len;
 1245              		.loc 1 288 0
 1246 01e2 BB88     		ldrh	r3, [r7, #4]
 1247              	.L62:
 289:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 1248              		.loc 1 289 0
 1249 01e4 1846     		mov	r0, r3
 1250 01e6 1037     		adds	r7, r7, #16
 1251              		.cfi_def_cfa_offset 8
 1252 01e8 BD46     		mov	sp, r7
 1253              		.cfi_def_cfa_register 13
 1254              		@ sp needed
 1255 01ea 80BD     		pop	{r7, pc}
 1256              	.L76:
 1257              		.align	2
 1258              	.L75:
 1259 01ec 00000000 		.word	sock_is_sending
 1260 01f0 00000000 		.word	sock_io_mode
 1261              		.cfi_endproc
 1262              	.LFE5:
 1264              		.section	.text.recv,"ax",%progbits
 1265              		.align	2
 1266              		.global	recv
 1267              		.thumb
 1268              		.thumb_func
 1270              	recv:
 1271              	.LFB6:
 290:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 291:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 292:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int32_t recv(uint8_t sn, uint8_t * buf, uint16_t len)
 293:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 1272              		.loc 1 293 0
 1273              		.cfi_startproc
 1274              		@ args = 0, pretend = 0, frame = 16
 1275              		@ frame_needed = 1, uses_anonymous_args = 0
 1276 0000 90B5     		push	{r4, r7, lr}
 1277              		.cfi_def_cfa_offset 12
 1278              		.cfi_offset 4, -12
 1279              		.cfi_offset 7, -8
 1280              		.cfi_offset 14, -4
 1281 0002 85B0     		sub	sp, sp, #20
 1282              		.cfi_def_cfa_offset 32
 1283 0004 00AF     		add	r7, sp, #0
 1284              		.cfi_def_cfa_register 7
 1285 0006 0346     		mov	r3, r0
 1286 0008 3960     		str	r1, [r7]
 1287 000a FB71     		strb	r3, [r7, #7]
 1288 000c 1346     		mov	r3, r2	@ movhi
 1289 000e BB80     		strh	r3, [r7, #4]	@ movhi
 294:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint8_t  tmp = 0;
 1290              		.loc 1 294 0
 1291 0010 0023     		movs	r3, #0
 1292 0012 FB73     		strb	r3, [r7, #15]
 295:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint16_t recvsize = 0;
 1293              		.loc 1 295 0
 1294 0014 0023     		movs	r3, #0
 1295 0016 BB81     		strh	r3, [r7, #12]	@ movhi
 296:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 1296              		.loc 1 296 0
 1297 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1298 001a 082B     		cmp	r3, #8
 1299 001c 02D9     		bls	.L78
 1300              		.loc 1 296 0 is_stmt 0 discriminator 1
 1301 001e 4FF0FF33 		mov	r3, #-1
 1302 0022 9CE0     		b	.L79
 1303              	.L78:
 297:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKMODE(Sn_MR_TCP);
 1304              		.loc 1 297 0 is_stmt 1
 1305 0024 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1306 0026 9B00     		lsls	r3, r3, #2
 1307 0028 0133     		adds	r3, r3, #1
 1308 002a DB00     		lsls	r3, r3, #3
 1309 002c 1846     		mov	r0, r3
 1310 002e FFF7FEFF 		bl	WIZCHIP_READ
 1311 0032 0346     		mov	r3, r0
 1312 0034 03F00F03 		and	r3, r3, #15
 1313 0038 012B     		cmp	r3, #1
 1314 003a 02D0     		beq	.L80
 1315              		.loc 1 297 0 is_stmt 0 discriminator 1
 1316 003c 6FF00403 		mvn	r3, #4
 1317 0040 8DE0     		b	.L79
 1318              	.L80:
 298:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1319              		.loc 1 298 0 is_stmt 1
 1320 0042 BB88     		ldrh	r3, [r7, #4]
 1321 0044 002B     		cmp	r3, #0
 1322 0046 02D1     		bne	.L81
 1323              		.loc 1 298 0 is_stmt 0 discriminator 1
 1324 0048 6FF00D03 		mvn	r3, #13
 1325 004c 87E0     		b	.L79
 1326              	.L81:
 299:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    
 300:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    recvsize = getSn_RxMAX(sn);
 1327              		.loc 1 300 0 is_stmt 1
 1328 004e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1329 0050 9B00     		lsls	r3, r3, #2
 1330 0052 0133     		adds	r3, r3, #1
 1331 0054 DB00     		lsls	r3, r3, #3
 1332 0056 03F5F053 		add	r3, r3, #7680
 1333 005a 1846     		mov	r0, r3
 1334 005c FFF7FEFF 		bl	WIZCHIP_READ
 1335 0060 0346     		mov	r3, r0
 1336 0062 9BB2     		uxth	r3, r3
 1337 0064 9B02     		lsls	r3, r3, #10
 1338 0066 BB81     		strh	r3, [r7, #12]	@ movhi
 301:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(recvsize < len) len = recvsize;
 1339              		.loc 1 301 0
 1340 0068 BA89     		ldrh	r2, [r7, #12]
 1341 006a BB88     		ldrh	r3, [r7, #4]
 1342 006c 9A42     		cmp	r2, r3
 1343 006e 01D2     		bcs	.L82
 1344              		.loc 1 301 0 is_stmt 0 discriminator 1
 1345 0070 BB89     		ldrh	r3, [r7, #12]	@ movhi
 1346 0072 BB80     		strh	r3, [r7, #4]	@ movhi
 1347              	.L82:
 302:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(1)
 303:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 304:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       recvsize = getSn_RX_RSR(sn);
 1348              		.loc 1 304 0 is_stmt 1
 1349 0074 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1350 0076 1846     		mov	r0, r3
 1351 0078 FFF7FEFF 		bl	getSn_RX_RSR
 1352 007c 0346     		mov	r3, r0
 1353 007e BB81     		strh	r3, [r7, #12]	@ movhi
 305:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       tmp = getSn_SR(sn);
 1354              		.loc 1 305 0
 1355 0080 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1356 0082 9B00     		lsls	r3, r3, #2
 1357 0084 0133     		adds	r3, r3, #1
 1358 0086 DB00     		lsls	r3, r3, #3
 1359 0088 03F54073 		add	r3, r3, #768
 1360 008c 1846     		mov	r0, r3
 1361 008e FFF7FEFF 		bl	WIZCHIP_READ
 1362 0092 0346     		mov	r3, r0
 1363 0094 FB73     		strb	r3, [r7, #15]
 306:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if (tmp != SOCK_ESTABLISHED)
 1364              		.loc 1 306 0
 1365 0096 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1366 0098 172B     		cmp	r3, #23
 1367 009a 27D0     		beq	.L83
 307:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 308:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if(tmp == SOCK_CLOSE_WAIT)
 1368              		.loc 1 308 0
 1369 009c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1370 009e 1C2B     		cmp	r3, #28
 1371 00a0 1DD1     		bne	.L84
 309:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          {
 310:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             if(recvsize != 0) break;
 1372              		.loc 1 310 0
 1373 00a2 BB89     		ldrh	r3, [r7, #12]
 1374 00a4 002B     		cmp	r3, #0
 1375 00a6 00D0     		beq	.L85
 1376 00a8 34E0     		b	.L86
 1377              	.L85:
 311:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             else if(getSn_TX_FSR(sn) == getSn_TxMAX(sn))
 1378              		.loc 1 311 0
 1379 00aa FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1380 00ac 1846     		mov	r0, r3
 1381 00ae FFF7FEFF 		bl	getSn_TX_FSR
 1382 00b2 0346     		mov	r3, r0
 1383 00b4 1C46     		mov	r4, r3
 1384 00b6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1385 00b8 9B00     		lsls	r3, r3, #2
 1386 00ba 0133     		adds	r3, r3, #1
 1387 00bc DB00     		lsls	r3, r3, #3
 1388 00be 03F5F853 		add	r3, r3, #7936
 1389 00c2 1846     		mov	r0, r3
 1390 00c4 FFF7FEFF 		bl	WIZCHIP_READ
 1391 00c8 0346     		mov	r3, r0
 1392 00ca 9B02     		lsls	r3, r3, #10
 1393 00cc 9C42     		cmp	r4, r3
 1394 00ce 0DD1     		bne	.L83
 312:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             {
 313:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****                close(sn);
 1395              		.loc 1 313 0
 1396 00d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1397 00d2 1846     		mov	r0, r3
 1398 00d4 FFF7FEFF 		bl	close
 314:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****                return SOCKERR_SOCKSTATUS;
 1399              		.loc 1 314 0
 1400 00d8 6FF00603 		mvn	r3, #6
 1401 00dc 3FE0     		b	.L79
 1402              	.L84:
 315:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             }
 316:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          }
 317:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          else
 318:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          {
 319:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             close(sn);
 1403              		.loc 1 319 0
 1404 00de FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1405 00e0 1846     		mov	r0, r3
 1406 00e2 FFF7FEFF 		bl	close
 320:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             return SOCKERR_SOCKSTATUS;
 1407              		.loc 1 320 0
 1408 00e6 6FF00603 		mvn	r3, #6
 1409 00ea 38E0     		b	.L79
 1410              	.L83:
 321:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          }
 322:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 323:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if((sock_io_mode & (1<<sn)) && (recvsize == 0)) return SOCK_BUSY;
 1411              		.loc 1 323 0
 1412 00ec 1E4B     		ldr	r3, .L91
 1413 00ee 1B88     		ldrh	r3, [r3]
 1414 00f0 1A46     		mov	r2, r3
 1415 00f2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1416 00f4 42FA03F3 		asr	r3, r2, r3
 1417 00f8 03F00103 		and	r3, r3, #1
 1418 00fc 002B     		cmp	r3, #0
 1419 00fe 04D0     		beq	.L87
 1420              		.loc 1 323 0 is_stmt 0 discriminator 1
 1421 0100 BB89     		ldrh	r3, [r7, #12]
 1422 0102 002B     		cmp	r3, #0
 1423 0104 01D1     		bne	.L87
 1424              		.loc 1 323 0 discriminator 2
 1425 0106 0023     		movs	r3, #0
 1426 0108 29E0     		b	.L79
 1427              	.L87:
 324:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(recvsize != 0) break;
 1428              		.loc 1 324 0 is_stmt 1
 1429 010a BB89     		ldrh	r3, [r7, #12]
 1430 010c 002B     		cmp	r3, #0
 1431 010e 00D0     		beq	.L88
 1432 0110 00E0     		b	.L86
 1433              	.L88:
 325:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    };
 1434              		.loc 1 325 0
 1435 0112 AFE7     		b	.L82
 1436              	.L86:
 326:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(recvsize < len) len = recvsize;
 1437              		.loc 1 326 0
 1438 0114 BA89     		ldrh	r2, [r7, #12]
 1439 0116 BB88     		ldrh	r3, [r7, #4]
 1440 0118 9A42     		cmp	r2, r3
 1441 011a 01D2     		bcs	.L89
 1442              		.loc 1 326 0 is_stmt 0 discriminator 1
 1443 011c BB89     		ldrh	r3, [r7, #12]	@ movhi
 1444 011e BB80     		strh	r3, [r7, #4]	@ movhi
 1445              	.L89:
 327:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    wiz_recv_data(sn, buf, len);
 1446              		.loc 1 327 0 is_stmt 1
 1447 0120 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1448 0122 BB88     		ldrh	r3, [r7, #4]
 1449 0124 1046     		mov	r0, r2
 1450 0126 3968     		ldr	r1, [r7]
 1451 0128 1A46     		mov	r2, r3
 1452 012a FFF7FEFF 		bl	wiz_recv_data
 328:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    setSn_CR(sn,Sn_CR_RECV);
 1453              		.loc 1 328 0
 1454 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1455 0130 9B00     		lsls	r3, r3, #2
 1456 0132 0133     		adds	r3, r3, #1
 1457 0134 DB00     		lsls	r3, r3, #3
 1458 0136 03F58073 		add	r3, r3, #256
 1459 013a 1846     		mov	r0, r3
 1460 013c 4021     		movs	r1, #64
 1461 013e FFF7FEFF 		bl	WIZCHIP_WRITE
 329:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(getSn_CR(sn));
 1462              		.loc 1 329 0
 1463 0142 00BF     		nop
 1464              	.L90:
 1465              		.loc 1 329 0 is_stmt 0 discriminator 1
 1466 0144 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1467 0146 9B00     		lsls	r3, r3, #2
 1468 0148 0133     		adds	r3, r3, #1
 1469 014a DB00     		lsls	r3, r3, #3
 1470 014c 03F58073 		add	r3, r3, #256
 1471 0150 1846     		mov	r0, r3
 1472 0152 FFF7FEFF 		bl	WIZCHIP_READ
 1473 0156 0346     		mov	r3, r0
 1474 0158 002B     		cmp	r3, #0
 1475 015a F3D1     		bne	.L90
 330:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return len;
 1476              		.loc 1 330 0 is_stmt 1
 1477 015c BB88     		ldrh	r3, [r7, #4]
 1478              	.L79:
 331:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 1479              		.loc 1 331 0
 1480 015e 1846     		mov	r0, r3
 1481 0160 1437     		adds	r7, r7, #20
 1482              		.cfi_def_cfa_offset 12
 1483 0162 BD46     		mov	sp, r7
 1484              		.cfi_def_cfa_register 13
 1485              		@ sp needed
 1486 0164 90BD     		pop	{r4, r7, pc}
 1487              	.L92:
 1488 0166 00BF     		.align	2
 1489              	.L91:
 1490 0168 00000000 		.word	sock_io_mode
 1491              		.cfi_endproc
 1492              	.LFE6:
 1494              		.section	.text.sendto,"ax",%progbits
 1495              		.align	2
 1496              		.global	sendto
 1497              		.thumb
 1498              		.thumb_func
 1500              	sendto:
 1501              	.LFB7:
 332:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 333:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int32_t sendto(uint8_t sn, uint8_t * buf, uint16_t len, uint8_t * addr, uint16_t port)
 334:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 1502              		.loc 1 334 0
 1503              		.cfi_startproc
 1504              		@ args = 4, pretend = 0, frame = 24
 1505              		@ frame_needed = 1, uses_anonymous_args = 0
 1506 0000 80B5     		push	{r7, lr}
 1507              		.cfi_def_cfa_offset 8
 1508              		.cfi_offset 7, -8
 1509              		.cfi_offset 14, -4
 1510 0002 86B0     		sub	sp, sp, #24
 1511              		.cfi_def_cfa_offset 32
 1512 0004 00AF     		add	r7, sp, #0
 1513              		.cfi_def_cfa_register 7
 1514 0006 B960     		str	r1, [r7, #8]
 1515 0008 7B60     		str	r3, [r7, #4]
 1516 000a 0346     		mov	r3, r0
 1517 000c FB73     		strb	r3, [r7, #15]
 1518 000e 1346     		mov	r3, r2	@ movhi
 1519 0010 BB81     		strh	r3, [r7, #12]	@ movhi
 335:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint8_t tmp = 0;
 1520              		.loc 1 335 0
 1521 0012 0023     		movs	r3, #0
 1522 0014 FB75     		strb	r3, [r7, #23]
 336:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint16_t freesize = 0;
 1523              		.loc 1 336 0
 1524 0016 0023     		movs	r3, #0
 1525 0018 BB82     		strh	r3, [r7, #20]	@ movhi
 337:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 1526              		.loc 1 337 0
 1527 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1528 001c 082B     		cmp	r3, #8
 1529 001e 02D9     		bls	.L94
 1530              		.loc 1 337 0 is_stmt 0 discriminator 1
 1531 0020 4FF0FF33 		mov	r3, #-1
 1532 0024 EDE0     		b	.L95
 1533              	.L94:
 338:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    switch(getSn_MR(sn) & 0x0F)
 1534              		.loc 1 338 0 is_stmt 1
 1535 0026 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1536 0028 9B00     		lsls	r3, r3, #2
 1537 002a 0133     		adds	r3, r3, #1
 1538 002c DB00     		lsls	r3, r3, #3
 1539 002e 1846     		mov	r0, r3
 1540 0030 FFF7FEFF 		bl	WIZCHIP_READ
 1541 0034 0346     		mov	r3, r0
 1542 0036 03F00F03 		and	r3, r3, #15
 1543 003a 022B     		cmp	r3, #2
 1544 003c 04D0     		beq	.L113
 1545 003e 042B     		cmp	r3, #4
 1546 0040 02D0     		beq	.L113
 339:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 340:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_UDP:
 341:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_MACRAW:
 342:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 343:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default:
 344:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_SOCKMODE;
 1547              		.loc 1 344 0
 1548 0042 6FF00403 		mvn	r3, #4
 1549 0046 DCE0     		b	.L95
 1550              	.L113:
 342:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default:
 1551              		.loc 1 342 0
 1552 0048 00BF     		nop
 345:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 346:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1553              		.loc 1 346 0
 1554 004a BB89     		ldrh	r3, [r7, #12]
 1555 004c 002B     		cmp	r3, #0
 1556 004e 02D1     		bne	.L99
 1557              		.loc 1 346 0 is_stmt 0 discriminator 1
 1558 0050 6FF00D03 		mvn	r3, #13
 1559 0054 D5E0     		b	.L95
 1560              	.L99:
 347:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(*((uint32_t*)addr) == 0) return SOCKERR_IPINVALID;
 1561              		.loc 1 347 0 is_stmt 1
 1562 0056 7B68     		ldr	r3, [r7, #4]
 1563 0058 1B68     		ldr	r3, [r3]
 1564 005a 002B     		cmp	r3, #0
 1565 005c 02D1     		bne	.L100
 1566              		.loc 1 347 0 is_stmt 0 discriminator 1
 1567 005e 6FF00B03 		mvn	r3, #11
 1568 0062 CEE0     		b	.L95
 1569              	.L100:
 348:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(port == 0)               return SOCKERR_PORTZERO;
 1570              		.loc 1 348 0 is_stmt 1
 1571 0064 3B8C     		ldrh	r3, [r7, #32]
 1572 0066 002B     		cmp	r3, #0
 1573 0068 02D1     		bne	.L101
 1574              		.loc 1 348 0 is_stmt 0 discriminator 1
 1575 006a 6FF00A03 		mvn	r3, #10
 1576 006e C8E0     		b	.L95
 1577              	.L101:
 349:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    tmp = getSn_SR(sn);
 1578              		.loc 1 349 0 is_stmt 1
 1579 0070 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1580 0072 9B00     		lsls	r3, r3, #2
 1581 0074 0133     		adds	r3, r3, #1
 1582 0076 DB00     		lsls	r3, r3, #3
 1583 0078 03F54073 		add	r3, r3, #768
 1584 007c 1846     		mov	r0, r3
 1585 007e FFF7FEFF 		bl	WIZCHIP_READ
 1586 0082 0346     		mov	r3, r0
 1587 0084 FB75     		strb	r3, [r7, #23]
 350:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(tmp != SOCK_MACRAW && tmp != SOCK_UDP) return SOCKERR_SOCKSTATUS;
 1588              		.loc 1 350 0
 1589 0086 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1590 0088 422B     		cmp	r3, #66
 1591 008a 05D0     		beq	.L102
 1592              		.loc 1 350 0 is_stmt 0 discriminator 1
 1593 008c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1594 008e 222B     		cmp	r3, #34
 1595 0090 02D0     		beq	.L102
 1596              		.loc 1 350 0 discriminator 2
 1597 0092 6FF00603 		mvn	r3, #6
 1598 0096 B4E0     		b	.L95
 1599              	.L102:
 351:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       
 352:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    setSn_DIPR(sn,addr);
 1600              		.loc 1 352 0 is_stmt 1
 1601 0098 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1602 009a 9B00     		lsls	r3, r3, #2
 1603 009c 0133     		adds	r3, r3, #1
 1604 009e DB00     		lsls	r3, r3, #3
 1605 00a0 03F54063 		add	r3, r3, #3072
 1606 00a4 1846     		mov	r0, r3
 1607 00a6 7968     		ldr	r1, [r7, #4]
 1608 00a8 0422     		movs	r2, #4
 1609 00aa FFF7FEFF 		bl	WIZCHIP_WRITE_BUF
 353:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    setSn_DPORT(sn,port);      
 1610              		.loc 1 353 0
 1611 00ae FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1612 00b0 9B00     		lsls	r3, r3, #2
 1613 00b2 0133     		adds	r3, r3, #1
 1614 00b4 DB00     		lsls	r3, r3, #3
 1615 00b6 03F58053 		add	r3, r3, #4096
 1616 00ba 1A46     		mov	r2, r3
 1617 00bc 3B8C     		ldrh	r3, [r7, #32]
 1618 00be 1B0A     		lsrs	r3, r3, #8
 1619 00c0 9BB2     		uxth	r3, r3
 1620 00c2 DBB2     		uxtb	r3, r3
 1621 00c4 1046     		mov	r0, r2
 1622 00c6 1946     		mov	r1, r3
 1623 00c8 FFF7FEFF 		bl	WIZCHIP_WRITE
 1624 00cc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1625 00ce 9B00     		lsls	r3, r3, #2
 1626 00d0 0133     		adds	r3, r3, #1
 1627 00d2 DB00     		lsls	r3, r3, #3
 1628 00d4 03F58853 		add	r3, r3, #4352
 1629 00d8 1A46     		mov	r2, r3
 1630 00da 3B8C     		ldrh	r3, [r7, #32]	@ movhi
 1631 00dc DBB2     		uxtb	r3, r3
 1632 00de 1046     		mov	r0, r2
 1633 00e0 1946     		mov	r1, r3
 1634 00e2 FFF7FEFF 		bl	WIZCHIP_WRITE
 354:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    freesize = getSn_TxMAX(sn);
 1635              		.loc 1 354 0
 1636 00e6 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1637 00e8 9B00     		lsls	r3, r3, #2
 1638 00ea 0133     		adds	r3, r3, #1
 1639 00ec DB00     		lsls	r3, r3, #3
 1640 00ee 03F5F853 		add	r3, r3, #7936
 1641 00f2 1846     		mov	r0, r3
 1642 00f4 FFF7FEFF 		bl	WIZCHIP_READ
 1643 00f8 0346     		mov	r3, r0
 1644 00fa 9BB2     		uxth	r3, r3
 1645 00fc 9B02     		lsls	r3, r3, #10
 1646 00fe BB82     		strh	r3, [r7, #20]	@ movhi
 355:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if (len > freesize) len = freesize; // check size not to exceed MAX size.
 1647              		.loc 1 355 0
 1648 0100 BA89     		ldrh	r2, [r7, #12]
 1649 0102 BB8A     		ldrh	r3, [r7, #20]
 1650 0104 9A42     		cmp	r2, r3
 1651 0106 01D9     		bls	.L103
 1652              		.loc 1 355 0 is_stmt 0 discriminator 1
 1653 0108 BB8A     		ldrh	r3, [r7, #20]	@ movhi
 1654 010a BB81     		strh	r3, [r7, #12]	@ movhi
 1655              	.L103:
 356:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(1)
 357:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 358:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       freesize = getSn_TX_FSR(sn);
 1656              		.loc 1 358 0 is_stmt 1
 1657 010c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1658 010e 1846     		mov	r0, r3
 1659 0110 FFF7FEFF 		bl	getSn_TX_FSR
 1660 0114 0346     		mov	r3, r0
 1661 0116 BB82     		strh	r3, [r7, #20]	@ movhi
 359:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 1662              		.loc 1 359 0
 1663 0118 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1664 011a 9B00     		lsls	r3, r3, #2
 1665 011c 0133     		adds	r3, r3, #1
 1666 011e DB00     		lsls	r3, r3, #3
 1667 0120 03F54073 		add	r3, r3, #768
 1668 0124 1846     		mov	r0, r3
 1669 0126 FFF7FEFF 		bl	WIZCHIP_READ
 1670 012a 0346     		mov	r3, r0
 1671 012c 002B     		cmp	r3, #0
 1672 012e 02D1     		bne	.L104
 1673              		.loc 1 359 0 is_stmt 0 discriminator 1
 1674 0130 6FF00303 		mvn	r3, #3
 1675 0134 65E0     		b	.L95
 1676              	.L104:
 360:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if( (sock_io_mode & (1<<sn)) && (len > freesize) ) return SOCK_BUSY;
 1677              		.loc 1 360 0 is_stmt 1
 1678 0136 354B     		ldr	r3, .L114
 1679 0138 1B88     		ldrh	r3, [r3]
 1680 013a 1A46     		mov	r2, r3
 1681 013c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1682 013e 42FA03F3 		asr	r3, r2, r3
 1683 0142 03F00103 		and	r3, r3, #1
 1684 0146 002B     		cmp	r3, #0
 1685 0148 05D0     		beq	.L105
 1686              		.loc 1 360 0 is_stmt 0 discriminator 1
 1687 014a BA89     		ldrh	r2, [r7, #12]
 1688 014c BB8A     		ldrh	r3, [r7, #20]
 1689 014e 9A42     		cmp	r2, r3
 1690 0150 01D9     		bls	.L105
 1691              		.loc 1 360 0 discriminator 2
 1692 0152 0023     		movs	r3, #0
 1693 0154 55E0     		b	.L95
 1694              	.L105:
 361:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(len <= freesize) break;
 1695              		.loc 1 361 0 is_stmt 1
 1696 0156 BA89     		ldrh	r2, [r7, #12]
 1697 0158 BB8A     		ldrh	r3, [r7, #20]
 1698 015a 9A42     		cmp	r2, r3
 1699 015c 12D8     		bhi	.L106
 1700 015e 00BF     		nop
 362:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    };
 363:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	wiz_send_data(sn, buf, len);
 1701              		.loc 1 363 0
 1702 0160 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1703 0162 BB89     		ldrh	r3, [r7, #12]
 1704 0164 1046     		mov	r0, r2
 1705 0166 B968     		ldr	r1, [r7, #8]
 1706 0168 1A46     		mov	r2, r3
 1707 016a FFF7FEFF 		bl	wiz_send_data
 364:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 365:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200   // for W5200 ARP errata 
 366:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       setSUBR(0);
 367:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
 368:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 369:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_SEND);
 1708              		.loc 1 369 0
 1709 016e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1710 0170 9B00     		lsls	r3, r3, #2
 1711 0172 0133     		adds	r3, r3, #1
 1712 0174 DB00     		lsls	r3, r3, #3
 1713 0176 03F58073 		add	r3, r3, #256
 1714 017a 1846     		mov	r0, r3
 1715 017c 2021     		movs	r1, #32
 1716 017e FFF7FEFF 		bl	WIZCHIP_WRITE
 370:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	/* wait to process the command... */
 371:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	while(getSn_CR(sn));
 1717              		.loc 1 371 0
 1718 0182 00E0     		b	.L108
 1719              	.L106:
 362:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	wiz_send_data(sn, buf, len);
 1720              		.loc 1 362 0
 1721 0184 C2E7     		b	.L103
 1722              	.L108:
 1723              		.loc 1 371 0 discriminator 1
 1724 0186 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1725 0188 9B00     		lsls	r3, r3, #2
 1726 018a 0133     		adds	r3, r3, #1
 1727 018c DB00     		lsls	r3, r3, #3
 1728 018e 03F58073 		add	r3, r3, #256
 1729 0192 1846     		mov	r0, r3
 1730 0194 FFF7FEFF 		bl	WIZCHIP_READ
 1731 0198 0346     		mov	r3, r0
 1732 019a 002B     		cmp	r3, #0
 1733 019c F3D1     		bne	.L108
 1734              	.L112:
 372:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if _WIZCHIP_ == 5200   // for W5200 ARP errata 
 373:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       setSUBR((uint8_t*)"\x00\x00\x00\x00");
 374:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
 375:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    while(1)
 376:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 377:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       tmp = getSn_IR(sn);
 1735              		.loc 1 377 0
 1736 019e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1737 01a0 9B00     		lsls	r3, r3, #2
 1738 01a2 0133     		adds	r3, r3, #1
 1739 01a4 DB00     		lsls	r3, r3, #3
 1740 01a6 03F50073 		add	r3, r3, #512
 1741 01aa 1846     		mov	r0, r3
 1742 01ac FFF7FEFF 		bl	WIZCHIP_READ
 1743 01b0 0346     		mov	r3, r0
 1744 01b2 03F01F03 		and	r3, r3, #31
 1745 01b6 FB75     		strb	r3, [r7, #23]
 378:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       if(tmp & Sn_IR_SENDOK)
 1746              		.loc 1 378 0
 1747 01b8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1748 01ba 03F01003 		and	r3, r3, #16
 1749 01be 002B     		cmp	r3, #0
 1750 01c0 0CD0     		beq	.L109
 379:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 380:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_IR(sn, Sn_IR_SENDOK);
 1751              		.loc 1 380 0
 1752 01c2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1753 01c4 9B00     		lsls	r3, r3, #2
 1754 01c6 0133     		adds	r3, r3, #1
 1755 01c8 DB00     		lsls	r3, r3, #3
 1756 01ca 03F50073 		add	r3, r3, #512
 1757 01ce 1846     		mov	r0, r3
 1758 01d0 1021     		movs	r1, #16
 1759 01d2 FFF7FEFF 		bl	WIZCHIP_WRITE
 381:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 1760              		.loc 1 381 0
 1761 01d6 00BF     		nop
 382:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 383:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       //M:20131104
 384:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       //else if(tmp & Sn_IR_TIMEOUT) return SOCKERR_TIMEOUT;
 385:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       else if(tmp & Sn_IR_TIMEOUT)
 386:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 387:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_IR(sn, Sn_IR_TIMEOUT);
 388:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 389:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 390:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       ////////////
 391:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 392:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	return len;
 1762              		.loc 1 392 0
 1763 01d8 BB89     		ldrh	r3, [r7, #12]
 1764 01da 12E0     		b	.L95
 1765              	.L109:
 385:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 1766              		.loc 1 385 0
 1767 01dc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1768 01de 03F00803 		and	r3, r3, #8
 1769 01e2 002B     		cmp	r3, #0
 1770 01e4 0CD0     		beq	.L111
 387:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_TIMEOUT;
 1771              		.loc 1 387 0
 1772 01e6 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1773 01e8 9B00     		lsls	r3, r3, #2
 1774 01ea 0133     		adds	r3, r3, #1
 1775 01ec DB00     		lsls	r3, r3, #3
 1776 01ee 03F50073 		add	r3, r3, #512
 1777 01f2 1846     		mov	r0, r3
 1778 01f4 0821     		movs	r1, #8
 1779 01f6 FFF7FEFF 		bl	WIZCHIP_WRITE
 388:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       }
 1780              		.loc 1 388 0
 1781 01fa 6FF00C03 		mvn	r3, #12
 1782 01fe 00E0     		b	.L95
 1783              	.L111:
 391:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	return len;
 1784              		.loc 1 391 0
 1785 0200 CDE7     		b	.L112
 1786              	.L95:
 393:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 1787              		.loc 1 393 0
 1788 0202 1846     		mov	r0, r3
 1789 0204 1837     		adds	r7, r7, #24
 1790              		.cfi_def_cfa_offset 8
 1791 0206 BD46     		mov	sp, r7
 1792              		.cfi_def_cfa_register 13
 1793              		@ sp needed
 1794 0208 80BD     		pop	{r7, pc}
 1795              	.L115:
 1796 020a 00BF     		.align	2
 1797              	.L114:
 1798 020c 00000000 		.word	sock_io_mode
 1799              		.cfi_endproc
 1800              	.LFE7:
 1802              		.section	.text.recvfrom,"ax",%progbits
 1803              		.align	2
 1804              		.global	recvfrom
 1805              		.thumb
 1806              		.thumb_func
 1808              	recvfrom:
 1809              	.LFB8:
 394:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 395:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 396:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 397:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int32_t recvfrom(uint8_t sn, uint8_t * buf, uint16_t len, uint8_t * addr, uint16_t *port)
 398:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 1810              		.loc 1 398 0
 1811              		.cfi_startproc
 1812              		@ args = 4, pretend = 0, frame = 32
 1813              		@ frame_needed = 1, uses_anonymous_args = 0
 1814 0000 80B5     		push	{r7, lr}
 1815              		.cfi_def_cfa_offset 8
 1816              		.cfi_offset 7, -8
 1817              		.cfi_offset 14, -4
 1818 0002 88B0     		sub	sp, sp, #32
 1819              		.cfi_def_cfa_offset 40
 1820 0004 00AF     		add	r7, sp, #0
 1821              		.cfi_def_cfa_register 7
 1822 0006 B960     		str	r1, [r7, #8]
 1823 0008 7B60     		str	r3, [r7, #4]
 1824 000a 0346     		mov	r3, r0
 1825 000c FB73     		strb	r3, [r7, #15]
 1826 000e 1346     		mov	r3, r2	@ movhi
 1827 0010 BB81     		strh	r3, [r7, #12]	@ movhi
 399:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint8_t  mr;
 400:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint8_t  head[8];
 401:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	uint16_t pack_len=0;
 1828              		.loc 1 401 0
 1829 0012 0023     		movs	r3, #0
 1830 0014 FB83     		strh	r3, [r7, #30]	@ movhi
 402:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 403:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 1831              		.loc 1 403 0
 1832 0016 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1833 0018 082B     		cmp	r3, #8
 1834 001a 02D9     		bls	.L117
 1835              		.loc 1 403 0 is_stmt 0 discriminator 1
 1836 001c 4FF0FF33 		mov	r3, #-1
 1837 0020 66E1     		b	.L143
 1838              	.L117:
 404:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    //CHECK_SOCKMODE(Sn_MR_UDP);
 405:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    switch((mr=getSn_MR(sn)) & 0x0F)
 1839              		.loc 1 405 0 is_stmt 1
 1840 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1841 0024 9B00     		lsls	r3, r3, #2
 1842 0026 0133     		adds	r3, r3, #1
 1843 0028 DB00     		lsls	r3, r3, #3
 1844 002a 1846     		mov	r0, r3
 1845 002c FFF7FEFF 		bl	WIZCHIP_READ
 1846 0030 0346     		mov	r3, r0
 1847 0032 7B77     		strb	r3, [r7, #29]
 1848 0034 7B7F     		ldrb	r3, [r7, #29]	@ zero_extendqisi2
 1849 0036 03F00F03 		and	r3, r3, #15
 1850 003a 022B     		cmp	r3, #2
 1851 003c 04D0     		beq	.L145
 1852 003e 042B     		cmp	r3, #4
 1853 0040 02D0     		beq	.L145
 406:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 407:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_UDP:
 408:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_MACRAW:
 409:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 410:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if ( _WIZCHIP_ < 5200 )         
 411:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_IPRAW:
 412:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case Sn_MR_PPPoE:
 413:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 414:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
 415:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default:
 416:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_SOCKMODE;
 1854              		.loc 1 416 0
 1855 0042 6FF00403 		mvn	r3, #4
 1856 0046 53E1     		b	.L143
 1857              	.L145:
 409:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if ( _WIZCHIP_ < 5200 )         
 1858              		.loc 1 409 0
 1859 0048 00BF     		nop
 417:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 418:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKDATA();
 1860              		.loc 1 418 0
 1861 004a BB89     		ldrh	r3, [r7, #12]
 1862 004c 002B     		cmp	r3, #0
 1863 004e 02D1     		bne	.L122
 1864              		.loc 1 418 0 is_stmt 0 discriminator 1
 1865 0050 6FF00D03 		mvn	r3, #13
 1866 0054 4CE1     		b	.L143
 1867              	.L122:
 419:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    if(sock_remained_size[sn] == 0)
 1868              		.loc 1 419 0 is_stmt 1
 1869 0056 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1870 0058 A74A     		ldr	r2, .L146
 1871 005a 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 1872 005e 002B     		cmp	r3, #0
 1873 0060 28D1     		bne	.L123
 1874              	.L127:
 420:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 421:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       while(1)
 422:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       {
 423:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          pack_len = getSn_RX_RSR(sn);
 1875              		.loc 1 423 0
 1876 0062 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1877 0064 1846     		mov	r0, r3
 1878 0066 FFF7FEFF 		bl	getSn_RX_RSR
 1879 006a 0346     		mov	r3, r0
 1880 006c FB83     		strh	r3, [r7, #30]	@ movhi
 424:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if(getSn_SR(sn) == SOCK_CLOSED) return SOCKERR_SOCKCLOSED;
 1881              		.loc 1 424 0
 1882 006e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1883 0070 9B00     		lsls	r3, r3, #2
 1884 0072 0133     		adds	r3, r3, #1
 1885 0074 DB00     		lsls	r3, r3, #3
 1886 0076 03F54073 		add	r3, r3, #768
 1887 007a 1846     		mov	r0, r3
 1888 007c FFF7FEFF 		bl	WIZCHIP_READ
 1889 0080 0346     		mov	r3, r0
 1890 0082 002B     		cmp	r3, #0
 1891 0084 02D1     		bne	.L124
 1892              		.loc 1 424 0 is_stmt 0 discriminator 1
 1893 0086 6FF00303 		mvn	r3, #3
 1894 008a 31E1     		b	.L143
 1895              	.L124:
 425:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if( (sock_io_mode & (1<<sn)) && (pack_len == 0) ) return SOCK_BUSY;
 1896              		.loc 1 425 0 is_stmt 1
 1897 008c 9B4B     		ldr	r3, .L146+4
 1898 008e 1B88     		ldrh	r3, [r3]
 1899 0090 1A46     		mov	r2, r3
 1900 0092 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1901 0094 42FA03F3 		asr	r3, r2, r3
 1902 0098 03F00103 		and	r3, r3, #1
 1903 009c 002B     		cmp	r3, #0
 1904 009e 04D0     		beq	.L125
 1905              		.loc 1 425 0 is_stmt 0 discriminator 1
 1906 00a0 FB8B     		ldrh	r3, [r7, #30]
 1907 00a2 002B     		cmp	r3, #0
 1908 00a4 01D1     		bne	.L125
 1909              		.loc 1 425 0 discriminator 2
 1910 00a6 0023     		movs	r3, #0
 1911 00a8 22E1     		b	.L143
 1912              	.L125:
 426:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if(pack_len != 0) break;
 1913              		.loc 1 426 0 is_stmt 1
 1914 00aa FB8B     		ldrh	r3, [r7, #30]
 1915 00ac 002B     		cmp	r3, #0
 1916 00ae 00D0     		beq	.L126
 1917 00b0 00E0     		b	.L123
 1918              	.L126:
 427:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       };
 1919              		.loc 1 427 0
 1920 00b2 D6E7     		b	.L127
 1921              	.L123:
 428:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 429:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    sock_pack_info[sn] = PACK_COMPLETED;
 1922              		.loc 1 429 0
 1923 00b4 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1924 00b6 924A     		ldr	r2, .L146+8
 1925 00b8 0021     		movs	r1, #0
 1926 00ba D154     		strb	r1, [r2, r3]
 430:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	switch (mr & 0x07)
 1927              		.loc 1 430 0
 1928 00bc 7B7F     		ldrb	r3, [r7, #29]	@ zero_extendqisi2
 1929 00be 03F00703 		and	r3, r3, #7
 1930 00c2 022B     		cmp	r3, #2
 1931 00c4 02D0     		beq	.L129
 1932 00c6 042B     		cmp	r3, #4
 1933 00c8 71D0     		beq	.L130
 1934 00ca D3E0     		b	.L144
 1935              	.L129:
 431:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	{
 432:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   case Sn_MR_UDP :
 433:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	      if(sock_remained_size[sn] == 0)
 1936              		.loc 1 433 0
 1937 00cc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1938 00ce 8A4A     		ldr	r2, .L146
 1939 00d0 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 1940 00d4 002B     		cmp	r3, #0
 1941 00d6 53D1     		bne	.L131
 434:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	      {
 435:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			wiz_recv_data(sn, head, 8);
 1942              		.loc 1 435 0
 1943 00d8 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1944 00da 07F11403 		add	r3, r7, #20
 1945 00de 1046     		mov	r0, r2
 1946 00e0 1946     		mov	r1, r3
 1947 00e2 0822     		movs	r2, #8
 1948 00e4 FFF7FEFF 		bl	wiz_recv_data
 436:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 1949              		.loc 1 436 0
 1950 00e8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1951 00ea 9B00     		lsls	r3, r3, #2
 1952 00ec 0133     		adds	r3, r3, #1
 1953 00ee DB00     		lsls	r3, r3, #3
 1954 00f0 03F58073 		add	r3, r3, #256
 1955 00f4 1846     		mov	r0, r3
 1956 00f6 4021     		movs	r1, #64
 1957 00f8 FFF7FEFF 		bl	WIZCHIP_WRITE
 437:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			while(getSn_CR(sn));
 1958              		.loc 1 437 0
 1959 00fc 00BF     		nop
 1960              	.L132:
 1961              		.loc 1 437 0 is_stmt 0 discriminator 1
 1962 00fe FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1963 0100 9B00     		lsls	r3, r3, #2
 1964 0102 0133     		adds	r3, r3, #1
 1965 0104 DB00     		lsls	r3, r3, #3
 1966 0106 03F58073 		add	r3, r3, #256
 1967 010a 1846     		mov	r0, r3
 1968 010c FFF7FEFF 		bl	WIZCHIP_READ
 1969 0110 0346     		mov	r3, r0
 1970 0112 002B     		cmp	r3, #0
 1971 0114 F3D1     		bne	.L132
 438:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 439:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****     			addr[0] = head[0];
 1972              		.loc 1 439 0 is_stmt 1
 1973 0116 3A7D     		ldrb	r2, [r7, #20]	@ zero_extendqisi2
 1974 0118 7B68     		ldr	r3, [r7, #4]
 1975 011a 1A70     		strb	r2, [r3]
 440:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			addr[1] = head[1];
 1976              		.loc 1 440 0
 1977 011c 7B68     		ldr	r3, [r7, #4]
 1978 011e 0133     		adds	r3, r3, #1
 1979 0120 7A7D     		ldrb	r2, [r7, #21]	@ zero_extendqisi2
 1980 0122 1A70     		strb	r2, [r3]
 441:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			addr[2] = head[2];
 1981              		.loc 1 441 0
 1982 0124 7B68     		ldr	r3, [r7, #4]
 1983 0126 0233     		adds	r3, r3, #2
 1984 0128 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 1985 012a 1A70     		strb	r2, [r3]
 442:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			addr[3] = head[3];
 1986              		.loc 1 442 0
 1987 012c 7B68     		ldr	r3, [r7, #4]
 1988 012e 0333     		adds	r3, r3, #3
 1989 0130 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 1990 0132 1A70     		strb	r2, [r3]
 443:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			*port = head[4];
 1991              		.loc 1 443 0
 1992 0134 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 1993 0136 9AB2     		uxth	r2, r3
 1994 0138 BB6A     		ldr	r3, [r7, #40]
 1995 013a 1A80     		strh	r2, [r3]	@ movhi
 444:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			*port = (*port << 8) + head[5];
 1996              		.loc 1 444 0
 1997 013c BB6A     		ldr	r3, [r7, #40]
 1998 013e 1B88     		ldrh	r3, [r3]
 1999 0140 1B02     		lsls	r3, r3, #8
 2000 0142 9AB2     		uxth	r2, r3
 2001 0144 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 2002 0146 9BB2     		uxth	r3, r3
 2003 0148 1344     		add	r3, r3, r2
 2004 014a 9AB2     		uxth	r2, r3
 2005 014c BB6A     		ldr	r3, [r7, #40]
 2006 014e 1A80     		strh	r2, [r3]	@ movhi
 445:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_remained_size[sn] = head[6];
 2007              		.loc 1 445 0
 2008 0150 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2009 0152 BA7E     		ldrb	r2, [r7, #26]	@ zero_extendqisi2
 2010 0154 91B2     		uxth	r1, r2
 2011 0156 684A     		ldr	r2, .L146
 2012 0158 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 446:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_remained_size[sn] = (sock_remained_size[sn] << 8) + head[7];
 2013              		.loc 1 446 0
 2014 015c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2015 015e FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2016 0160 6549     		ldr	r1, .L146
 2017 0162 31F81220 		ldrh	r2, [r1, r2, lsl #1]
 2018 0166 1202     		lsls	r2, r2, #8
 2019 0168 91B2     		uxth	r1, r2
 2020 016a FA7E     		ldrb	r2, [r7, #27]	@ zero_extendqisi2
 2021 016c 92B2     		uxth	r2, r2
 2022 016e 0A44     		add	r2, r2, r1
 2023 0170 91B2     		uxth	r1, r2
 2024 0172 614A     		ldr	r2, .L146
 2025 0174 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 447:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 2026              		.loc 1 447 0
 2027 0178 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2028 017a 614A     		ldr	r2, .L146+8
 2029 017c 8021     		movs	r1, #128
 2030 017e D154     		strb	r1, [r2, r3]
 2031              	.L131:
 448:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	   }
 449:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			if(len < sock_remained_size[sn]) pack_len = len;
 2032              		.loc 1 449 0
 2033 0180 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2034 0182 5D4A     		ldr	r2, .L146
 2035 0184 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 2036 0188 BA89     		ldrh	r2, [r7, #12]
 2037 018a 9A42     		cmp	r2, r3
 2038 018c 02D2     		bcs	.L133
 2039              		.loc 1 449 0 is_stmt 0 discriminator 1
 2040 018e BB89     		ldrh	r3, [r7, #12]	@ movhi
 2041 0190 FB83     		strh	r3, [r7, #30]	@ movhi
 2042 0192 04E0     		b	.L134
 2043              	.L133:
 450:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2044              		.loc 1 450 0 is_stmt 1
 2045 0194 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2046 0196 584A     		ldr	r2, .L146
 2047 0198 32F81330 		ldrh	r3, [r2, r3, lsl #1]	@ movhi
 2048 019c FB83     		strh	r3, [r7, #30]	@ movhi
 2049              	.L134:
 451:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			//
 452:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			// Need to packet length check (default 1472)
 453:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			//
 454:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    		wiz_recv_data(sn, buf, pack_len); // data copy.
 2050              		.loc 1 454 0
 2051 019e FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2052 01a0 FB8B     		ldrh	r3, [r7, #30]
 2053 01a2 1046     		mov	r0, r2
 2054 01a4 B968     		ldr	r1, [r7, #8]
 2055 01a6 1A46     		mov	r2, r3
 2056 01a8 FFF7FEFF 		bl	wiz_recv_data
 455:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			break;
 2057              		.loc 1 455 0
 2058 01ac 6EE0     		b	.L135
 2059              	.L130:
 456:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	   case Sn_MR_MACRAW :
 457:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	      if(sock_remained_size[sn] == 0)
 2060              		.loc 1 457 0
 2061 01ae FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2062 01b0 514A     		ldr	r2, .L146
 2063 01b2 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 2064 01b6 002B     		cmp	r3, #0
 2065 01b8 45D1     		bne	.L136
 458:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	      {
 459:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			wiz_recv_data(sn, head, 2);
 2066              		.loc 1 459 0
 2067 01ba FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2068 01bc 07F11403 		add	r3, r7, #20
 2069 01c0 1046     		mov	r0, r2
 2070 01c2 1946     		mov	r1, r3
 2071 01c4 0222     		movs	r2, #2
 2072 01c6 FFF7FEFF 		bl	wiz_recv_data
 460:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 2073              		.loc 1 460 0
 2074 01ca FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2075 01cc 9B00     		lsls	r3, r3, #2
 2076 01ce 0133     		adds	r3, r3, #1
 2077 01d0 DB00     		lsls	r3, r3, #3
 2078 01d2 03F58073 		add	r3, r3, #256
 2079 01d6 1846     		mov	r0, r3
 2080 01d8 4021     		movs	r1, #64
 2081 01da FFF7FEFF 		bl	WIZCHIP_WRITE
 461:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			while(getSn_CR(sn));
 2082              		.loc 1 461 0
 2083 01de 00BF     		nop
 2084              	.L137:
 2085              		.loc 1 461 0 is_stmt 0 discriminator 1
 2086 01e0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2087 01e2 9B00     		lsls	r3, r3, #2
 2088 01e4 0133     		adds	r3, r3, #1
 2089 01e6 DB00     		lsls	r3, r3, #3
 2090 01e8 03F58073 		add	r3, r3, #256
 2091 01ec 1846     		mov	r0, r3
 2092 01ee FFF7FEFF 		bl	WIZCHIP_READ
 2093 01f2 0346     		mov	r3, r0
 2094 01f4 002B     		cmp	r3, #0
 2095 01f6 F3D1     		bne	.L137
 462:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			// read peer's IP address, port number & packet length
 463:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****     			sock_remained_size[sn] = head[0];
 2096              		.loc 1 463 0 is_stmt 1
 2097 01f8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2098 01fa 3A7D     		ldrb	r2, [r7, #20]	@ zero_extendqisi2
 2099 01fc 91B2     		uxth	r1, r2
 2100 01fe 3E4A     		ldr	r2, .L146
 2101 0200 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 464:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_remained_size[sn] = (sock_remained_size[sn] <<8) + head[1];
 2102              		.loc 1 464 0
 2103 0204 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2104 0206 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2105 0208 3B49     		ldr	r1, .L146
 2106 020a 31F81220 		ldrh	r2, [r1, r2, lsl #1]
 2107 020e 1202     		lsls	r2, r2, #8
 2108 0210 91B2     		uxth	r1, r2
 2109 0212 7A7D     		ldrb	r2, [r7, #21]	@ zero_extendqisi2
 2110 0214 92B2     		uxth	r2, r2
 2111 0216 0A44     		add	r2, r2, r1
 2112 0218 91B2     		uxth	r1, r2
 2113 021a 374A     		ldr	r2, .L146
 2114 021c 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 465:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			if(sock_remained_size[sn] > 1514) 
 2115              		.loc 1 465 0
 2116 0220 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2117 0222 354A     		ldr	r2, .L146
 2118 0224 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 2119 0228 40F2EA52 		movw	r2, #1514
 2120 022c 9342     		cmp	r3, r2
 2121 022e 06D9     		bls	.L138
 466:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			{
 467:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			   close(sn);
 2122              		.loc 1 467 0
 2123 0230 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2124 0232 1846     		mov	r0, r3
 2125 0234 FFF7FEFF 		bl	close
 468:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			   return SOCKFATAL_PACKLEN;
 2126              		.loc 1 468 0
 2127 0238 6FF47A73 		mvn	r3, #1000
 2128 023c 58E0     		b	.L143
 2129              	.L138:
 469:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			}
 470:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 2130              		.loc 1 470 0
 2131 023e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2132 0240 2F4A     		ldr	r2, .L146+8
 2133 0242 8021     		movs	r1, #128
 2134 0244 D154     		strb	r1, [r2, r3]
 2135              	.L136:
 471:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    	   }
 472:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			if(len < sock_remained_size[sn]) pack_len = len;
 2136              		.loc 1 472 0
 2137 0246 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2138 0248 2B4A     		ldr	r2, .L146
 2139 024a 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 2140 024e BA89     		ldrh	r2, [r7, #12]
 2141 0250 9A42     		cmp	r2, r3
 2142 0252 02D2     		bcs	.L139
 2143              		.loc 1 472 0 is_stmt 0 discriminator 1
 2144 0254 BB89     		ldrh	r3, [r7, #12]	@ movhi
 2145 0256 FB83     		strh	r3, [r7, #30]	@ movhi
 2146 0258 04E0     		b	.L140
 2147              	.L139:
 473:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 2148              		.loc 1 473 0 is_stmt 1
 2149 025a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2150 025c 264A     		ldr	r2, .L146
 2151 025e 32F81330 		ldrh	r3, [r2, r3, lsl #1]	@ movhi
 2152 0262 FB83     		strh	r3, [r7, #30]	@ movhi
 2153              	.L140:
 474:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			wiz_recv_data(sn,buf,pack_len);
 2154              		.loc 1 474 0
 2155 0264 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2156 0266 FB8B     		ldrh	r3, [r7, #30]
 2157 0268 1046     		mov	r0, r2
 2158 026a B968     		ldr	r1, [r7, #8]
 2159 026c 1A46     		mov	r2, r3
 2160 026e FFF7FEFF 		bl	wiz_recv_data
 475:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 		   break;
 2161              		.loc 1 475 0
 2162 0272 0BE0     		b	.L135
 2163              	.L144:
 476:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if ( _WIZCHIP_ < 5200 )
 477:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 		case Sn_MR_IPRAW:
 478:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 		   if(sock_remained_size[sn] == 0)
 479:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 		   {
 480:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			wiz_recv_data(sn, head, 6);
 481:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			setSn_CR(sn,Sn_CR_RECV);
 482:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			while(getSn_CR(sn));
 483:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			addr[0] = head[0];
 484:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			addr[1] = head[1];
 485:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			addr[2] = head[2];
 486:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			addr[3] = head[3];
 487:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_remained_size[sn] = head[4];
 488:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_remaiend_size[sn] = (sock_remained_size[sn] << 8) + head[5];
 489:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    			sock_pack_info[sn] = PACK_FIRST;
 490:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          }
 491:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			//
 492:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			// Need to packet length check
 493:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			//
 494:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			if(len < sock_remained_size[sn]) pack_len = len;
 495:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			else pack_len = sock_remained_size[sn];
 496:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    		wiz_recv_data(sn, buf, pack_len); // data copy.
 497:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 			break;
 498:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif
 499:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default:
 500:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          wiz_recv_ignore(sn, pack_len); // data copy.
 2164              		.loc 1 500 0
 2165 0274 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2166 0276 FB8B     		ldrh	r3, [r7, #30]
 2167 0278 1046     		mov	r0, r2
 2168 027a 1946     		mov	r1, r3
 2169 027c FFF7FEFF 		bl	wiz_recv_ignore
 501:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          sock_remained_size[sn] = pack_len;
 2170              		.loc 1 501 0
 2171 0280 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2172 0282 1D49     		ldr	r1, .L146
 2173 0284 FA8B     		ldrh	r2, [r7, #30]	@ movhi
 2174 0286 21F81320 		strh	r2, [r1, r3, lsl #1]	@ movhi
 502:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2175              		.loc 1 502 0
 2176 028a 00BF     		nop
 2177              	.L135:
 503:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 504:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	setSn_CR(sn,Sn_CR_RECV);
 2178              		.loc 1 504 0
 2179 028c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2180 028e 9B00     		lsls	r3, r3, #2
 2181 0290 0133     		adds	r3, r3, #1
 2182 0292 DB00     		lsls	r3, r3, #3
 2183 0294 03F58073 		add	r3, r3, #256
 2184 0298 1846     		mov	r0, r3
 2185 029a 4021     		movs	r1, #64
 2186 029c FFF7FEFF 		bl	WIZCHIP_WRITE
 505:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	/* wait to process the command... */
 506:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	while(getSn_CR(sn)) ;
 2187              		.loc 1 506 0
 2188 02a0 00BF     		nop
 2189              	.L141:
 2190              		.loc 1 506 0 is_stmt 0 discriminator 1
 2191 02a2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2192 02a4 9B00     		lsls	r3, r3, #2
 2193 02a6 0133     		adds	r3, r3, #1
 2194 02a8 DB00     		lsls	r3, r3, #3
 2195 02aa 03F58073 		add	r3, r3, #256
 2196 02ae 1846     		mov	r0, r3
 2197 02b0 FFF7FEFF 		bl	WIZCHIP_READ
 2198 02b4 0346     		mov	r3, r0
 2199 02b6 002B     		cmp	r3, #0
 2200 02b8 F3D1     		bne	.L141
 507:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	sock_remained_size[sn] -= pack_len;
 2201              		.loc 1 507 0 is_stmt 1
 2202 02ba FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2203 02bc FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2204 02be 0E49     		ldr	r1, .L146
 2205 02c0 31F81210 		ldrh	r1, [r1, r2, lsl #1]
 2206 02c4 FA8B     		ldrh	r2, [r7, #30]	@ movhi
 2207 02c6 8A1A     		subs	r2, r1, r2
 2208 02c8 91B2     		uxth	r1, r2
 2209 02ca 0B4A     		ldr	r2, .L146
 2210 02cc 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 508:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 	if(sock_remained_size[sn] != 0) sock_pack_info[sn] |= 0x01;
 2211              		.loc 1 508 0
 2212 02d0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2213 02d2 094A     		ldr	r2, .L146
 2214 02d4 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 2215 02d8 002B     		cmp	r3, #0
 2216 02da 08D0     		beq	.L142
 2217              		.loc 1 508 0 is_stmt 0 discriminator 1
 2218 02dc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2219 02de FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 2220 02e0 0749     		ldr	r1, .L146+8
 2221 02e2 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 2222 02e4 42F00102 		orr	r2, r2, #1
 2223 02e8 D1B2     		uxtb	r1, r2
 2224 02ea 054A     		ldr	r2, .L146+8
 2225 02ec D154     		strb	r1, [r2, r3]
 2226              	.L142:
 509:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****  	return pack_len;
 2227              		.loc 1 509 0 is_stmt 1
 2228 02ee FB8B     		ldrh	r3, [r7, #30]
 2229              	.L143:
 510:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 2230              		.loc 1 510 0 discriminator 1
 2231 02f0 1846     		mov	r0, r3
 2232 02f2 2037     		adds	r7, r7, #32
 2233              		.cfi_def_cfa_offset 8
 2234 02f4 BD46     		mov	sp, r7
 2235              		.cfi_def_cfa_register 13
 2236              		@ sp needed
 2237 02f6 80BD     		pop	{r7, pc}
 2238              	.L147:
 2239              		.align	2
 2240              	.L146:
 2241 02f8 00000000 		.word	sock_remained_size
 2242 02fc 00000000 		.word	sock_io_mode
 2243 0300 00000000 		.word	sock_pack_info
 2244              		.cfi_endproc
 2245              	.LFE8:
 2247              		.section	.text.ctlsocket,"ax",%progbits
 2248              		.align	2
 2249              		.global	ctlsocket
 2250              		.thumb
 2251              		.thumb_func
 2253              	ctlsocket:
 2254              	.LFB9:
 511:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 512:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 513:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t  ctlsocket(uint8_t sn, ctlsock_type cstype, void* arg)
 514:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 2255              		.loc 1 514 0
 2256              		.cfi_startproc
 2257              		@ args = 0, pretend = 0, frame = 16
 2258              		@ frame_needed = 1, uses_anonymous_args = 0
 2259 0000 80B5     		push	{r7, lr}
 2260              		.cfi_def_cfa_offset 8
 2261              		.cfi_offset 7, -8
 2262              		.cfi_offset 14, -4
 2263 0002 84B0     		sub	sp, sp, #16
 2264              		.cfi_def_cfa_offset 24
 2265 0004 00AF     		add	r7, sp, #0
 2266              		.cfi_def_cfa_register 7
 2267 0006 0346     		mov	r3, r0
 2268 0008 3A60     		str	r2, [r7]
 2269 000a FB71     		strb	r3, [r7, #7]
 2270 000c 0B46     		mov	r3, r1
 2271 000e BB71     		strb	r3, [r7, #6]
 515:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint8_t tmp = 0;
 2272              		.loc 1 515 0
 2273 0010 0023     		movs	r3, #0
 2274 0012 FB73     		strb	r3, [r7, #15]
 516:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 2275              		.loc 1 516 0
 2276 0014 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2277 0016 082B     		cmp	r3, #8
 2278 0018 01D9     		bls	.L149
 2279              		.loc 1 516 0 is_stmt 0 discriminator 1
 2280 001a FF23     		movs	r3, #255
 2281 001c BDE0     		b	.L150
 2282              	.L149:
 517:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    switch(cstype)
 2283              		.loc 1 517 0 is_stmt 1
 2284 001e BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 2285 0020 072B     		cmp	r3, #7
 2286 0022 00F2B780 		bhi	.L151
 2287 0026 01A2     		adr	r2, .L153
 2288 0028 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2289              		.p2align 2
 2290              	.L153:
 2291 002c 4D000000 		.word	.L152+1
 2292 0030 A1000000 		.word	.L154+1
 2293 0034 BB000000 		.word	.L155+1
 2294 0038 DB000000 		.word	.L156+1
 2295 003c FB000000 		.word	.L157+1
 2296 0040 29010000 		.word	.L158+1
 2297 0044 49010000 		.word	.L159+1
 2298 0048 77010000 		.word	.L160+1
 2299              		.p2align 1
 2300              	.L152:
 518:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 519:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_SET_IOMODE:
 520:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          tmp = *((uint8_t*)arg);
 2301              		.loc 1 520 0
 2302 004c 3B68     		ldr	r3, [r7]
 2303 004e 1B78     		ldrb	r3, [r3]
 2304 0050 FB73     		strb	r3, [r7, #15]
 521:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if(tmp == SOCK_IO_NONBLOCK)  sock_io_mode |= (1<<sn);
 2305              		.loc 1 521 0
 2306 0052 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2307 0054 012B     		cmp	r3, #1
 2308 0056 0DD1     		bne	.L161
 2309              		.loc 1 521 0 is_stmt 0 discriminator 1
 2310 0058 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2311 005a 0122     		movs	r2, #1
 2312 005c 02FA03F3 		lsl	r3, r2, r3
 2313 0060 9AB2     		uxth	r2, r3
 2314 0062 504B     		ldr	r3, .L167
 2315 0064 1B88     		ldrh	r3, [r3]
 2316 0066 9BB2     		uxth	r3, r3
 2317 0068 1343     		orrs	r3, r3, r2
 2318 006a 9BB2     		uxth	r3, r3
 2319 006c 9AB2     		uxth	r2, r3
 2320 006e 4D4B     		ldr	r3, .L167
 2321 0070 1A80     		strh	r2, [r3]	@ movhi
 2322 0072 14E0     		b	.L162
 2323              	.L161:
 522:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          else if(tmp == SOCK_IO_BLOCK) sock_io_mode &= ~(1<<sn);
 2324              		.loc 1 522 0 is_stmt 1
 2325 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2326 0076 002B     		cmp	r3, #0
 2327 0078 0FD1     		bne	.L163
 2328              		.loc 1 522 0 is_stmt 0 discriminator 1
 2329 007a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2330 007c 0122     		movs	r2, #1
 2331 007e 02FA03F3 		lsl	r3, r2, r3
 2332 0082 9BB2     		uxth	r3, r3
 2333 0084 DB43     		mvns	r3, r3
 2334 0086 9AB2     		uxth	r2, r3
 2335 0088 464B     		ldr	r3, .L167
 2336 008a 1B88     		ldrh	r3, [r3]
 2337 008c 9BB2     		uxth	r3, r3
 2338 008e 1340     		ands	r3, r3, r2
 2339 0090 9BB2     		uxth	r3, r3
 2340 0092 9AB2     		uxth	r2, r3
 2341 0094 434B     		ldr	r3, .L167
 2342 0096 1A80     		strh	r2, [r3]	@ movhi
 2343 0098 01E0     		b	.L162
 2344              	.L163:
 523:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          else return SOCKERR_ARG;
 2345              		.loc 1 523 0 is_stmt 1
 2346 009a F623     		movs	r3, #246
 2347 009c 7DE0     		b	.L150
 2348              	.L162:
 524:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2349              		.loc 1 524 0
 2350 009e 7BE0     		b	.L164
 2351              	.L154:
 525:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_GET_IOMODE:   
 526:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *((uint8_t*)arg) = (sock_io_mode >> sn) & 0x0001;
 2352              		.loc 1 526 0
 2353 00a0 404B     		ldr	r3, .L167
 2354 00a2 1B88     		ldrh	r3, [r3]
 2355 00a4 1A46     		mov	r2, r3
 2356 00a6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2357 00a8 42FA03F3 		asr	r3, r2, r3
 2358 00ac DBB2     		uxtb	r3, r3
 2359 00ae 03F00103 		and	r3, r3, #1
 2360 00b2 DAB2     		uxtb	r2, r3
 2361 00b4 3B68     		ldr	r3, [r7]
 2362 00b6 1A70     		strb	r2, [r3]
 527:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2363              		.loc 1 527 0
 2364 00b8 6EE0     		b	.L164
 2365              	.L155:
 528:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_GET_MAXTXBUF:
 529:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *((uint16_t*)arg) = getSn_TxMAX(sn);
 2366              		.loc 1 529 0
 2367 00ba FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2368 00bc 9B00     		lsls	r3, r3, #2
 2369 00be 0133     		adds	r3, r3, #1
 2370 00c0 DB00     		lsls	r3, r3, #3
 2371 00c2 03F5F853 		add	r3, r3, #7936
 2372 00c6 1846     		mov	r0, r3
 2373 00c8 FFF7FEFF 		bl	WIZCHIP_READ
 2374 00cc 0346     		mov	r3, r0
 2375 00ce 9BB2     		uxth	r3, r3
 2376 00d0 9B02     		lsls	r3, r3, #10
 2377 00d2 9AB2     		uxth	r2, r3
 2378 00d4 3B68     		ldr	r3, [r7]
 2379 00d6 1A80     		strh	r2, [r3]	@ movhi
 530:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2380              		.loc 1 530 0
 2381 00d8 5EE0     		b	.L164
 2382              	.L156:
 531:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_GET_MAXRXBUF:    
 532:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *((uint16_t*)arg) = getSn_RxMAX(sn);
 2383              		.loc 1 532 0
 2384 00da FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2385 00dc 9B00     		lsls	r3, r3, #2
 2386 00de 0133     		adds	r3, r3, #1
 2387 00e0 DB00     		lsls	r3, r3, #3
 2388 00e2 03F5F053 		add	r3, r3, #7680
 2389 00e6 1846     		mov	r0, r3
 2390 00e8 FFF7FEFF 		bl	WIZCHIP_READ
 2391 00ec 0346     		mov	r3, r0
 2392 00ee 9BB2     		uxth	r3, r3
 2393 00f0 9B02     		lsls	r3, r3, #10
 2394 00f2 9AB2     		uxth	r2, r3
 2395 00f4 3B68     		ldr	r3, [r7]
 2396 00f6 1A80     		strh	r2, [r3]	@ movhi
 533:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2397              		.loc 1 533 0
 2398 00f8 4EE0     		b	.L164
 2399              	.L157:
 534:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_CLR_INTERRUPT:
 535:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if( (*(uint8_t*)arg) > SIK_ALL) return SOCKERR_ARG;
 2400              		.loc 1 535 0
 2401 00fa 3B68     		ldr	r3, [r7]
 2402 00fc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2403 00fe 1F2B     		cmp	r3, #31
 2404 0100 01D9     		bls	.L165
 2405              		.loc 1 535 0 is_stmt 0 discriminator 1
 2406 0102 F623     		movs	r3, #246
 2407 0104 49E0     		b	.L150
 2408              	.L165:
 536:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_IR(sn,*(uint8_t*)arg);
 2409              		.loc 1 536 0 is_stmt 1
 2410 0106 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2411 0108 9B00     		lsls	r3, r3, #2
 2412 010a 0133     		adds	r3, r3, #1
 2413 010c DB00     		lsls	r3, r3, #3
 2414 010e 03F50073 		add	r3, r3, #512
 2415 0112 1A46     		mov	r2, r3
 2416 0114 3B68     		ldr	r3, [r7]
 2417 0116 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2418 0118 03F01F03 		and	r3, r3, #31
 2419 011c DBB2     		uxtb	r3, r3
 2420 011e 1046     		mov	r0, r2
 2421 0120 1946     		mov	r1, r3
 2422 0122 FFF7FEFF 		bl	WIZCHIP_WRITE
 537:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2423              		.loc 1 537 0
 2424 0126 37E0     		b	.L164
 2425              	.L158:
 538:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_GET_INTERRUPT:
 539:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *((uint8_t*)arg) = getSn_IR(sn);
 2426              		.loc 1 539 0
 2427 0128 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2428 012a 9B00     		lsls	r3, r3, #2
 2429 012c 0133     		adds	r3, r3, #1
 2430 012e DB00     		lsls	r3, r3, #3
 2431 0130 03F50073 		add	r3, r3, #512
 2432 0134 1846     		mov	r0, r3
 2433 0136 FFF7FEFF 		bl	WIZCHIP_READ
 2434 013a 0346     		mov	r3, r0
 2435 013c 03F01F03 		and	r3, r3, #31
 2436 0140 DAB2     		uxtb	r2, r3
 2437 0142 3B68     		ldr	r3, [r7]
 2438 0144 1A70     		strb	r2, [r3]
 540:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2439              		.loc 1 540 0
 2440 0146 27E0     		b	.L164
 2441              	.L159:
 541:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_SET_INTMASK:  
 542:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if( (*(uint8_t*)arg) > SIK_ALL) return SOCKERR_ARG;
 2442              		.loc 1 542 0
 2443 0148 3B68     		ldr	r3, [r7]
 2444 014a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2445 014c 1F2B     		cmp	r3, #31
 2446 014e 01D9     		bls	.L166
 2447              		.loc 1 542 0 is_stmt 0 discriminator 1
 2448 0150 F623     		movs	r3, #246
 2449 0152 22E0     		b	.L150
 2450              	.L166:
 543:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_IMR(sn,*(uint8_t*)arg);
 2451              		.loc 1 543 0 is_stmt 1
 2452 0154 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2453 0156 9B00     		lsls	r3, r3, #2
 2454 0158 0133     		adds	r3, r3, #1
 2455 015a DB00     		lsls	r3, r3, #3
 2456 015c 03F53053 		add	r3, r3, #11264
 2457 0160 1A46     		mov	r2, r3
 2458 0162 3B68     		ldr	r3, [r7]
 2459 0164 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2460 0166 03F01F03 		and	r3, r3, #31
 2461 016a DBB2     		uxtb	r3, r3
 2462 016c 1046     		mov	r0, r2
 2463 016e 1946     		mov	r1, r3
 2464 0170 FFF7FEFF 		bl	WIZCHIP_WRITE
 544:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2465              		.loc 1 544 0
 2466 0174 10E0     		b	.L164
 2467              	.L160:
 545:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case CS_GET_INTMASK:   
 546:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *((uint8_t*)arg) = getSn_IMR(sn);
 2468              		.loc 1 546 0
 2469 0176 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2470 0178 9B00     		lsls	r3, r3, #2
 2471 017a 0133     		adds	r3, r3, #1
 2472 017c DB00     		lsls	r3, r3, #3
 2473 017e 03F53053 		add	r3, r3, #11264
 2474 0182 1846     		mov	r0, r3
 2475 0184 FFF7FEFF 		bl	WIZCHIP_READ
 2476 0188 0346     		mov	r3, r0
 2477 018a 03F01F03 		and	r3, r3, #31
 2478 018e DAB2     		uxtb	r2, r3
 2479 0190 3B68     		ldr	r3, [r7]
 2480 0192 1A70     		strb	r2, [r3]
 2481              	.L151:
 547:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default:
 548:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_ARG;
 2482              		.loc 1 548 0
 2483 0194 F623     		movs	r3, #246
 2484 0196 00E0     		b	.L150
 2485              	.L164:
 549:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 550:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return SOCK_OK;
 2486              		.loc 1 550 0
 2487 0198 0123     		movs	r3, #1
 2488              	.L150:
 2489 019a 5BB2     		sxtb	r3, r3
 551:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 2490              		.loc 1 551 0
 2491 019c 1846     		mov	r0, r3
 2492 019e 1037     		adds	r7, r7, #16
 2493              		.cfi_def_cfa_offset 8
 2494 01a0 BD46     		mov	sp, r7
 2495              		.cfi_def_cfa_register 13
 2496              		@ sp needed
 2497 01a2 80BD     		pop	{r7, pc}
 2498              	.L168:
 2499              		.align	2
 2500              	.L167:
 2501 01a4 00000000 		.word	sock_io_mode
 2502              		.cfi_endproc
 2503              	.LFE9:
 2505              		.section	.text.setsockopt,"ax",%progbits
 2506              		.align	2
 2507              		.global	setsockopt
 2508              		.thumb
 2509              		.thumb_func
 2511              	setsockopt:
 2512              	.LFB10:
 552:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 553:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t  setsockopt(uint8_t sn, sockopt_type sotype, void* arg)
 554:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 2513              		.loc 1 554 0
 2514              		.cfi_startproc
 2515              		@ args = 0, pretend = 0, frame = 16
 2516              		@ frame_needed = 1, uses_anonymous_args = 0
 2517 0000 80B5     		push	{r7, lr}
 2518              		.cfi_def_cfa_offset 8
 2519              		.cfi_offset 7, -8
 2520              		.cfi_offset 14, -4
 2521 0002 84B0     		sub	sp, sp, #16
 2522              		.cfi_def_cfa_offset 24
 2523 0004 00AF     		add	r7, sp, #0
 2524              		.cfi_def_cfa_register 7
 2525 0006 0346     		mov	r3, r0
 2526 0008 3A60     		str	r2, [r7]
 2527 000a FB71     		strb	r3, [r7, #7]
 2528 000c 0B46     		mov	r3, r1
 2529 000e BB71     		strb	r3, [r7, #6]
 555:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    uint8_t tmp;
 556:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 2530              		.loc 1 556 0
 2531 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2532 0012 082B     		cmp	r3, #8
 2533 0014 01D9     		bls	.L170
 2534              		.loc 1 556 0 is_stmt 0 discriminator 1
 2535 0016 FF23     		movs	r3, #255
 2536 0018 EBE0     		b	.L171
 2537              	.L170:
 557:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    switch(sotype)
 2538              		.loc 1 557 0 is_stmt 1
 2539 001a BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 2540 001c 013B     		subs	r3, r3, #1
 2541 001e 062B     		cmp	r3, #6
 2542 0020 00F2E480 		bhi	.L172
 2543 0024 01A2     		adr	r2, .L174
 2544 0026 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2545 002a 00BF     		.p2align 2
 2546              	.L174:
 2547 002c 49000000 		.word	.L173+1
 2548 0030 65000000 		.word	.L175+1
 2549 0034 81000000 		.word	.L176+1
 2550 0038 BF000000 		.word	.L177+1
 2551 003c D7000000 		.word	.L178+1
 2552 0040 15010000 		.word	.L179+1
 2553 0044 B5010000 		.word	.L180+1
 2554              		.p2align 1
 2555              	.L173:
 558:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 559:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_TTL:
 560:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_TTL(sn,*(uint8_t*)arg);
 2556              		.loc 1 560 0
 2557 0048 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2558 004a 9B00     		lsls	r3, r3, #2
 2559 004c 0133     		adds	r3, r3, #1
 2560 004e DB00     		lsls	r3, r3, #3
 2561 0050 03F5B053 		add	r3, r3, #5632
 2562 0054 1A46     		mov	r2, r3
 2563 0056 3B68     		ldr	r3, [r7]
 2564 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2565 005a 1046     		mov	r0, r2
 2566 005c 1946     		mov	r1, r3
 2567 005e FFF7FEFF 		bl	WIZCHIP_WRITE
 561:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2568              		.loc 1 561 0
 2569 0062 C5E0     		b	.L181
 2570              	.L175:
 562:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_TOS:
 563:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_TOS(sn,*(uint8_t*)arg);
 2571              		.loc 1 563 0
 2572 0064 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2573 0066 9B00     		lsls	r3, r3, #2
 2574 0068 0133     		adds	r3, r3, #1
 2575 006a DB00     		lsls	r3, r3, #3
 2576 006c 03F5A853 		add	r3, r3, #5376
 2577 0070 1A46     		mov	r2, r3
 2578 0072 3B68     		ldr	r3, [r7]
 2579 0074 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2580 0076 1046     		mov	r0, r2
 2581 0078 1946     		mov	r1, r3
 2582 007a FFF7FEFF 		bl	WIZCHIP_WRITE
 564:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2583              		.loc 1 564 0
 2584 007e B7E0     		b	.L181
 2585              	.L176:
 565:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_MSS:
 566:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_MSSR(sn,*(uint16_t*)arg);
 2586              		.loc 1 566 0
 2587 0080 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2588 0082 9B00     		lsls	r3, r3, #2
 2589 0084 0133     		adds	r3, r3, #1
 2590 0086 DB00     		lsls	r3, r3, #3
 2591 0088 03F59053 		add	r3, r3, #4608
 2592 008c 1A46     		mov	r2, r3
 2593 008e 3B68     		ldr	r3, [r7]
 2594 0090 1B88     		ldrh	r3, [r3]
 2595 0092 1B0A     		lsrs	r3, r3, #8
 2596 0094 9BB2     		uxth	r3, r3
 2597 0096 DBB2     		uxtb	r3, r3
 2598 0098 1046     		mov	r0, r2
 2599 009a 1946     		mov	r1, r3
 2600 009c FFF7FEFF 		bl	WIZCHIP_WRITE
 2601 00a0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2602 00a2 9B00     		lsls	r3, r3, #2
 2603 00a4 0133     		adds	r3, r3, #1
 2604 00a6 DB00     		lsls	r3, r3, #3
 2605 00a8 03F59853 		add	r3, r3, #4864
 2606 00ac 1A46     		mov	r2, r3
 2607 00ae 3B68     		ldr	r3, [r7]
 2608 00b0 1B88     		ldrh	r3, [r3]
 2609 00b2 DBB2     		uxtb	r3, r3
 2610 00b4 1046     		mov	r0, r2
 2611 00b6 1946     		mov	r1, r3
 2612 00b8 FFF7FEFF 		bl	WIZCHIP_WRITE
 567:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2613              		.loc 1 567 0
 2614 00bc 98E0     		b	.L181
 2615              	.L177:
 568:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_DESTIP:
 569:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_DIPR(sn, (uint8_t*)arg);
 2616              		.loc 1 569 0
 2617 00be FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2618 00c0 9B00     		lsls	r3, r3, #2
 2619 00c2 0133     		adds	r3, r3, #1
 2620 00c4 DB00     		lsls	r3, r3, #3
 2621 00c6 03F54063 		add	r3, r3, #3072
 2622 00ca 1846     		mov	r0, r3
 2623 00cc 3968     		ldr	r1, [r7]
 2624 00ce 0422     		movs	r2, #4
 2625 00d0 FFF7FEFF 		bl	WIZCHIP_WRITE_BUF
 570:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2626              		.loc 1 570 0
 2627 00d4 8CE0     		b	.L181
 2628              	.L178:
 571:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_DESTPORT:
 572:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_DPORT(sn, *(uint16_t*)arg);
 2629              		.loc 1 572 0
 2630 00d6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2631 00d8 9B00     		lsls	r3, r3, #2
 2632 00da 0133     		adds	r3, r3, #1
 2633 00dc DB00     		lsls	r3, r3, #3
 2634 00de 03F58053 		add	r3, r3, #4096
 2635 00e2 1A46     		mov	r2, r3
 2636 00e4 3B68     		ldr	r3, [r7]
 2637 00e6 1B88     		ldrh	r3, [r3]
 2638 00e8 1B0A     		lsrs	r3, r3, #8
 2639 00ea 9BB2     		uxth	r3, r3
 2640 00ec DBB2     		uxtb	r3, r3
 2641 00ee 1046     		mov	r0, r2
 2642 00f0 1946     		mov	r1, r3
 2643 00f2 FFF7FEFF 		bl	WIZCHIP_WRITE
 2644 00f6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2645 00f8 9B00     		lsls	r3, r3, #2
 2646 00fa 0133     		adds	r3, r3, #1
 2647 00fc DB00     		lsls	r3, r3, #3
 2648 00fe 03F58853 		add	r3, r3, #4352
 2649 0102 1A46     		mov	r2, r3
 2650 0104 3B68     		ldr	r3, [r7]
 2651 0106 1B88     		ldrh	r3, [r3]
 2652 0108 DBB2     		uxtb	r3, r3
 2653 010a 1046     		mov	r0, r2
 2654 010c 1946     		mov	r1, r3
 2655 010e FFF7FEFF 		bl	WIZCHIP_WRITE
 573:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2656              		.loc 1 573 0
 2657 0112 6DE0     		b	.L181
 2658              	.L179:
 574:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #if _WIZCHIP_ != 5100
 575:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_KEEPALIVESEND:
 576:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          CHECK_SOCKMODE(Sn_MR_TCP);
 2659              		.loc 1 576 0
 2660 0114 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2661 0116 9B00     		lsls	r3, r3, #2
 2662 0118 0133     		adds	r3, r3, #1
 2663 011a DB00     		lsls	r3, r3, #3
 2664 011c 1846     		mov	r0, r3
 2665 011e FFF7FEFF 		bl	WIZCHIP_READ
 2666 0122 0346     		mov	r3, r0
 2667 0124 03F00F03 		and	r3, r3, #15
 2668 0128 012B     		cmp	r3, #1
 2669 012a 01D0     		beq	.L182
 2670              		.loc 1 576 0 is_stmt 0 discriminator 1
 2671 012c FB23     		movs	r3, #251
 2672 012e 60E0     		b	.L171
 2673              	.L182:
 577:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          #if _WIZCHIP_ > 5200
 578:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             if(getSn_KPALVTR(sn) != 0) return SOCKERR_SOCKOPT;
 2674              		.loc 1 578 0 is_stmt 1
 2675 0130 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2676 0132 9B00     		lsls	r3, r3, #2
 2677 0134 0133     		adds	r3, r3, #1
 2678 0136 DB00     		lsls	r3, r3, #3
 2679 0138 03F53C53 		add	r3, r3, #12032
 2680 013c 1846     		mov	r0, r3
 2681 013e FFF7FEFF 		bl	WIZCHIP_READ
 2682 0142 0346     		mov	r3, r0
 2683 0144 002B     		cmp	r3, #0
 2684 0146 01D0     		beq	.L183
 2685              		.loc 1 578 0 is_stmt 0 discriminator 1
 2686 0148 FE23     		movs	r3, #254
 2687 014a 52E0     		b	.L171
 2688              	.L183:
 579:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          #endif
 580:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             setSn_CR(sn,Sn_CR_SEND_KEEP);
 2689              		.loc 1 580 0 is_stmt 1
 2690 014c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2691 014e 9B00     		lsls	r3, r3, #2
 2692 0150 0133     		adds	r3, r3, #1
 2693 0152 DB00     		lsls	r3, r3, #3
 2694 0154 03F58073 		add	r3, r3, #256
 2695 0158 1846     		mov	r0, r3
 2696 015a 2221     		movs	r1, #34
 2697 015c FFF7FEFF 		bl	WIZCHIP_WRITE
 581:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             while((tmp = getSn_CR(sn)) != 0)
 2698              		.loc 1 581 0
 2699 0160 19E0     		b	.L184
 2700              	.L185:
 582:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             {
 583:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          		if (getSn_IR(sn) & Sn_IR_TIMEOUT)
 2701              		.loc 1 583 0
 2702 0162 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2703 0164 9B00     		lsls	r3, r3, #2
 2704 0166 0133     		adds	r3, r3, #1
 2705 0168 DB00     		lsls	r3, r3, #3
 2706 016a 03F50073 		add	r3, r3, #512
 2707 016e 1846     		mov	r0, r3
 2708 0170 FFF7FEFF 		bl	WIZCHIP_READ
 2709 0174 0346     		mov	r3, r0
 2710 0176 03F00803 		and	r3, r3, #8
 2711 017a 002B     		cmp	r3, #0
 2712 017c 0BD0     		beq	.L184
 584:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          		{
 585:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          			setSn_IR(sn, Sn_IR_TIMEOUT);
 2713              		.loc 1 585 0
 2714 017e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2715 0180 9B00     		lsls	r3, r3, #2
 2716 0182 0133     		adds	r3, r3, #1
 2717 0184 DB00     		lsls	r3, r3, #3
 2718 0186 03F50073 		add	r3, r3, #512
 2719 018a 1846     		mov	r0, r3
 2720 018c 0821     		movs	r1, #8
 2721 018e FFF7FEFF 		bl	WIZCHIP_WRITE
 586:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****                   return SOCKERR_TIMEOUT;
 2722              		.loc 1 586 0
 2723 0192 F323     		movs	r3, #243
 2724 0194 2DE0     		b	.L171
 2725              	.L184:
 581:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             {
 2726              		.loc 1 581 0
 2727 0196 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2728 0198 9B00     		lsls	r3, r3, #2
 2729 019a 0133     		adds	r3, r3, #1
 2730 019c DB00     		lsls	r3, r3, #3
 2731 019e 03F58073 		add	r3, r3, #256
 2732 01a2 1846     		mov	r0, r3
 2733 01a4 FFF7FEFF 		bl	WIZCHIP_READ
 2734 01a8 0346     		mov	r3, r0
 2735 01aa FB73     		strb	r3, [r7, #15]
 2736 01ac FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2737 01ae 002B     		cmp	r3, #0
 2738 01b0 D7D1     		bne	.L185
 587:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          		}
 588:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             }
 589:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2739              		.loc 1 589 0
 2740 01b2 1DE0     		b	.L181
 2741              	.L180:
 590:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if _WIZCHIP_ > 5200
 591:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_KEEPALIVEAUTO:
 592:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          CHECK_SOCKMODE(Sn_MR_TCP);
 2742              		.loc 1 592 0
 2743 01b4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2744 01b6 9B00     		lsls	r3, r3, #2
 2745 01b8 0133     		adds	r3, r3, #1
 2746 01ba DB00     		lsls	r3, r3, #3
 2747 01bc 1846     		mov	r0, r3
 2748 01be FFF7FEFF 		bl	WIZCHIP_READ
 2749 01c2 0346     		mov	r3, r0
 2750 01c4 03F00F03 		and	r3, r3, #15
 2751 01c8 012B     		cmp	r3, #1
 2752 01ca 01D0     		beq	.L186
 2753              		.loc 1 592 0 is_stmt 0 discriminator 1
 2754 01cc FB23     		movs	r3, #251
 2755 01ce 10E0     		b	.L171
 2756              	.L186:
 593:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          setSn_KPALVTR(sn,*(uint8_t*)arg);
 2757              		.loc 1 593 0 is_stmt 1
 2758 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2759 01d2 9B00     		lsls	r3, r3, #2
 2760 01d4 0133     		adds	r3, r3, #1
 2761 01d6 DB00     		lsls	r3, r3, #3
 2762 01d8 03F53C53 		add	r3, r3, #12032
 2763 01dc 1A46     		mov	r2, r3
 2764 01de 3B68     		ldr	r3, [r7]
 2765 01e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2766 01e2 1046     		mov	r0, r2
 2767 01e4 1946     		mov	r1, r3
 2768 01e6 FFF7FEFF 		bl	WIZCHIP_WRITE
 594:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2769              		.loc 1 594 0
 2770 01ea 01E0     		b	.L181
 2771              	.L172:
 595:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif      
 596:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** #endif   
 597:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default:
 598:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_ARG;
 2772              		.loc 1 598 0
 2773 01ec F623     		movs	r3, #246
 2774 01ee 00E0     		b	.L171
 2775              	.L181:
 599:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }   
 600:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return SOCK_OK;
 2776              		.loc 1 600 0
 2777 01f0 0123     		movs	r3, #1
 2778              	.L171:
 2779 01f2 5BB2     		sxtb	r3, r3
 601:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 2780              		.loc 1 601 0
 2781 01f4 1846     		mov	r0, r3
 2782 01f6 1037     		adds	r7, r7, #16
 2783              		.cfi_def_cfa_offset 8
 2784 01f8 BD46     		mov	sp, r7
 2785              		.cfi_def_cfa_register 13
 2786              		@ sp needed
 2787 01fa 80BD     		pop	{r7, pc}
 2788              		.cfi_endproc
 2789              	.LFE10:
 2791              		.section	.text.getsockopt,"ax",%progbits
 2792              		.align	2
 2793              		.global	getsockopt
 2794              		.thumb
 2795              		.thumb_func
 2797              	getsockopt:
 2798              	.LFB11:
 602:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** 
 603:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** int8_t  getsockopt(uint8_t sn, sockopt_type sotype, void* arg)
 604:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** {
 2799              		.loc 1 604 0
 2800              		.cfi_startproc
 2801              		@ args = 0, pretend = 0, frame = 8
 2802              		@ frame_needed = 1, uses_anonymous_args = 0
 2803 0000 90B5     		push	{r4, r7, lr}
 2804              		.cfi_def_cfa_offset 12
 2805              		.cfi_offset 4, -12
 2806              		.cfi_offset 7, -8
 2807              		.cfi_offset 14, -4
 2808 0002 83B0     		sub	sp, sp, #12
 2809              		.cfi_def_cfa_offset 24
 2810 0004 00AF     		add	r7, sp, #0
 2811              		.cfi_def_cfa_register 7
 2812 0006 0346     		mov	r3, r0
 2813 0008 3A60     		str	r2, [r7]
 2814 000a FB71     		strb	r3, [r7, #7]
 2815 000c 0B46     		mov	r3, r1
 2816 000e BB71     		strb	r3, [r7, #6]
 605:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    CHECK_SOCKNUM();
 2817              		.loc 1 605 0
 2818 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2819 0012 082B     		cmp	r3, #8
 2820 0014 01D9     		bls	.L188
 2821              		.loc 1 605 0 is_stmt 0 discriminator 1
 2822 0016 FF23     		movs	r3, #255
 2823 0018 F4E0     		b	.L189
 2824              	.L188:
 606:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    switch(sotype)
 2825              		.loc 1 606 0 is_stmt 1
 2826 001a BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 2827 001c 0C2B     		cmp	r3, #12
 2828 001e 00F2EE80 		bhi	.L190
 2829 0022 01A2     		adr	r2, .L192
 2830 0024 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2831              		.p2align 2
 2832              	.L192:
 2833 0028 5D000000 		.word	.L191+1
 2834 002c 79000000 		.word	.L193+1
 2835 0030 95000000 		.word	.L194+1
 2836 0034 B1000000 		.word	.L195+1
 2837 0038 DD000000 		.word	.L196+1
 2838 003c F5000000 		.word	.L197+1
 2839 0040 FF010000 		.word	.L190+1
 2840 0044 2F010000 		.word	.L198+1
 2841 0048 67010000 		.word	.L199+1
 2842 004c 77010000 		.word	.L200+1
 2843 0050 87010000 		.word	.L201+1
 2844 0054 A3010000 		.word	.L202+1
 2845 0058 D7010000 		.word	.L203+1
 2846              		.p2align 1
 2847              	.L191:
 607:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    {
 608:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_FLAG:
 609:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint8_t*)arg = getSn_MR(sn) & 0xF0;
 2848              		.loc 1 609 0
 2849 005c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2850 005e 9B00     		lsls	r3, r3, #2
 2851 0060 0133     		adds	r3, r3, #1
 2852 0062 DB00     		lsls	r3, r3, #3
 2853 0064 1846     		mov	r0, r3
 2854 0066 FFF7FEFF 		bl	WIZCHIP_READ
 2855 006a 0346     		mov	r3, r0
 2856 006c 23F00F03 		bic	r3, r3, #15
 2857 0070 DAB2     		uxtb	r2, r3
 2858 0072 3B68     		ldr	r3, [r7]
 2859 0074 1A70     		strb	r2, [r3]
 610:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2860              		.loc 1 610 0
 2861 0076 C4E0     		b	.L204
 2862              	.L193:
 611:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_TTL:
 612:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint8_t*) arg = getSn_TTL(sn);
 2863              		.loc 1 612 0
 2864 0078 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2865 007a 9B00     		lsls	r3, r3, #2
 2866 007c 0133     		adds	r3, r3, #1
 2867 007e DB00     		lsls	r3, r3, #3
 2868 0080 03F5B053 		add	r3, r3, #5632
 2869 0084 1846     		mov	r0, r3
 2870 0086 FFF7FEFF 		bl	WIZCHIP_READ
 2871 008a 0346     		mov	r3, r0
 2872 008c 1A46     		mov	r2, r3
 2873 008e 3B68     		ldr	r3, [r7]
 2874 0090 1A70     		strb	r2, [r3]
 613:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2875              		.loc 1 613 0
 2876 0092 B6E0     		b	.L204
 2877              	.L194:
 614:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_TOS:
 615:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint8_t*) arg = getSn_TOS(sn);
 2878              		.loc 1 615 0
 2879 0094 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2880 0096 9B00     		lsls	r3, r3, #2
 2881 0098 0133     		adds	r3, r3, #1
 2882 009a DB00     		lsls	r3, r3, #3
 2883 009c 03F5A853 		add	r3, r3, #5376
 2884 00a0 1846     		mov	r0, r3
 2885 00a2 FFF7FEFF 		bl	WIZCHIP_READ
 2886 00a6 0346     		mov	r3, r0
 2887 00a8 1A46     		mov	r2, r3
 2888 00aa 3B68     		ldr	r3, [r7]
 2889 00ac 1A70     		strb	r2, [r3]
 616:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2890              		.loc 1 616 0
 2891 00ae A8E0     		b	.L204
 2892              	.L195:
 617:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_MSS:   
 618:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint8_t*) arg = getSn_MSSR(sn);
 2893              		.loc 1 618 0
 2894 00b0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2895 00b2 9B00     		lsls	r3, r3, #2
 2896 00b4 0133     		adds	r3, r3, #1
 2897 00b6 DB00     		lsls	r3, r3, #3
 2898 00b8 03F59053 		add	r3, r3, #4608
 2899 00bc 1846     		mov	r0, r3
 2900 00be FFF7FEFF 		bl	WIZCHIP_READ
 2901 00c2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2902 00c4 9B00     		lsls	r3, r3, #2
 2903 00c6 0133     		adds	r3, r3, #1
 2904 00c8 DB00     		lsls	r3, r3, #3
 2905 00ca 03F59853 		add	r3, r3, #4864
 2906 00ce 1846     		mov	r0, r3
 2907 00d0 FFF7FEFF 		bl	WIZCHIP_READ
 2908 00d4 0346     		mov	r3, r0
 2909 00d6 1A46     		mov	r2, r3
 2910 00d8 3B68     		ldr	r3, [r7]
 2911 00da 1A70     		strb	r2, [r3]
 2912              	.L196:
 619:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_DESTIP:
 620:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          getSn_DIPR(sn, (uint8_t*)arg);
 2913              		.loc 1 620 0
 2914 00dc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2915 00de 9B00     		lsls	r3, r3, #2
 2916 00e0 0133     		adds	r3, r3, #1
 2917 00e2 DB00     		lsls	r3, r3, #3
 2918 00e4 03F54063 		add	r3, r3, #3072
 2919 00e8 1846     		mov	r0, r3
 2920 00ea 3968     		ldr	r1, [r7]
 2921 00ec 0422     		movs	r2, #4
 2922 00ee FFF7FEFF 		bl	WIZCHIP_READ_BUF
 621:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2923              		.loc 1 621 0
 2924 00f2 86E0     		b	.L204
 2925              	.L197:
 622:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_DESTPORT:  
 623:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_DPORT(sn);
 2926              		.loc 1 623 0
 2927 00f4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2928 00f6 9B00     		lsls	r3, r3, #2
 2929 00f8 0133     		adds	r3, r3, #1
 2930 00fa DB00     		lsls	r3, r3, #3
 2931 00fc 03F58053 		add	r3, r3, #4096
 2932 0100 1846     		mov	r0, r3
 2933 0102 FFF7FEFF 		bl	WIZCHIP_READ
 2934 0106 0346     		mov	r3, r0
 2935 0108 9BB2     		uxth	r3, r3
 2936 010a 1B02     		lsls	r3, r3, #8
 2937 010c 9CB2     		uxth	r4, r3
 2938 010e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2939 0110 9B00     		lsls	r3, r3, #2
 2940 0112 0133     		adds	r3, r3, #1
 2941 0114 DB00     		lsls	r3, r3, #3
 2942 0116 03F58853 		add	r3, r3, #4352
 2943 011a 1846     		mov	r0, r3
 2944 011c FFF7FEFF 		bl	WIZCHIP_READ
 2945 0120 0346     		mov	r3, r0
 2946 0122 9BB2     		uxth	r3, r3
 2947 0124 2344     		add	r3, r3, r4
 2948 0126 9AB2     		uxth	r2, r3
 2949 0128 3B68     		ldr	r3, [r7]
 2950 012a 1A80     		strh	r2, [r3]	@ movhi
 624:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2951              		.loc 1 624 0
 2952 012c 69E0     		b	.L204
 2953              	.L198:
 625:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #if _WIZCHIP_ > 5200   
 626:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_KEEPALIVEAUTO:
 627:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          CHECK_SOCKMODE(Sn_MR_TCP);
 2954              		.loc 1 627 0
 2955 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2956 0130 9B00     		lsls	r3, r3, #2
 2957 0132 0133     		adds	r3, r3, #1
 2958 0134 DB00     		lsls	r3, r3, #3
 2959 0136 1846     		mov	r0, r3
 2960 0138 FFF7FEFF 		bl	WIZCHIP_READ
 2961 013c 0346     		mov	r3, r0
 2962 013e 03F00F03 		and	r3, r3, #15
 2963 0142 012B     		cmp	r3, #1
 2964 0144 01D0     		beq	.L205
 2965              		.loc 1 627 0 is_stmt 0 discriminator 1
 2966 0146 FB23     		movs	r3, #251
 2967 0148 5CE0     		b	.L189
 2968              	.L205:
 628:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_KPALVTR(sn);
 2969              		.loc 1 628 0 is_stmt 1
 2970 014a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2971 014c 9B00     		lsls	r3, r3, #2
 2972 014e 0133     		adds	r3, r3, #1
 2973 0150 DB00     		lsls	r3, r3, #3
 2974 0152 03F53C53 		add	r3, r3, #12032
 2975 0156 1846     		mov	r0, r3
 2976 0158 FFF7FEFF 		bl	WIZCHIP_READ
 2977 015c 0346     		mov	r3, r0
 2978 015e 9AB2     		uxth	r2, r3
 2979 0160 3B68     		ldr	r3, [r7]
 2980 0162 1A80     		strh	r2, [r3]	@ movhi
 629:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 2981              		.loc 1 629 0
 2982 0164 4DE0     		b	.L204
 2983              	.L199:
 630:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    #endif      
 631:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_SENDBUF:
 632:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_TX_FSR(sn);
 2984              		.loc 1 632 0
 2985 0166 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2986 0168 1846     		mov	r0, r3
 2987 016a FFF7FEFF 		bl	getSn_TX_FSR
 2988 016e 0346     		mov	r3, r0
 2989 0170 1A46     		mov	r2, r3
 2990 0172 3B68     		ldr	r3, [r7]
 2991 0174 1A80     		strh	r2, [r3]	@ movhi
 2992              	.L200:
 633:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_RECVBUF:
 634:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint16_t*) arg = getSn_RX_RSR(sn);
 2993              		.loc 1 634 0
 2994 0176 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2995 0178 1846     		mov	r0, r3
 2996 017a FFF7FEFF 		bl	getSn_RX_RSR
 2997 017e 0346     		mov	r3, r0
 2998 0180 1A46     		mov	r2, r3
 2999 0182 3B68     		ldr	r3, [r7]
 3000 0184 1A80     		strh	r2, [r3]	@ movhi
 3001              	.L201:
 635:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_STATUS:
 636:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint8_t*) arg = getSn_SR(sn);
 3002              		.loc 1 636 0
 3003 0186 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3004 0188 9B00     		lsls	r3, r3, #2
 3005 018a 0133     		adds	r3, r3, #1
 3006 018c DB00     		lsls	r3, r3, #3
 3007 018e 03F54073 		add	r3, r3, #768
 3008 0192 1846     		mov	r0, r3
 3009 0194 FFF7FEFF 		bl	WIZCHIP_READ
 3010 0198 0346     		mov	r3, r0
 3011 019a 1A46     		mov	r2, r3
 3012 019c 3B68     		ldr	r3, [r7]
 3013 019e 1A70     		strb	r2, [r3]
 637:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 3014              		.loc 1 637 0
 3015 01a0 2FE0     		b	.L204
 3016              	.L202:
 638:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_REMAINSIZE:
 639:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          if(getSn_MR(sn) == Sn_MR_TCP)
 3017              		.loc 1 639 0
 3018 01a2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3019 01a4 9B00     		lsls	r3, r3, #2
 3020 01a6 0133     		adds	r3, r3, #1
 3021 01a8 DB00     		lsls	r3, r3, #3
 3022 01aa 1846     		mov	r0, r3
 3023 01ac FFF7FEFF 		bl	WIZCHIP_READ
 3024 01b0 0346     		mov	r3, r0
 3025 01b2 012B     		cmp	r3, #1
 3026 01b4 08D1     		bne	.L206
 640:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             *(uint16_t*)arg = getSn_RX_RSR(sn);
 3027              		.loc 1 640 0
 3028 01b6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3029 01b8 1846     		mov	r0, r3
 3030 01ba FFF7FEFF 		bl	getSn_RX_RSR
 3031 01be 0346     		mov	r3, r0
 3032 01c0 1A46     		mov	r2, r3
 3033 01c2 3B68     		ldr	r3, [r7]
 3034 01c4 1A80     		strh	r2, [r3]	@ movhi
 641:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          else
 642:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****             *(uint16_t*)arg = sock_remained_size[sn];
 643:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 3035              		.loc 1 643 0
 3036 01c6 1CE0     		b	.L204
 3037              	.L206:
 642:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 3038              		.loc 1 642 0
 3039 01c8 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3040 01ca 114A     		ldr	r2, .L209
 3041 01cc 32F81320 		ldrh	r2, [r2, r3, lsl #1]
 3042 01d0 3B68     		ldr	r3, [r7]
 3043 01d2 1A80     		strh	r2, [r3]	@ movhi
 3044              		.loc 1 643 0
 3045 01d4 15E0     		b	.L204
 3046              	.L203:
 644:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       case SO_PACKINFO:
 645:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          CHECK_SOCKMODE(Sn_MR_TCP);
 3047              		.loc 1 645 0
 3048 01d6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3049 01d8 9B00     		lsls	r3, r3, #2
 3050 01da 0133     		adds	r3, r3, #1
 3051 01dc DB00     		lsls	r3, r3, #3
 3052 01de 1846     		mov	r0, r3
 3053 01e0 FFF7FEFF 		bl	WIZCHIP_READ
 3054 01e4 0346     		mov	r3, r0
 3055 01e6 03F00F03 		and	r3, r3, #15
 3056 01ea 012B     		cmp	r3, #1
 3057 01ec 01D0     		beq	.L208
 3058              		.loc 1 645 0 is_stmt 0 discriminator 1
 3059 01ee FB23     		movs	r3, #251
 3060 01f0 08E0     		b	.L189
 3061              	.L208:
 646:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          *(uint8_t*)arg = sock_pack_info[sn];
 3062              		.loc 1 646 0 is_stmt 1
 3063 01f2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3064 01f4 074A     		ldr	r2, .L209+4
 3065 01f6 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 3066 01f8 3B68     		ldr	r3, [r7]
 3067 01fa 1A70     		strb	r2, [r3]
 647:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          break;
 3068              		.loc 1 647 0
 3069 01fc 01E0     		b	.L204
 3070              	.L190:
 648:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****       default:
 649:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****          return SOCKERR_SOCKOPT;
 3071              		.loc 1 649 0
 3072 01fe FE23     		movs	r3, #254
 3073 0200 00E0     		b	.L189
 3074              	.L204:
 650:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    }
 651:/home/virusv/TDSAST_IOT/Ethernet/socket.c ****    return SOCK_OK;
 3075              		.loc 1 651 0
 3076 0202 0123     		movs	r3, #1
 3077              	.L189:
 3078 0204 5BB2     		sxtb	r3, r3
 652:/home/virusv/TDSAST_IOT/Ethernet/socket.c **** }
 3079              		.loc 1 652 0
 3080 0206 1846     		mov	r0, r3
 3081 0208 0C37     		adds	r7, r7, #12
 3082              		.cfi_def_cfa_offset 12
 3083 020a BD46     		mov	sp, r7
 3084              		.cfi_def_cfa_register 13
 3085              		@ sp needed
 3086 020c 90BD     		pop	{r4, r7, pc}
 3087              	.L210:
 3088 020e 00BF     		.align	2
 3089              	.L209:
 3090 0210 00000000 		.word	sock_remained_size
 3091 0214 00000000 		.word	sock_pack_info
 3092              		.cfi_endproc
 3093              	.LFE11:
 3095              		.text
 3096              	.Letext0:
 3097              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 3098              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 3099              		.file 4 "/home/virusv/TDSAST_IOT/Ethernet/socket.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 socket.c
     /tmp/ccnWFE9F.s:19     .data.sock_any_port:0000000000000000 $d
     /tmp/ccnWFE9F.s:22     .data.sock_any_port:0000000000000000 sock_any_port
     /tmp/ccnWFE9F.s:25     .bss.sock_io_mode:0000000000000000 $d
     /tmp/ccnWFE9F.s:28     .bss.sock_io_mode:0000000000000000 sock_io_mode
     /tmp/ccnWFE9F.s:31     .bss.sock_is_sending:0000000000000000 $d
     /tmp/ccnWFE9F.s:34     .bss.sock_is_sending:0000000000000000 sock_is_sending
     /tmp/ccnWFE9F.s:37     .bss.sock_remained_size:0000000000000000 $d
     /tmp/ccnWFE9F.s:40     .bss.sock_remained_size:0000000000000000 sock_remained_size
     /tmp/ccnWFE9F.s:43     .bss.sock_pack_info:0000000000000000 $d
     /tmp/ccnWFE9F.s:46     .bss.sock_pack_info:0000000000000000 sock_pack_info
     /tmp/ccnWFE9F.s:49     .text.socket:0000000000000000 $t
     /tmp/ccnWFE9F.s:54     .text.socket:0000000000000000 socket
     /tmp/ccnWFE9F.s:358    .text.close:0000000000000000 close
     /tmp/ccnWFE9F.s:344    .text.socket:00000000000001e4 $d
     /tmp/ccnWFE9F.s:353    .text.close:0000000000000000 $t
     /tmp/ccnWFE9F.s:468    .text.close:00000000000000ac $d
     /tmp/ccnWFE9F.s:475    .text.listen:0000000000000000 $t
     /tmp/ccnWFE9F.s:480    .text.listen:0000000000000000 listen
     /tmp/ccnWFE9F.s:606    .text.connect:0000000000000000 $t
     /tmp/ccnWFE9F.s:611    .text.connect:0000000000000000 connect
     /tmp/ccnWFE9F.s:816    .text.connect:0000000000000160 $d
     /tmp/ccnWFE9F.s:821    .text.disconnect:0000000000000000 $t
     /tmp/ccnWFE9F.s:826    .text.disconnect:0000000000000000 disconnect
     /tmp/ccnWFE9F.s:965    .text.disconnect:00000000000000e4 $d
     /tmp/ccnWFE9F.s:971    .text.send:0000000000000000 $t
     /tmp/ccnWFE9F.s:976    .text.send:0000000000000000 send
     /tmp/ccnWFE9F.s:1259   .text.send:00000000000001ec $d
     /tmp/ccnWFE9F.s:1265   .text.recv:0000000000000000 $t
     /tmp/ccnWFE9F.s:1270   .text.recv:0000000000000000 recv
     /tmp/ccnWFE9F.s:1490   .text.recv:0000000000000168 $d
     /tmp/ccnWFE9F.s:1495   .text.sendto:0000000000000000 $t
     /tmp/ccnWFE9F.s:1500   .text.sendto:0000000000000000 sendto
     /tmp/ccnWFE9F.s:1798   .text.sendto:000000000000020c $d
     /tmp/ccnWFE9F.s:1803   .text.recvfrom:0000000000000000 $t
     /tmp/ccnWFE9F.s:1808   .text.recvfrom:0000000000000000 recvfrom
     /tmp/ccnWFE9F.s:2241   .text.recvfrom:00000000000002f8 $d
     /tmp/ccnWFE9F.s:2248   .text.ctlsocket:0000000000000000 $t
     /tmp/ccnWFE9F.s:2253   .text.ctlsocket:0000000000000000 ctlsocket
     /tmp/ccnWFE9F.s:2291   .text.ctlsocket:000000000000002c $d
     /tmp/ccnWFE9F.s:2299   .text.ctlsocket:000000000000004c $t
     /tmp/ccnWFE9F.s:2501   .text.ctlsocket:00000000000001a4 $d
     /tmp/ccnWFE9F.s:2506   .text.setsockopt:0000000000000000 $t
     /tmp/ccnWFE9F.s:2511   .text.setsockopt:0000000000000000 setsockopt
     /tmp/ccnWFE9F.s:2547   .text.setsockopt:000000000000002c $d
     /tmp/ccnWFE9F.s:2554   .text.setsockopt:0000000000000048 $t
     /tmp/ccnWFE9F.s:2792   .text.getsockopt:0000000000000000 $t
     /tmp/ccnWFE9F.s:2797   .text.getsockopt:0000000000000000 getsockopt
     /tmp/ccnWFE9F.s:2833   .text.getsockopt:0000000000000028 $d
     /tmp/ccnWFE9F.s:2846   .text.getsockopt:000000000000005c $t
     /tmp/ccnWFE9F.s:3090   .text.getsockopt:0000000000000210 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
WIZCHIP_WRITE
WIZCHIP_READ
WIZCHIP_WRITE_BUF
getSn_TX_FSR
wiz_send_data
getSn_RX_RSR
wiz_recv_data
wiz_recv_ignore
WIZCHIP_READ_BUF
